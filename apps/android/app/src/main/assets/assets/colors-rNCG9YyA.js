var a=Object.defineProperty,e=Object.defineProperties,r=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,c=(e,r,t)=>r in e?a(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,i=(a,e)=>{for(var r in e||(e={}))n.call(e,r)&&c(a,r,e[r]);if(t)for(var r of t(e))o.call(e,r)&&c(a,r,e[r]);return a},l=(a,t)=>e(a,r(t)),s=(a,e)=>{var r={};for(var c in a)n.call(a,c)&&e.indexOf(c)<0&&(r[c]=a[c]);if(null!=a&&t)for(var c of t(a))e.indexOf(c)<0&&o.call(a,c)&&(r[c]=a[c]);return r};import{y as _,j as u,ac as b,c as f,R as v,v as d,a0 as k,a1 as m,h as p,K as h,N as y,p as S,U as g,B as N,an as O,ao as q,ap as j}from"./index-XyJYIhAT.js";const A="_Snackbar__body_h9p43_1",C="_Snackbar--mode-dark_h9p43_12",w="_Snackbar__before_h9p43_16",x="_Snackbar__after_h9p43_21",z="_Snackbar__content_h9p43_26",P="_Snackbar__content-text_h9p43_38",R="_Snackbar__content-subtitle_h9p43_48",E="_Snackbar__action_h9p43_58",F={vertical:"_Snackbar--layout-vertical_h9p43_33",horizontal:"_Snackbar--layout-horizontal_h9p43_58"};function B(a){var e=a,{layout:r="horizontal",action:t,after:n,before:o,mode:c,subtitle:l,children:d}=e,k=s(e,["layout","action","after","before","mode","subtitle","children"]);return _(v,i({baseClassName:f(A,F[n||l?"vertical":r],"dark"===c&&C)},k),o&&_("div",{className:w},o),_("div",{className:z},_(u,{className:P},d),l&&!t&&_(b,{className:R},l),t&&!l&&_("div",{className:E},t)),n&&_("div",{className:x},n))}const L="_Snackbar_16viq_1",T="_Snackbar__in_16viq_33",D="_Snackbar__snackbar_16viq_34",M="_Snackbar--closing_16viq_43",W="_Snackbar--ios_16viq_54",X="_Snackbar--desktop_16viq_63",Y="_Snackbar--touched_16viq_82",I=a=>{var e=a,{children:r,layout:t="horizontal",action:n,before:o,after:c,duration:u=4e3,onActionClick:b,onClose:A,mode:C="default",subtitle:w,offsetY:x,style:z}=e,P=s(e,["children","layout","action","before","after","duration","onActionClick","onClose","mode","subtitle","offsetY","style"]);const R=d(),{viewWidth:E}=k(),F=E>=q.SMALL_TABLET,{waitTransitionFinish:I}=m(),[K,U]=p(!1),[V,$]=p(!1),G=h(0),H=h(0),J=h(null),Q=h(null),Z=h(null),aa="ios"===R?320:400,ea=()=>{U(!0),I(Q.current,(()=>{A()}),aa)},ra=y(ea,u),ta=a=>{null!==Z.current&&cancelAnimationFrame(Z.current),Z.current=requestAnimationFrame((()=>{J.current&&(J.current.style.transform=`translate3d(${a}%, 0, 0)`)}))},na=ra.clear;S((()=>ra.set()),[ra]);const oa=c||F||w?"vertical":t;return _(O,null,_(v,l(i({},P),{baseClassName:f(L,"ios"===R&&W,K&&M,V&&Y,F&&X),style:x?l(i({},z),{bottom:x}):z}),_(g,{className:T,getRootRef:Q,onStart:na,onMoveX:a=>{var e,r;const{shiftX:t,originalEvent:n}=a;n.preventDefault(),V||$(!0),G.current=t/(null!=(r=null==(e=J.current)?void 0:e.offsetWidth)?r:0)*100,H.current=j(G.current,72,1.2,"ios"!==R),ta(H.current)},onEnd:a=>{let e;if(V){let r=H.current;r+=r/a.duration*240*.6,F&&r<=-50?(ra.clear(),I(J.current,(()=>{A()}),aa),ta(-120)):!F&&r>=50?(ra.clear(),I(J.current,(()=>{A()}),aa),ta(120)):e=()=>{ra.set(),ta(0)}}else ra.set();$(!1),e&&requestAnimationFrame(e)}},_(B,{className:D,getRootRef:J,layout:oa,mode:C,before:o,subtitle:w,action:n&&_(N,{align:"left",mode:"link",appearance:"dark"===C?"overlay":"accent",size:"s",onClick:a=>{ea(),n&&"function"==typeof b&&b(a)}},n),after:c},r))))};I.Basic=B;const K="var(--vkui--color_icon_negative)",U="var(--vkui--color_background_negative)",V="var(--vkui--color_background_accent)",$="var(--vkui--color_accent_violet)";export{I as S,V,K as a,U as b,$ as c};
