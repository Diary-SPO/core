var r=Object.defineProperty,o=Object.defineProperties,t=Object.getOwnPropertyDescriptors,e=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,i=(o,t,e)=>t in o?r(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,c=(r,o)=>{for(var t in o||(o={}))l.call(o,t)&&i(r,t,o[t]);if(e)for(var t of e(o))n.call(o,t)&&i(r,t,o[t]);return r},a=(r,o)=>{var t={};for(var i in r)l.call(r,i)&&o.indexOf(i)<0&&(t[i]=r[i]);if(null!=r&&e)for(var i of e(r))o.indexOf(i)<0&&n.call(r,i)&&(t[i]=r[i]);return t};import{y as s,t as u,c as d,R as f,k as _,K as h,h as m,z as w,O as z,aj as S,T as p,ay as v,p as g,ag as b}from"./index-XyJYIhAT.js";import{u as A}from"./Avatar-J1FZQEiI.js";import{I as y}from"./chevron_24-u9G6Q-o1.js";const O="_ScrollArrow_1z01z_1",M="_ScrollArrow__icon_1z01z_28",j="_ScrollArrow__defaultIcon_1z01z_74",W={m:"_ScrollArrow--size-m_1z01z_38",l:"_ScrollArrow--size-l_1z01z_44"},D={up:"_ScrollArrow--direction-up_1z01z_22",right:"_ScrollArrow--direction-right_1z01z_17",down:"_ScrollArrow--direction-down_1z01z_23",left:"_ScrollArrow--direction-left_1z01z_16"},E={up:"Назад",right:"Вперед",down:"Вперед",left:"Назад"},H=({size:r})=>{let o=y;return"m"===r&&(o=_),s(o,{className:j})},C=r=>{var o=r,{size:t="l",offsetY:e,direction:l,label:n,children:i=s(H,{size:t})}=o,_=a(o,["size","offsetY","direction","label","children"]);const h=null!=n?n:E[l];return s(f,c({Component:"button",type:"button",baseClassName:d(O,W[t],D[l])},_),h&&s(u,null,h),s("span",{className:M,style:e?{top:e}:void 0},i))};const N="_HorizontalScroll_1ldu6_1",P="_HorizontalScroll__in_1ldu6_12",x="_HorizontalScroll__in-wrapper_1ldu6_27",Y="_HorizontalScroll__arrow_1ldu6_31",L="_HorizontalScroll--withConstArrows_1ldu6_42",R="_HorizontalScroll__arrowLeft_1ldu6_48",T="_HorizontalScroll__arrowRight_1ldu6_52";function I(){return performance&&performance.now?performance.now():Date.now()}function k(r){return r>0?Math.ceil(r):Math.floor(r)}const B=r=>k(r.scrollLeft),Q=250;function q({scrollElement:r,getScrollPosition:o,animationQueue:t,onScrollToEndBorder:e,onScrollEnd:l,onScrollStart:n,initialScrollWidth:i,scrollAnimationDuration:c=Q,textDirection:a}){if(!r||!o)return;const s=("ltr"===a?1:-1)*(i-r.offsetWidth);let u=B(r),d=o(u);n(),u*d<0&&(d=0),Math.abs(d)>=Math.abs(s)&&(e(),d=s);const f=I();!function o(){if(!r)return void l();const e=I(),n=Math.min((e-f)/c,1),i=(s=n,.5*(1-Math.cos(Math.PI*s)));var s;const _=u+(d-u)*i;r.scrollLeft=k(_);const h="ltr"===a?Math.max(0,d):Math.min(0,d);B(r)===h||1===n?(l(),t.shift(),t.length>0&&t[0]()):requestAnimationFrame(o)}()}const F=r=>{var e=r,{children:l,getScrollToLeft:n,getScrollToRight:i,showArrows:u=!0,arrowSize:_="l",arrowOffsetY:y,scrollAnimationDuration:O=Q,getRef:M,scrollOnAnyWheel:j=!1}=e,W=a(e,["children","getScrollToLeft","getScrollToRight","showArrows","arrowSize","arrowOffsetY","scrollAnimationDuration","getRef","scrollOnAnyWheel"]);const[D,E]=m(!1),[H,I]=m(!1),[k,F="ltr"]=function(){const r=h(null),[o,t]=m(void 0),[e,l]=m(void 0),{window:n}=w();return z((()=>{if(!n||!r.current)return;const o=n.getComputedStyle(r.current);t(o.direction),l(o.writingMode)}),[n]),[r,o,e]}(),K="ltr"===F?E:I,X="ltr"===F?I:E,G=h(!1),J=S(M,k),U=h([]),V=A(),Z=p((r=>{const o=J.current;U.current.push((()=>{var t;return q({scrollElement:o,getScrollPosition:r,animationQueue:U.current,onScrollToEndBorder:()=>X(!1),onScrollEnd:()=>G.current=!1,onScrollStart:()=>G.current=!0,initialScrollWidth:(null==(t=null==o?void 0:o.firstElementChild)?void 0:t.scrollWidth)||0,scrollAnimationDuration:O,textDirection:F})})),1===U.current.length&&U.current[0]()}),[J,O,F,X]),$=p((()=>{Z(null!=n?n:r=>r-J.current.offsetWidth)}),[n,Z,J]),rr=p((()=>{Z(null!=i?i:r=>r+J.current.offsetWidth)}),[i,Z,J]),or=p((()=>{if(u&&V&&J.current&&!G.current){const r=J.current;K(0!==r.scrollLeft),X(Math.abs(B(r))+r.offsetWidth<r.scrollWidth)}}),[u,V,J,K,X]),tr=v("scroll",or);g((function(){return J.current?(tr.add(J.current),tr.remove):b}),[tr,J]),g(or,[or,l]);const er=p((r=>{J.current.scrollBy({left:r.deltaX+r.deltaY,behavior:"auto"}),r.preventDefault()}),[J]),lr=v("wheel",er);return g((function(){return J.current&&j?(lr.add(J.current),lr.remove):b}),[lr,J,j]),s(f,(nr=c({},W),ir={baseClassName:d(N,"vkuiInternalHorizontalScroll","always"===u&&L),onMouseEnter:or},o(nr,t(ir))),u&&(V||void 0===V)&&D&&s(C,{"data-testid":void 0,size:_,offsetY:y,direction:"left","aria-hidden":!0,className:d(Y,R),onClick:$}),u&&(V||void 0===V)&&H&&s(C,{"data-testid":void 0,size:_,offsetY:y,direction:"right","aria-hidden":!0,className:d(Y,T),onClick:rr}),s("div",{className:P,ref:J},s("div",{className:x},l)));var nr,ir};export{F as H};
