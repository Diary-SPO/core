var translations_ru,translations_tg;angular.module("app.global.constants",[]).constant("genders",{male:"Male",female:"Female"}).constant("educationForms",{fullTime:"FullTime",partTime:"PartTime",extramural:"Extramural"}).constant("educationBasises",{naturalPerson:"NaturalPerson",legalPerson:"LegalPerson",naturalAndLegalPerson:"NaturalAndLegalPerson",federalBudget:"FederalBudget",federalBudgetContract:"FederalBudgetContract",federalBudgetMilitaryContract:"FederalBudgetMilitaryContract",rfSubjectBudget:"RfSubjectBudget",rfSubjectBudgetContract:"RfSubjectBudgetContract",localBudget:"LocalBudget",localBudgetContract:"LocalBudgetContract",naturalAndLegalPersonContract:"NaturalAndLegalPersonContract",educationCertificate:"EducationCertificate"}).constant("educationDepths",{base:"Base",inDepth:"InDepth"}).constant("baseEducationLevels",{basisGeneral:"BasisGeneral",generalSecondary:"GeneralSecondary",secondaryProfessional:"SecondaryProfessional",withoutBasicGeneral:"WithoutBasicGeneral"}).constant("educationLevels",{basic:"Basic",secondary:"Secondary",vocationalBasic:"VocationalBasic",vocationalSecondary:"VocationalSecondary",incompleteSecondary:"IncompleteSecondary",higherBachelor:"HigherBachelor",higherMagistracy:"HigherMagistracy",higherPostGraduate:"HigherPostGraduate",higherIncomplete:"HigherIncomplete",withoutBasic:"WithoutBasic",beginingProfessional:"BeginingProfessional",secondaryProfessional:"SecondaryProfessional"}).constant("termTypes",{semester:"Semester",trimester:"Trimester",course:"Course"}).constant("examinationStages",{tutorial:"Tutorial",examination:"Examination",retake:"Retake"}).constant("certificationTypes",{preGraduationPractice:"PreGraduationPractice",graduationWork:"GraduationWork",stateExam:"StateExam"}).constant("thematicPlanLessonTypes",{lecture:"Lecture",practice:"Practice",laboratory:"Laboratory",self:"Self",lesson:"Lesson",consultation:"Consultation",seminar:"Seminar",excursion:"Excursion",examination:"Examination",composition:"Composition",businessGame:"BusinessGame",practicalTraining:"PracticalTraining",sportStandarts:"SportStandarts",practicalWork:"PracticalWork"}).constant("relationshipTypes",{mother:"Mother",father:"Father",relative:"Relative",adoptiveParent:"AdoptiveParent",stepparent:"Stepparent",guardian:"Guardian",trustee:"Trustee"}).constant("legalStatus",{autonomous:"Autonomous",stateFinanced:"StateFinanced",stateOwned:"StateOwned",privateOwned:"PrivateOwned"}).constant("classroomTypes",{cabinet:"Cabinet",laboratory:"Laboratory",hall:"Hall",multimediaCabinet:"MultimediaCabinet",computerClass:"ComputerClass",workroom:"Workroom",studio:"Studio",sportsComplex:"SportsComplex",firingField:"FiringField",fitnessComplex:"FitnessComplex",trainingWorkshop:"TrainingWorkshop"}).constant("examinationTypes",{exam:"Exam",differentiatedTest:"DifferentiatedTest",test:"Test",other:"Other",professionalModule:"ProfessionalModule",courseWork:"CourseWork"}).constant("gradingSystems",{byMarks:"ByMarks",byPassFail:"ByPassFail"}).constant("subjectTypes",{regular:"Regular",practicalTraining:"PracticalTraining",internship:"Internship",mdk:"Mdk"}).constant("educationPlanSectionTypes",{regular:"Regular",professionalModule:"ProfessionalModule"}).constant("educationTaskTypes",{lesson:"Lesson",control:"Control",independent:"Independent",laboratory:"Laboratory",slice:"Slice",home:"Home",review:"Review",test:"Test",report:"Report",colloquium:"Colloquium",sportStandarts:"SportStandarts",practicalWork:"PracticalWork"}).constant("decreeTypes",{hire:"Hire",fire:"Fire",appoint:"Appoint",dismiss:"Dismiss",enroll:"Enroll",retire:"Retire",move:"Move",nextTerm:"NextTerm",nextYear:"NextYear",graduate:"Graduate",disband:"Disband"}).constant("enrollmentReasons",{freeEnrollment:"FreeEnrollment",freeEnrollmentFast:"FreeEnrollmentFast",unifiedStateExam:"UnifiedStateExam",unifiedStateExamAndAdditionalExams:"UnifiedStateExamAndAdditionalExams",organizationExams:"OrganizationExams",finalExams:"FinalExams",otherEducationForm:"OtherEducationForm",otherEducationOrganizations:"OtherEducationOrganizations",backFromPrevExpelled:"BackFromPrevExpelled",backFromArmy:"BackFromArmy",otherReasons:"OtherReasons",averageAttestationPoint:"AverageAttestationPoint",averageAttestationPointAndAdditionalExams:"AverageAttestationPointAndAdditionalExams",backFromAcademicVacation:"BackFromAcademicVacation"}).constant("retirementReasons",{transferOnOtherEducationFormInThisOrganization:"TransferOnOtherEducationFormInThisOrganization",transferInOtherEducationOrganizations:"TransferInOtherEducationOrganizations",disease:"Disease",personalDesire:"PersonalDesire",sendDown:"SendDown",sendDownForPoorProgress:"SendDownForPoorProgress",sendDownForFailFinalExams:"SendDownForFailFinalExams",conscription:"Conscription",otherReasons:"OtherReasons",graduation:"Graduation",terminationOfContract:"TerminationOfContract",studentsDeath:"StudentsDeath",academicVacation:"AcademicVacation"}).constant("retirementReasonsWithoutGraduation",{transferOnOtherEducationFormInThisOrganization:"TransferOnOtherEducationFormInThisOrganization",transferInOtherEducationOrganizations:"TransferInOtherEducationOrganizations",disease:"Disease",personalDesire:"PersonalDesire",sendDown:"SendDown",sendDownForPoorProgress:"SendDownForPoorProgress",sendDownForFailFinalExams:"SendDownForFailFinalExams",conscription:"Conscription",otherReasons:"OtherReasons",terminationOfContract:"TerminationOfContract",studentsDeath:"StudentsDeath",academicVacation:"AcademicVacation"}).constant("markRatings",{fail:"Fail",success:"Success",two:"Two",three:"Three",four:"Four",five:"Five"}).constant("absenceTypes",{isLate:"IsLate",isAbsent:"IsAbsent"}).constant("militaryRanks",{conscript:"Conscript",commonSoldier:"CommonSoldier",lanceCorporal:"LanceCorporal",lanceSergeant:"LanceSergeant",sergeant:"Sergeant",staffSergeant:"StaffSergeant",pettyOfficer:"PettyOfficer",ensign:"Ensign",seniorEnsign:"SeniorEnsign",sublieutenant:"Sublieutenant",lieutenant:"Lieutenant",seniorLieutenant:"SeniorLieutenant",captain:"Captain",major:"Major",lieutenantColonel:"LieutenantColonel",colonel:"Colonel",majorGeneral:"MajorGeneral",lieutenantGeneral:"LieutenantGeneral",colonelGeneral:"ColonelGeneral",generalOfTheArmy:"GeneralOfTheArmy",marshal:"Marshal"}).constant("militaryCompositions",{soldiersAndSailors:"SoldiersAndSailors",ensignAndWarrantOfficers:"EnsignAndWarrantOfficers",officersAndMarshals:"OfficersAndMarshals"}).constant("fitnessForMilitaryServices",{fit:"Fit",fitWithSmallLimitations:"FitWithSmallLimitations",limitedlyFit:"LimitedlyFit",temporarilyUnfit:"TemporarilyUnfit",unfit:"Unfit"}).constant("reserveCategories",{firstCategory:"FirstCategory",secondCategory:"SecondCategory"}).constant("groupsOfAccounting",{army:"Army",fleet:"Fleet"}).constant("educationProgramTypes",{vocationalBasic:"VocationalBasic",vocationalBasicExecutives:"VocationalBasicExecutives",vocationalSecondary:"VocationalSecondary",vocationalSecondaryTraining:"VocationalSecondaryTraining",vocationalSecondaryRetraining:"VocationalSecondaryRetraining",vocationalAdditional:"VocationalAdditional"}).constant("specialtyTypes",{vocationalBasic:"VocationalBasic",vocationalBasicExecutives:"VocationalBasicExecutives",vocationalSecondary:"VocationalSecondary",vocationalSecondaryTraining:"VocationalSecondaryTraining",vocationalSecondaryRetraining:"VocationalSecondaryRetraining",vocationalAdditional:"VocationalAdditional"}).constant("positionTypes",{executives:"Executives",teachingStaff:"TeachingStuff",supportStuff:"SupportStuff",serviceStuff:"ServiceStuff"}).constant("academicDegrees",{doctorate:"Doctorate",doctorant:"Doctorant"}).constant("academicTitles",{professor:"Professor",associateProfessor:"AssociateProfessor"}).constant("laborContracts",{employment:"Employment",partTime:"PartTime",work:"Work"}).constant("qualificationCategories",{none:"None",conformity:"Conformity",higher:"Higher",first:"First"}).constant("disabilityGroups",{first:"First",second:"Second",third:"Third",disabledChild:"DisabledChild"}).constant("healthCategories",{hearingLoss:"HearingLoss",sightDisorders:"SightDisorders",speechDisorders:"SpeechDisorders",musculoskeletalDisorders:"MusculoskeletalDisorders",mentalDisorders:"MentalDisorders",intellectualDisability:"IntellectualDisability",autism:"Autism",complexDefects:"ComplexDefects",somaticDefects:"SomaticDefects"}).constant("learningLanguages",{english:"English",french:"French",german:"German"}).constant("organizationStatus",{function:"Function",overhaul:"Overhaul",reconstruction:"Reconstruction",activitiesSuspended:"ActivitiesSuspended",contingentMissing:"ContingentMissing",awaitingOpening:"AwaitingOpening",liquidated:"Liquidated",closed:"Closed",joinToOtherOrg:"JoinToOtherOrg"}).constant("portfolioTypes",{activity:"Activity",project:"Project",outclassActivity:"OutclassActivity",outclassOrganizational:"OutclassOrganizational",outclassNonEducational:"OutclassNonEducational",outclassIndividual:"OutclassIndividual"}).constant("eventTypes",{other:"Other",olympics:"Olympics",contest:"Contest",show:"Show",championshipYamalskills:"ChampionshipYamalskills"}).constant("involvementDegrees",{other:"Other",familiarization:"Familiarization",preGraduationProject:"PreGraduationProject",implOwnProject:"ImplOwnProject"}).constant("participantStatuses",{winner:"Winner",awardee:"Awardee",participant:"Participant"}).constant("eventStatuses",{other:"Other",international:"International",country:"Country",interRegion:"InterRegion",region:"Region",interDistrict:"InterDistrict",district:"District",city:"City",interOrganization:"InterOrganization",organization:"Organization"}).constant("institutionOrganizationTypes",{poo:"Poo",dpo:"Dpo"}).constant("educationDocumentTypes",{certificateSecondary:"CertificateSecondary",certificateBasic:"CertificateBasic",diplomaProf:"DiplomaProf",diplomaBarchelor:"DiplomaBarchelor",diplomaSpecialist:"DiplomaSpecialist",diplomaMaster:"DiplomaMaster",diplomaPostgraduate:"DiplomaPostgraduate",diplomaResidency:"DiplomaResidency",diplomaAssistantship:"DiplomaAssistantship",certificateProfDevelopment:"CertificateProfDevelopment",diplomaProfRetrain:"DiplomaProfRetrain",certificateWorker:"CertificateWorker",certificateDisabilityTrain:"CertificateDisabilityTrain",certificateArt:"CertificateArt",documentOtherEduc:"DocumentOtherEduc",documentOtherTrain:"DocumentOtherTrain",trainingCertificate:"TrainingCertificate",academicCertificate:"AcademicCertificate",diplomaProfBasic:"DiplomaProfBasic",diplomaProfUpper:"DiplomaProfUpper",diplomaProfHonorsBasic:"DiplomaProfHonorsBasic",diplomaProfHonorsUpper:"DiplomaProfHonorsUpper",diplomaProfHonors:"DiplomaProfHonors",diplomaProfPrimary:"DiplomaProfPrimary",diplomaProfPrimaryGoldenMedal:"DiplomaProfPrimaryGoldenMedal",diplomaProfPrimarySilverMedal:"DiplomaProfPrimarySilverMedal",diplomaProfPrimaryHonors:"DiplomaProfPrimaryHonors"}).constant("profDocTypes",{diploma:"Diploma",certificatePostgraduate:"CertificatePostgraduate",certificationOfPassedExams:"CertificationOfPassedExams"}).constant("fileDataCategories",{requestCertification:"RequestCertification",prevCertCopy:"PrevCertCopy",section1:"Section1",section2:"Section2",section3:"Section3",section4:"Section4",agreementOfProcessingPersonalData:"AgreementOfProcessingPersonalData"}).constant("portfolioDocumentTypes",{education:"Education",refresherCourse:"RefresherCourse",profDevelopment:"ProfDevelopment",secondHigher:"SecondHigher",scientificAndMethodological:"ScientificAndMethodological"}).constant("scienceEventStatuses",{municipal:"Municipal",regional:"Regional",federal:"Federal",international:"International"}).constant("participationStatuses",{other:"Other",author:"Author",coauthor:"Coauthor"}).constant("requestStatuses",{draft:"Draft",registered:"Registered",approved:"Approved",refused:"Refused",portfolioConfirmation:"PortfolioConfirmation",dataConfirmed:"DataConfirmed",expertise:"Expertise",portfolioCorrecting:"PortfolioCorrecting",expertiseComplete:"ExpertiseComplete",expertiseAccepted:"ExpertiseAccepted",expertiseReturned:"ExpertiseReturned",gakMeeting:"GakMeeting",categoryAssigned:"CategoryAssigned",categoryRefused:"CategoryRefused",withdrawn:"Withdrawn"}).constant("positionKinds",{main:"Main",additional:"Additional"}).constant("profDocumentTypes",{diploma:"Diploma",certificatePostgraduate:"CertificatePostgraduate",certificationOfPassedExams:"CertificationOfPassedExams"}).constant("educationKinds",{secondProfEducation:"SecondProfEducation",profRetraining:"ProfRetraining",internship:"Internship"}).constant("disabilityCategories",{childhood:"Childhood",trauma:"Trauma",warInjures:"WarInjuries"}).constant("physicalGroups",{basic:"Basic",preparatory:"Preparatory",exempt:"Exempt",lfk:"Lfk",special:"Special"}).constant("identityDocumentTypes",{other:"Other",birthCertificate:"BirthCertificate",rfPassport:"RfPassport",internationalRfPassport:"InternationalRfPassport",officerId:"OfficerId",militaryId:"MilitaryId",temporaryMilitaryId:"TemporaryMilitaryId",temporaryId:"TemporaryId",foreignPassport:"ForeignPassport",idWithoutcitizenship:"IdWithoutcitizenship",idCertainCategories:"IdCertainCategories",refugeeId:"RefugeeId",residencePermit:"ResidencePermit",temporaryResidencePermit:"TemporaryResidencePermit",certificateOfRefugeePetition:"CertificateOfRefugeePetition",certificateOfTemporaryAsylum:"CertificateOfTemporaryAsylum",foreignBirthCertificate:"ForeignBirthCertificate"}).constant("needInHostelTypes",{notNeeded:"NotNeeded",needed:"Needed",live:"Live"}).constant("examinationItemTypes",{scheduleSubject:"ScheduleSubject",profModule:"ProfModule",live:"Live"}).constant("auditTypes",{insert:1,update:2,delete:4,logIn:8,loginEsia:16,logOut:32}).constant("auditSections",{certificationMark:"CertificationMark",professionalModule:"ProfessionalModule",decree:"Decree",attestation:"Attestation",lesson:"Lesson",coursework:"Coursework",authentication:"Authentication",userProfile:"UserProfile",supplementaryEducationCertificate:"SupplementaryEducationCertificate"}).constant("actionTypes",{insert:"Insert",update:"Update",delete:"Delete",logIn:"LogIn",loginEsia:"LoginEsia",logOut:"LogOut"}).constant("certificateStatuses",{frozen:"Frozen",activated:"Activated",notActivated:"NotActivated"}).constant("certificateActualities",{notActual:"NotActual",actual:"Actual",waiting:"Waiting"}).constant("certificateScreenState",{notAllowed:1,notAvailable:2,available:3,onlyParent:4}).constant("factHoursViewType",{bySubject:1,byPeriod:2}).constant("userPreferencePage",{studentList:"StudentList",employeeList:"EmployeeList",retiredStudentList:"RetiredStudentList",expelledStudentList:"ExpelledStudentList",enrolleeList:"EnrolleeList",parentList:"ParentList"}).constant("userPreferenceSetting",{itemCountOnPage:"ItemCountOnPage"}).constant("studentTypes",{student:"Student",expelled:"Expelled",retired:"Retired"}).constant("placeOfDemand",{militaryCommissariat:"MilitaryCommissariat",another:"Another",pensionFund:"PensionFund"}).constant("chatTypes",{teacherChat:"TeacherChat",groupChat:"GroupChat",parentChat:"ParentChat",subjectChat:"SubjectChat"}).constant("formsOfTraining",{inEducationOrganization:"InEducationOrganization",outOfEducationOrganization:"OutOfEducationOrganization"}).constant("educationDocumentStatuses",{original:"Original",duplicate:"Duplicate"}).constant("rFSubjects",{altayRegion:"AltayRegion",amurRegion:"AmurRegion",arhangelskRegion:"ArhangelskRegion",astrakhanRegion:"AstrakhanRegion",belgorodRegion:"BelgorodRegion",bryanskRegion:"BryanskRegion",vladimirRegion:"VladimirRegion",volgogradRegion:"VolgogradRegion",vologdaRegion:"VologdaRegion",voronezhRegion:"VoronezhRegion",moscow:"Moscow",jewishAutonomousRegion:"JewishAutonomousRegion",transbaikalRegion:"TransbaikalRegion",ivanovoRegion:"IvanovoRegion",irkutskRegion:"IrkutskRegion",kabardinoBalkarianRegion:"KabardinoBalkarianRegion",kaliningradRegion:"KaliningradRegion",kalugaRegion:"KalugaRegion",kamchatkaKrai:"KamchatkaKrai",karachayCherkessRepublic:"KarachayCherkessRepublic",kemerovoRegion:"KemerovoRegion",kirovRegion:"KirovRegion",kostromaRegion:"KostromaRegion",krasnodarRegion:"KrasnodarRegion",krasnoyarskRegion:"KrasnoyarskRegion",kurganRegion:"KurganRegion",kurskRegion:"KurskRegion",leningradRegion:"LeningradRegion",lipetskRegion:"LipetskRegion",magadanRegion:"MagadanRegion",moscowRegion:"MoscowRegion",murmanskRegion:"MurmanskRegion",nenetsAutonomousOkrug:"NenetsAutonomousOkrug",nizhnyNovgorodRegion:"NizhnyNovgorodRegion",novgorodRegion:"NovgorodRegion",novosibirskRegion:"NovosibirskRegion",omskRegion:"OmskRegion",orenburgRegion:"OrenburgRegion",oryolRegion:"OryolRegion",penzaRegion:"PenzaRegion",permRegion:"PermRegion",primorskyKrai:"primorskyKrai",pskovRegion:"PskovRegion",republicOfAdygea:"RepublicOfAdygea",altaiRepublic:"AltaiRepublic",republicOfBashkortostan:"RepublicOfBashkortostan",republicOfBuryatia:"RepublicOfBuryatia",republicOfDagestan:"RepublicOfDagestan",republicOfIngushetia:"RepublicOfIngushetia",republicOfKalmykia:"RepublicOfKalmykia",republicOfKarelia:"RepublicOfKarelia",komiRepublic:"KomiRepublic",republicOfCrimea:"RepublicOfCrimea",republicOfMariEl:"RepublicOfMariEl",republicOfMordovia:"RepublicOfMordovia",republicOfSakha:"RepublicOfSakha",republicOfNorthOssetiaAlania:"RepublicOfNorthOssetiaAlania",republicOfTatarstan:"RepublicOfTatarstan",republicOfTyva:"RepublicOfTyva",RepublicOfKhakassia:"RepublicOfKhakassia",rostovRegion:"RostovRegion",ryazanRegion:"RyazanRegion",samaraRegion:"SamaraRegion",saintPetersburg:"SaintPetersburg",saratovRegion:"SaratovRegion",sakhalinRegion:"SakhalinRegion",sverdlovskRegion:"SverdlovskRegion",sevastopol:"Sevastopol",smolenskRegion:"SmolenskRegion",stavropolRegion:"StavropolRegion",tambovRegion:"TambovRegion",tverRegion:"TverRegion",tomskRegion:"TomskRegion",tulaRegion:"TulaRegion",tyumenRegion:"TyumenRegion","udmurtКepublic":"UdmurtКepublic",ulyanovskRegion:"UlyanovskRegion",khabarovskRegion:"KhabarovskRegion",khantyMansiAutonomousOkrug:"KhantyMansiAutonomousOkrug",chelyabinskRegion:"ChelyabinskRegion",chechenRegion:"ChechenRegion",chuvashRegion:"ChuvashRegion",chukotkaAutonomousOkrug:"ChukotkaAutonomousOkrug",yamaloNenetsAutonomousOkrug:"YamaloNenetsAutonomousOkrug",yaroslavlRegion:"YaroslavlRegion",donetskPeopleRepublic:"DonetskPeopleRepublic",luhanskPeopleRepublic:"LuhanskPeopleRepublic",zaporozhyeRegion:"ZaporozhyeRegion",khersonRegion:"KhersonRegion"}).constant("graduatedStudentsReportForms",{monitoringOfEmployment:"MonitoringOfEmployment",fisFrdo:"FisFrdo"}).constant("lessonDurationTypes",{academicHour:"AcademicHour",forDay:"ForDay",forLesson:"ForLesson"}),angular.module("app.global.controllers",["angularFileUpload","pascalprecht.translate"]).controller("Global.Header",["$scope","$window","$liteBox","session","userRoles","localSettings","busyPromise","organizationRest",function(r,e,i,t,n,o,a,s){var u,d,c,l,p,m;for(p in null!=(null!=(u=t.getTenant())?u.employeeRole:void 0)&&a(s.load(),r).then(function(e){return r.certIsEnabled=null!=e&&null!=(e=e.data)&&null!=(e=e.administration)&&null!=(e=e.attestation)?e.isEnabled:void 0},function(e){return i.errorBox("Произошла ошибка загрузки образовательной организации",e)}),a(s.loadSystemInfo(),r).then(function(e){var t,n;return console.log("systemsettings"),r.$root.systemTitle=null!=e&&null!=(n=e.data)?n.title:void 0,r.areChatsEnabled=null!=e&&null!=(n=e.data)?n.areChatsEnabled:void 0,r.isSupplementaryEducationCertificatesAvailable=null!=e&&null!=(n=e.data)?n.isSupplementaryEducationCertificatesAvailable:void 0,t=null!=e&&null!=(n=e.data)?n.isFactualHoursAvailableSystemwide:void 0,r.isEmploymentEnabled=null!=e&&null!=(n=e.data)?n.isEmploymentEnabled:void 0,a(s.load(),r).then(function(e){return r.isEditStudentFactualHoursAvailable=!!t&&e.data.administration.factHours.isEnabled,console.log("$scope.isEditStudentFactualHoursAvailable",r.isEditStudentFactualHoursAvailable)},function(e){return i.errorBox("Произошла ошибка загрузки образовательной организации",e)})},function(e){return i.errorBox("Произошла ошибка загрузки информации о системе",e)}),a(s.сanHaveCertification(),r).then(function(e){return r.userCanHaveCert=e.data,console.log("сanHaveCertification result = ",e),console.log("сanHaveCertification $scope.userCanHaveCert=",r.userCanHaveCert)},function(e){return i.errorBox("Произошла ошибка загрузки информации о возможности аттестации",e)}),_.extend(r,{certIsEnabled:!1,selectedTenant:null,tenants:[],isEsiaAvailable:o.get("isEsiaAvailable",!1),select:function(e){return t.switch(e)},showAboutBox:function(){return i.liteBox({templateUrl:"app/templates/dialog.about.pug",controller:"Global.Version"}).open()},showSupportBox:function(){return i.liteBox().open("app/templates/dialog.support.pug","Global.Support").then(function(e){if(e)return i.messageBox("Спасибо","Ваше сообщение успешно отправлено.",[{text:"ОК",result:!0}])})},logout:function(){return t.logout()},hasStudentRole:function(e){return null!=e.studentRole},hasEmployeeRole:function(){var e;return null!=(null!=(e=t.getTenant())?e.employeeRole:void 0)}}),c=[],d=t.getTenants())l={name:p,organization:{abbreviation:(m=d[p]).settings.organization.abbreviation,shortName:m.settings.organization.shortName}},console.log("tenantName",p),console.log("v",m),m===t.getTenant()?(r.selectedTenant=_.extend(l,{firstName:m.firstName,lastName:m.lastName,isTrusted:m.isTrusted,roles:n.getRoles(m)}),c.push(console.log("$scope.selectedTenant",r.selectedTenant))):c.push(r.tenants.push(l));return c}]).controller("Global.Version",["$scope","busyPromise","errors","supportRest",function(t,e,n,r){return e(r.getVersion(),t).then(function(e){return t.version=e.data})}]).controller("Global.Import",["$scope","$filter","liteBox","busyPromise","title","columns","importFunction","comment","template","errors","validationFunction","showDulComment",function(v,s,n,r,e,t,i,o,a,g,S,u){var d=class{require(e,t){return null==t||t?-1!==(t=_.sortedIndex(this.requirements||(this.requirements=[]),e))?this.requirements.splice(t,0,e):void 0:(this.requirements||(this.requirements=[])).push(e)}},c=function(){var t;class e extends d{constructor(){super(),this.require("Электронный адрес")}convert(e){return t.test(e)?{displayValue:e,modelValue:e}:{error:'Поле "Email адрес" имеет неверный формат'}}}return t=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9-]+(\.[a-z0-9-]+)*$/i,e}.call(this),l=class extends d{constructor(){super(),this.require("Да или Нет")}convert(e){e=null!=e?e.toLowerCase():void 0;return"да"===e||"нет"===e?{displayValue:s("capitalize")(e),modelValue:"да"===e}:{error:"Допустимые значения: да, нет"}}},p=class extends d{constructor(e){super(),this.options=e,this.require(_.isString(this.options.message)?this.options.message:_.isNumber(this.options.minLength)&&_.isNumber(this.options.maxLength)?`Текст длиной от ${this.options.minLength} до ${this.options.maxLength} символов`:_.isNumber(this.options.minLength)?`Текст длиной не менее ${this.options.minLength} символов`:_.isNumber(this.options.maxLength)?`Текст длиной до ${this.options.maxLength} символов`:"Текст произвольной длины")}convert(e){return _.isString(this.options.filter)?e=s(this.options.filter)(e):_.isFunction(this.options.filter)&&(e=this.options.filter(e)),_.isFunction(this.options.isInvalid)&&this.options.isInvalid(e)?{error:"Недопустимое значение"}:_.isNumber(this.options.minLength)&&e.length<this.options.minLength?{error:`Длина меньше ${this.options.minLength} символов`}:_.isNumber(this.options.maxLength)&&e.length>this.options.maxLength?{error:`Длина больше ${this.options.maxLength} символов`}:{displayValue:e,modelValue:e}}},m=class extends d{constructor(e){super(),this.options=e,this.require(_.isNumber(this.options.min)&&_.isNumber(this.options.max)?`Целое число в диапазоне от ${this.options.min} до `+this.options.max:_.isNumber(this.options.min)?"Целое число не менее "+this.options.min:_.isNumber(this.options.max)?"Целое число не более "+this.options.max:"Целое число")}convert(e){return isNaN(e=parseInt(e))?{error:"Неверное целое число"}:_.isNumber(this.options.min)&&e<this.options.min?{error:"Значение меньше "+this.options.min}:_.isNumber(this.options.max)&&e>this.options.max?{error:"Значение больше "+this.options.max}:{displayValue:e,modelValue:e}}},f=class extends d{constructor(e){super(),this.options=e,this.require(_.isNumber(this.options.min)&&_.isNumber(this.options.max)?`Целое или дробное число в диапазоне от ${this.options.min} до ${this.options.max}. Разделитель - точка. Количество знаков после точки: `+this.options.digitsAfterPoint:_.isNumber(this.options.min)?`Целое или дробное число не менее ${this.options.min}. Разделитель - точка. Количество знаков после точки: `+this.options.digitsAfterPoint:_.isNumber(this.options.max)?`Целое или дробное число не более ${this.options.max}. Разделитель - точка. Количество знаков после точки: `+this.options.digitsAfterPoint:"Целое или дробное число. Разделитель - точка. Количество знаков после точки: "+this.options.digitsAfterPoint)}convert(e){return new RegExp("^((\\d+)(\\.\\d{0,"+this.options.digitsAfterPoint+"})?)$").test(e)?isNaN(e=parseFloat(e))?{error:"Неверное число"}:_.isNumber(this.options.min)&&e<this.options.min?{error:"Значение меньше "+this.options.min}:_.isNumber(this.options.max)&&e>this.options.max?{error:"Значение больше "+this.options.max}:{displayValue:e,modelValue:e}:{error:"Неверный формат числа. Число должно быть целым или дробным с количеством знаков после точки равным "+this.options.digitsAfterPoint}}},h=class extends d{constructor(e){super(),this.options=e,(e=this.options).startDate||(e.startDate=moment("1753-01-01")),this.require(_.isString(this.options.message)?this.options.message:null!=this.options.startDate&&null!=this.options.endDate?`Дата в диапазоне от ${this.options.startDate.format("DD.MM.YYYY")} до `+this.options.endDate.format("DD.MM.YYYY"):null!=this.options.startDate?"Дата не ранее "+this.options.startDate.format("DD.MM.YYYY"):null!=this.options.endDate?"Дата не позднее "+this.options.endDate.format("DD.MM.YYYY"):void 0),this.require("Дата в формате "+this.options.format)}convert(e){return(null==(e=moment(e,this.options.format))||!e.isValid())&&(null!=e?e.invalidAt():void 0)<3?{error:"Неверная дата"}:null!=this.options.startDate&&e.isBefore(this.options.startDate)?{error:"Значение меньше "+this.options.startDate.format("DD.MM.YYYY")}:null!=this.options.endDate&&e.isAfter(this.options.endDate)?{error:"Значение больше "+this.options.endDate.format("DD.MM.YYYY")}:{displayValue:e.format(this.options.format),modelValue:e.toDate()}}},y=function(){var n;class e extends d{constructor(){super()}addEntry(e,t){return(this.map||(this.map={}))[n(e)]={displayValue:e,modelValue:t}}convert(e){e=n(e);return _.has(this.map,e)?this.map[e]:{error:"Недопустимое значение для данного поля"}}}return n=function(e){return e.toString().toLowerCase().replace(/\s+/g,"")},e}.call(this),b=class extends y{constructor(e){var t,n,r,i,o,a;for(super(),n=0,i=(a=null!=(null!=(t=e.filter?s(e.filter):t)?t.$order:void 0)?t.$order:_.values(e.values)).length;n<i;n++)o=a[n],r=t?t(o):_.findKey(e.values,function(e){return e===o}),this.addEntry(r,o),this.require(r,e.sorted)}},w=class extends y{constructor(o){var a;super(),o.description&&this.require(o.description),a=_.isString(o.getter)?function(){return this[o.getter]}:_.isFunction(o.getter)?o.getter:function(){return this.name},o.source.ensureLoaded().then(()=>{for(var e,t=o.source.entities.toArray(),n=[],r=0,i=t.length;r<i;r++)e=t[r],n.push(this.addEntry(a.apply(e),e.id));return n})}},D=class{constructor(e){var t,n;for(t in e)if(n=e[t],"type"===t){if(_.isString(n))switch(n){case"string":n={string:{}};break;case"int":n={int:{}};break;case"float":n={float:{}};break;case"date":n={date:{format:"DD.MM.YYYY"}};break;case"email":n={email:{}};break;case"bool":n={bool:{}}}if(_.isObject(n.string))this.converter=new p(n.string);else if(_.isObject(n.int))this.converter=new m(n.int);else if(_.isObject(n.float))this.converter=new f(n.float);else if(_.isObject(n.date))this.converter=new h(n.date);else if(_.isObject(n.enum))this.converter=new b(n.enum);else if(_.isObject(n.reference))this.converter=new w(n.reference);else if(_.isObject(n.email))this.converter=new c(n.email);else{if(!_.isObject(n.bool))throw new Error("Неверный тип данных: "+angular.toJson(n));this.converter=new l(n.email)}}else this[t]=n}getRequirements(){return this.converter.requirements}validate(e){return _.isEmpty(e)?this.required?{error:"Значение не задано"}:{displayValue:null,modelValue:null}:this.converter.convert(e)}set(e,t){var n,r,i,o;if(_.isFunction(this.setter))return this.setter.apply(e,[t]);if(_.isString(this.setter)){for(n=0,r=(o=this.setter.split(".")).length-1;n<r;)e=e[i=o[n++]]||(e[i]={});return e[o[n]]=t}}},k=class{constructor(e){this.value=e,this.displayValue=null,this.modelValue=null,this.error=null,this.setterEnabled=!0}hasError(){return!_.isEmpty(this.error)}validate(e){return this.displayValue=null,this.modelValue=null,this.error=null,_.extend(this,e.validate(this.value))}set(e,t){return t.set(e,this.modelValue)}};return _.extend(v,{hasValidationErrors:!1,showErrorRows:!1,showDulComment:u,title:e,columns:_.map(t,function(e){return new D(e)}),template:a,comment:o,firstLineIsHeader:!1,options:{delimiter:";",qualifier:'"',rows:[],convert:function(e){return new k(e)}},getRows:function(){return v.showErrorRows?_.filter(v.options.rows,function(e){return e.hasErrors}):v.options.rows},close:function(){return n.close(null)},submit:function(t){var s,u,e,d,c,l,p,m,f;if(t.$setValidity("rest",!0),t.$valid&&!v.hasValidationErrors)return f=[],console.log("$scope.firstLineIsHeader",v.firstLineIsHeader,v.options.rows),f=v.firstLineIsHeader?v.options.rows.slice(1,v.options.rows.length-1+1||9e9):v.options.rows,console.log("rows",f),e=(()=>{for(var e,t,n,r,i=[],o=0,a=f.length;o<a;o++){for(m=f[o],d={},p={},r=v.columns,c=e=0,t=r.length;e<t;c=++e)u=r[c],s=m[c],null!=u.requiredGroup&&(p[n=u.requiredGroup]||(p[n]=0),_.isEmpty(s.modelValue)||p[u.requiredGroup]++),s.setterEnabled&&s.set(d,u);for(l in p)0===p[l]&&delete d[l];i.push(d)}return i})(),r(i(e),v).then(function(){return n.close(!0)},function(e){return g.handleRestError(e,t)})},firstLineIsHeaderChanged:function(){return v.firstLineIsHeader=!v.firstLineIsHeader}}),v.$watch("options.rows | isEmpty",function(){var e,t,n,r,i,o,a,s,u,d,c,l,p,m,f,g,h,y,b;for(console.log("import $scope.$watch"),v.totalRows=0,v.totalErrors=0,v.hasValidationErrors=!1,y=[],console.log("$scope.firstLineIsHeader",v.firstLineIsHeader,v.options.rows),y=v.firstLineIsHeader?v.options.rows.slice(1,v.options.rows.length-1+1||9e9):v.options.rows,console.log("rows",y),n=0,o=y.length;n<o;n++){for(h=y[n],v.totalRows++,h.hasErrors=!1,g={},t=r=0,a=(l=v.columns).length;r<a;t=++r)c=l[t],(e=h[t]||(h[t]=new k(null))).validate(c),null!=c.requiredGroup?(g[c=c.requiredGroup]||(g[c]=[])).push(e):e.hasError()&&(h.hasErrors=!0,v.totalErrors++,v.hasValidationErrors=!0);for(f in g)if(_.all(g[f],function(e){return _.isEmpty(e.value)}))for(i=0,s=(p=g[f]).length;i<s;i++)(e=p[i]).error=null;else for(d=0,u=(m=g[f]).length;d<u;d++)(e=m[d]).hasError()&&(h.hasErrors=!0,v.totalErrors++,v.hasValidationErrors=!0)}if(S&&(b=S(v.columns,y)))return v.hasValidationErrors||(v.hasValidationErrors=b.hasValidationErrors),v.totalErrors+=b.totalErrors})}]).controller("Global.Dashboard",["$scope","$liteBox","organizationRest","busyPromise","session",function(t,n,e,r,i){var o,a;return t.$root.pageTitle="Главная",o=function(){var e=t.organization.address;return t.addressIsNotEmpty=!(null==e||_.isEmpty(e.region)&&_.isEmpty(e.settlement)&&_.isEmpty(e.mailAddress))},r(e.loadStatistics(),t).then(function(e){return t.statistics=e.data},function(e){return n.errorBox("Произошла ошибка загрузки статистики",e)}),r(e.load(),t).then(function(e){return t.organization=e.data,o()},function(e){return n.errorBox("Произошла ошибка загрузки образовательной организации",e)}),r(e.getNewsSettings(),t).then(function(e){return t.maxFileNumber=e.data.maxFileNumber,t.maxTotalFileSizeMb=e.data.maxTotalFileSizeMb,t.deleteNewsInXDaysDefault=e.data.deleteNewsInXDaysDefault,console.log("getNewsSettings result = ",e),console.log("getNewsSettings $scope.maxFileNumber=",t.maxFileNumber),console.log("getNewsSettings $scope.maxTotalFileSizeMb=",t.maxTotalFileSizeMb),console.log("getNewsSettings $scope.deleteNewsInXDaysDefault=",t.deleteNewsInXDaysDefault)},function(e){return n.errorBox("Произошла ошибка загрузки информации о настройках новостей",e)}),r(e.loadSystemInfo(),t).then(function(e){return t.isFileStorageAvailable=null!=e&&null!=(e=e.data)?e.isFileStorageAvailable:void 0},function(e){return n.errorBox("Произошла ошибка загрузки информации о системе",e)}),(a=function(){return r(e.loadLastNews(5),t).then(function(e){return t.news=e.data},function(e){return n.errorBox("Произошла ошибка загрузки объявлений",e)})})(),_.extend(t,{editInfo:function(){return n.liteBox({resolve:{organization:function(){return _.omit(t.organization,"bankingDetails")}}}).open("app/templates/dialog.organization-info.pug","Global.OrganizationInfo").then(function(e){if(e)return _.extend(t.organization,e),o(),i.updateTenants()})},editDetails:function(){return n.liteBox({resolve:{bankingDetails:function(){return t.organization.bankingDetails}}}).open("app/templates/dialog.organization-details.pug","Global.OrganizationDetails").then(function(e){if(e)return _.extend(t.organization.bankingDetails,e)})},editLicense:function(){return n.liteBox({resolve:{bankingDetails:function(){return t.organization.bankingDetails}}}).open("app/templates/dialog.organization-license.pug","Global.OrganizationLicense").then(function(e){if(e)return _.extend(t.organization.bankingDetails,e)})},addNews:function(){return console.log("addNews global"),console.log("$scope.isFileStorageAvailable",t.isFileStorageAvailable),n.liteBox({resolve:{maxFileNumber:function(){return t.maxFileNumber},maxTotalFileSizeMb:function(){return t.maxTotalFileSizeMb},deleteNewsInXDaysDefault:function(){return t.deleteNewsInXDaysDefault},isFileStorageAvailable:function(){return t.isFileStorageAvailable}}}).open("app/templates/dialog.news.pug","Global.News").then(function(e){if(e)return a()})}})}]).controller("Global.OrganizationInfo",["$scope","$liteBox","liteBox","busyPromise","errors","organizationRest","organization","legalStatus","organizationStatus","CountriesReference","institutionOrganizationTypes",function(n,t,e,r,i,o,a,s,u,d,c){return r(o.loadOrganizationDepts(),n).then(function(e){return n.organizationDepts=e.data},function(e){return t.errorBox("Произошла ошибка загрузки списка ведомств",e)}),r(o.loadOrganizations(),n).then(function(e){return n.organizationsAll=e.data,_.remove(n.organizationsAll,function(e){return e.id===n.organization.organizationId})},function(e){return t.errorBox("Произошла ошибка загрузки списка организаций",e)}),(d=new d({scope:n})).load(),_.extend(n,{legalStatus:s,countries:d.entities,organization:_.cloneDeep(a),organizationStatus:u,institutionOrganizationTypes:c,isBranch:!_.isNull(a.headOrganizationId)&&!_.isUndefined(a.headOrganizationId),close:function(){return e.close(null)},onIsEntrepreneurChanged:function(){if(!n.organization.isEntrepreneurOwned)return n.organization.entrepreneurName=null,n.organization.entrepreneurCountry=null},onIsBranchChanged:function(){if(!n.isBranch)return n.organization.headOrganizationId=null,n.organization.isSubdepartment=!1},submit:function(t){if(t.$setValidity("rest",!0),t.$valid)return""===n.organization.occupancy&&(n.organization.occupancy=null),""===n.organization.shiftCount&&(n.organization.shiftCount=null),r(o.updateInfo(n.organization),n).then(function(){return e.close(n.organization)},function(e){return i.handleRestError(e,t)})}})}]).controller("Global.OrganizationDetails",["$scope","liteBox","busyPromise","errors","organizationRest","bankingDetails",function(n,e,r,i,o,t){return _.extend(n,{bankingDetails:_.cloneDeep(t),okvedPattern:/^((\d{2}\.\d{2}\.\d{1,2})|(\d{2}\.\d{1,2})|(\d{2}))$/,close:function(){return e.close(null)},validateOkogu:function(e){var t=parseInt(n.bankingDetails.okogu,10);return t<1e6||5999999<t?e.okogu.$setValidity("range",!1):e.okogu.$setValidity("range",!0)},submit:function(t){if(t.$setValidity("rest",!0),t.$valid)return r(o.updateDetails(n.bankingDetails),n).then(function(){return e.close(n.bankingDetails)},function(e){return i.handleRestError(e,t)})}})}]).controller("Global.OrganizationLicense",["$scope","liteBox","busyPromise","errors","organizationRest",function(n,e,r,i,o){return r(o.loadLicenseInfo(),n).then(function(e){return n.licenseInfo=e.data},function(e){return $liteBox.errorBox("Произошла ошибка загрузки сведений о лицензии организации",e)}),_.extend(n,{today:moment({hour:0}).toDate(),close:function(){return e.close(null)},requiredLicense:function(e){return!_.isEmpty(e)&&_.any(e,function(e){return!_.isNull(e)&&!_.isUndefined(e)&&""!==e})},submit:function(t){if(t.$setValidity("rest",!0),t.$valid)return n.requiredLicense(n.licenseInfo.license)||(n.licenseInfo.license=null),n.requiredLicense(n.licenseInfo.accreditation)||(n.licenseInfo.accreditation=null),r(o.updateLicenseInfo(_.pick(n.licenseInfo,_.identity),n)).then(function(){return e.close(!0)},function(e){return i.handleRestError(e,t)})}})}]).controller("Global.News",["$scope","liteBox","busyPromise","errors","organizationRest","maxFileNumber","maxTotalFileSizeMb","deleteNewsInXDaysDefault","isFileStorageAvailable",function(l,p,m,f,g,o,h,e,t){var a,s,y;return console.log("maxFileNumber",o),console.log("maxTotalFileSizeMb",h),console.log("deleteNewsInXDaysDefault",e),console.log("isFileStorageAvailable",t),_.extend(l,{news:{date:new Date,isForStudents:!0,isForEmployees:!0,isForParents:!0,shouldDeleteNews:!1,deleteInDays:e},filesToUpload:[],validationError:!1,validationErrorManyFiles:!1,validationErrorTooBigFiles:!1,maxFileNumber:o,maxTotalFileSizeMb:h,isFileStorageAvailable:t,close:function(){return p.close(null)},submit:function(t){var e,i,n,r,o,a,s,u,d,c;if(console.log("submit "),t.$valid){for(n=c=0,o=(s=l.filesToUpload).length;n<o;n++)if(c+=(i=s[n]).size,console.log("totalSize ",c),y(c)>h)return l.validationError=!0,void(l.validationErrorTooBigFiles=!0);for(e=[],d=[],r=0,a=(u=l.filesToUpload).length;r<a;r++)((i=u[r])instanceof File?d:e).push(i);return console.log("submit ",l.news,"toBeUploaded ",d,"alreadyUploaded ",e),m(g.addNews(l.news,d),l).then(function(e){var t,n,r;for(console.log("submit response.data ",e.data),e.data.hasOwnProperty("id")&&(l.news.id=e.data.id),l.news.attachments=[],t=0,n=(r=e.data.attachments).length;t<n;t++)i=r[t],l.news.attachments.push(i);return p.close(l.news)},function(e){return f.handleRestError(e,t)})}},addAttachment:function(e,t){var n,r,i;for(console.log("addAttachment ",e),r=0,i=e.length;r<i;r++){if(n=e[r],console.log("file ",n),l.filesToUpload.length>=o){l.validationError=!0,l.validationErrorManyFiles=!0,setTimeout(function(){return s()},5e3);break}l.filesToUpload.push(n)}return console.log("addAttachment exit ",l.filesToUpload)},deleteAttachment:function(e){var t,n,r,i;for(console.log("deleteAttachment ",e),i=[],t=n=0,r=l.filesToUpload.length-1;n<=r;t=n+=1){if(console.log(l.filesToUpload[t]," ",t),l.filesToUpload[t]===e){l.filesToUpload.splice(t,1),a();break}i.push(void 0)}return i},toMBStr:function(e){return y(e).toFixed(2)},truncateStr:function(e,t){return e.length<=t?e:e.slice(0,t)+"..."},onShouldDeleteNewsChanged:function(){}}),y=function(e){return e/1024/1024},a=function(){return l.validationError=!1,l.validationErrorManyFiles=!1,l.validationErrorTooBigFiles=!1,console.log("resetFileErrorVariables ")},s=function(){return a(),l.$apply()}}]).controller("Global.Support",["$scope","liteBox","busyPromise","supportRest","session","errors",function(e,n,r,i,t,o){return _.extend(e,{close:function(){return n.close(!1)},submit:function(t){if(t.$setValidity("rest",!0),t.$valid)return r(i.sendMessage(e.email,e.message),e).then(function(){return n.close(!0)},function(e){return o.handleRestError(e,t)})}})}]).run(["$rootScope","securityManager","session",function(e,t,n){return e.isCurator=function(){var e;return null!=(e=n.getTenant())&&null!=(e=e.employeeRole)?e.isCurator:void 0},e.isTrusted=function(){var e;return null!=(e=n.getTenant())?e.isTrusted:void 0},e.localNetwork=function(){return t.localNetwork()},e.hasPermission=function(e){return t.hasPermission(e)},e.hasAnyPermissions=function(...e){return _.any(e,function(e){return t.hasPermission(e)})},e.hasAllPermissions=function(...e){return _.all(e,function(e){return t.hasPermission(e)})}}]),angular.module("app.global.directives",["uikit","app.templates"]).directive("lettersOnly",["stringHelper",function(i){return{require:"ngModel",link:function(e,t,n,r){return t.bind("paste",function(t){return t.preventDefault(),e.$apply(function(){var e;return r.$setViewValue(i.getLetterOrSeparatorOnly((null!=(e=t.originalEvent)?e:t).clipboardData.getData("text/plain"))),r.$render()})}),t.bind("keypress",function(e){if(13!==e.keyCode&&0!==e.charCode&&!i.hasLetterOrSeparatorOnly(String.fromCharCode(e.charCode)))return e.preventDefault()})}}}]).directive("normalizeSeparators",["stringHelper",function(o){return{require:"ngModel",link:function(e,t,n,r){var i=function(){return e.$apply(function(){return r.$setViewValue(o.normalizeSeparators(t.val())),r.$render()})};return t.bind("keydown",function(e){if(13===e.keyCode)return i()}),t.bind("focusout",i)}}}]).directive("normalizeWhitespace",["stringHelper",function(o){return{require:"ngModel",link:function(e,t,n,r){var i=function(){return e.$apply(function(){return r.$setViewValue(o.normalizeWhitespace(t.val())),r.$render()})};return t.bind("keydown",function(e){if(13===e.keyCode)return i()}),t.bind("focusout",i)}}}]).directive("ngPrint",["$window","session","redirect",function(i,o,a){return{link:function(e,t,n,r){return t.bind("click",function(e){return o.isLoggedOut()?a.toLoginPage():i.print()})}}}]).directive("formDisabled",function(){var r=function(e){return e.addClass("readonly").find(":input").each(function(){if(!$(this).attr("enable"))return $(this).is(":not(:disabled)")&&$(this).attr("enabled",!0),$(this).attr("disabled","disabled")})},i=function(e){return e.removeClass("readonly").find(":input").each(function(){return $(this).attr("enabled")&&$(this).removeAttr("disabled"),$(this).removeAttr("enabled")})};return{restrict:"A",require:"form",link:function(e,t,n){return e.$watch(n.formDisabled,function(e){return(e?r:i)(t)})}}}).directive("apploader",[function(){return{restrict:"CA",link:function(n,r){var i=1,o=null;n.$on("busy",function(e,t){t.isBusy?0==i++&&(o=setTimeout(function(){return n.$apply(function(){return $(r).fadeIn("fast").addClass("dimmed").find("span").text("подождите…")})},500)):0!==i&&0==--i&&(o&&clearTimeout(o),$(r).fadeOut(600))}),n.$emit("busy",{isBusy:!1})}}}]).directive("uiSortable",[function(){return{require:"ngModel",link:function(t,e,n,r){return e.sortable({axis:"y",revert:200,tolerance:"pointer",containment:"parent",start:function(e,t){return t.item.sortable={index:t.item.index()}},update:function(e,t){return t.item.sortable.resort=r},stop:function(e,n){return t.$apply(function(){var e=n.item.sortable.index,t=n.item.index(),e=n.item.sortable.resort.$modelValue.splice(e,1)[0];return n.item.sortable.resort.$modelValue.splice(t,0,e)})}})}}}]).directive("fullHeight",["$window",function(s){return{restrict:"A",link:function(n,t,e){var r=30,i="min-height",o=angular.element(s),a=function(){var e=t.offset();return t.css(i,o.height()-e.top-r)};return o.bind("resize",a),e.$observe("fullHeight",function(e){var t;return(e=n.$eval(e))&&(_.isNumber(e.bottom)&&(r=e.bottom),"height"!==(t=e.rule)&&"min-height"!==t&&"max-height"!==t||(i=e.rule)),a()})}}}]).directive("customValidator",["$parse",function(o){return{restrict:"A",require:"ngModel",link:function(t,e,n,r){var i=o(n.customValidator),n=function(e){if(i(t,{value:e}))return r.$setValidity("custom-validator",!0),e;r.$setValidity("custom-validator",!1)};return r.$parsers.unshift(n),r.$formatters.unshift(n)}}}]).directive("rootForm",function(){return{require:"form",controller:["$scope",function(n){var d={};return this.add=function(e){var t;return(null!=d[t=e.$name]?d[t]:d[t]=[]).push(e)},this.remove=function(e){return d[e.$name].splice(d[e.$name].indexOf(e,1))},this.invalidate=function(){var i,o,a,r,e,s,u,t=[];for(e in d)s=d[e],a=(null!=n[e]?n[e]:n[e]={}).$error={},t.push((()=>{for(var e=[],t=0,n=s.length;t<n;t++)r=s[t],e.push((()=>{var e=r.$error,t=[];for(u in e)o=e[u],t.push((()=>{for(var e,t=[],n=0,r=o.length;n<r;n++)i=o[n],t.push((null!=a[e=i.$name]?a[e]:a[e]={})[u]=!0);return t})());return t})());return e})());return t}}]}}).directive("childForm",function(){return{require:["^rootForm","form"],link:function(e,t,n,r){return r[0].add(r[1]),e.$on("$destroy",function(){return r[0].remove(r[1])}),e.$watch(function(){return r[1].$error},function(){return r[0].invalidate()},!0)}}}).directive("csvTransform",["csvUtils","$liteBox",function(n,r){return{scope:{options:"=csvTransform"},link:function(t,e){return e.change(function(e){if(e.preventDefault(),e.stopPropagation(),t.options.file=null!=e&&null!=(e=e.target)&&null!=(e=e.files)?e[0]:void 0){if(".csv"===(e=t.options.file.name).substring(e.lastIndexOf(".")))return(e=new FileReader).onload=function(e){return t.$apply(function(){return n.parse(e.target.result,t.options)})},e.readAsText(t.options.file,"windows-1251");r.warningBox("Неверный формат файла. Файл должен иметь расширение .csv")}})}}}]).directive("invertModel",function(){return{require:"ngModel",link:function(e,t,n,r){return r.$parsers.push(function(e){return!e}),r.$formatters.push(function(e){return!e})}}}).directive("validPermissions",[function(){return{require:"ngModel",link:function(e,t,n,r){return r.$viewChangeListeners.push(function(){return e.formNews.$setValidity("isFor",e.news.isForEmployees||e.news.isForParents||e.news.isForStudents)})}}}]).directive("integer",function(){return{require:"ngModel",link:function(e,t,n,r){return t.bind("paste",function(t){return t.preventDefault(),e.$apply(function(){var e;return r.$setViewValue(isNaN(e=parseFloat((null!=(e=t.originalEvent)?e:t).clipboardData.getData("text/plain")))?void 0:Math.floor(e)),r.$render()})}),t.bind("keypress",function(e){var t;if(0!==e.charCode&&!(47<(t=e.charCode)&&t<58))return e.preventDefault()})}}}).directive("default",function(){return{require:"ngModel",restrict:"A",link:function(e,t,n,r){var i=void 0,o=function(){if(r.$isEmpty(r.$modelValue)&&(e.$$phase?r.$setViewValue(i):e.$apply(function(){return r.$setViewValue(i)})),r.$modelValue===i)return r.$render()},a=function(){if(r.$modelValue===i)return t.val("")},s=function(){return t.css("color",r.$modelValue===i?"gray":"")};return e.$watch(n.default,function(e){return r.$isEmpty(i=e)?t.unbind("focus",a).unbind("blur",o):(t.bind("focus",a).bind("blur",o),o(),s())}),r.$viewChangeListeners.push(s)}}}).directive("errorFor",[function(){return{restrict:"A",require:"^form",link:function(e,t,n,r){var i=_.map(null!=(n=n.errorFor)?n.split(","):void 0,function(e){return e.trim()}),o=_.isPlainObject(r.$$parentForm)?r:r.$$parentForm;return e.$watch(function(){return o.$submitted&&_.any(i,function(e){return null!=(e=r[e])?e.$invalid:void 0})},function(e){return t.toggleClass("invalid",e)})}}}]).directive("linkEnabled",function(){return{link:function(e,t,n,r){if(!0===e.$eval(n.linkEnabled))return $(this).removeAttr("href")}}}).directive("checkBoxGroup",function(){return{require:"checkBoxGroup",controller:function(){var i=null,o=[];this.setMaster=function(e){return i=e},this.addSlave=function(e){return o.push(e)},this.removeSlave=function(e){return _.remove(o,e)},this.onMasterChanged=function(e){for(var t,n=0,r=o.length;n<r;n++)(t=o[n]).$modelValue!==e&&(t.$setViewValue(e),t.$render());return this.onChanged()},this.onSlaveChanged=function(){var e,t,n,r;if(_.isFunction(i)){for(e=t=!0,n=0,r=o.length;n<r;n++)o[n].$modelValue?e=!1:t=!1;i(!!t||!e&&null)}return this.onChanged()}},link:function(e,t,n,r){return r.onChanged=function(){return e.$eval(n.checkBoxGroup)}}}}).directive("masterCheckBox",function(){return{require:["?ngModel","^checkBoxGroup"],link:function(e,n,t,r){var i=r[0],o=r[1];return o.setMaster(function(e){var t;if(n.prop("indeterminate",!(t=_.isBoolean(e))),t)return i?(i.$setViewValue(e),i.$render()):n.prop("checked",e)}),e.$on("$destroy",function(){return o.setMaster(null)}),i?i.$viewChangeListeners.push(function(){return o.onMasterChanged(i.$modelValue)}):n.change(function(){return o.onMasterChanged(n.prop("checked"))})}}}).directive("slaveCheckBox",function(){return{require:["ngModel","^checkBoxGroup"],link:function(e,t,n,r){var i=r[0],o=r[1];return o.addSlave(i),e.$on("$destroy",function(){return o.removeSlave(i)}),i.$formatters.push(function(e){return o.onSlaveChanged(),e}),i.$viewChangeListeners.push(function(){return o.onSlaveChanged()})}}}),angular.module("app.global.filters",[]).filter("isEmpty",["isEmptyCheck",function(e){return e}]).filter("moment.format",function(){return function(e,t){return null!=e?moment(e).format(t):e}}).filter("moment.today",function(){return function(e){return moment(e).isSame(moment(),"day")}}).filter("moment.future",function(){return function(e){return moment().isBefore(e)}}).filter("capitalize",function(){return function(e){if(null!=e)return e.charAt(0).toUpperCase()+e.substring(1)}}).filter("buildingAndName",function(){return function(e){return e.building+"-"+e.name}}).filter("truncate",function(){return function(e,t){return _.isString(e)&&e.length>t?e.substring(0,t)+".":e}}).filter("nl2br",function(){return function(e){return null!=e?e.replace(/\r\n|\n\r|\n|\r/g,"<br/>"):void 0}}).filter("difference",function(){return function(e,n){return _.filter(e,function(t){return!_.any(n,function(e){return(e.id||e)===(t.id||t)})})}}).filter("intersection",function(){return function(e,n){return _.filter(e,function(t){return _.any(n,function(e){return(e.id||e)===(t.id||t)})})}}).filter("union",["$filter",function(n){return function(e,t){return _.union(n("difference")(e,t),t)}}]).filter("enum",["$filter",function(r){var i={};return function(e,t){return i[t]||(i[t]=(n=r(t),t=_.map(null!=(t=n.$order)?t:e,function(e){return{value:e,text:n(e)}}),n.$order?t:_.sortBy(t,"text")));var n}}]).filter("array",["$filter",function(r){var i={};return function(e,t){return null==i[t]||0===i[t].length?i[t]=(n=r(t),e=_.map(e,function(e){return{value:e,text:n(e)}}),n.$order?e:_.sortBy(e,"text")):i[t];var n}}]).filter("findEnumById",["$filter",function(n){return function(e,t){return n(t)(e)}}]).filter("snils",function(){return function(e){return null!=e?e.substring(0,3)+"-"+e.substring(3,6)+"-"+e.substring(6,9)+" "+e.substring(9):e}}).filter("gender",["genders",function(e){var n=new Object;return n[e.male]="Мужской",n[e.female]="Женский",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("educationBasis",["educationBasises",function(e){var n=new Object;return n[e.naturalPerson]="За счет физического лица",n[e.legalPerson]="За счет юридического лица",n[e.naturalAndLegalPerson]="За счет физического и юридического лица",n[e.federalBudget]="За счет федерального бюджета",n[e.federalBudgetContract]="За счет федерального бюджета по договору о целевом обучении",n[e.federalBudgetMilitaryContract]="По контракту для организаций ОПК",n[e.rfSubjectBudget]="За счет бюджета субъекта РФ",n[e.rfSubjectBudgetContract]="За счет бюджета субъекта РФ по договору о целевом обучении",n[e.localBudget]="За счет местного бюджета",n[e.localBudgetContract]="За счет местного бюджета по договору о целевом обучении",n[e.naturalAndLegalPersonContract]="За счет физических и юридических лиц по договору о целевом обучении",n[e.educationCertificate]="По образовательному сертификату",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("educationForm",["educationForms",function(e){var n=new Object;return n[e.fullTime]="Очная",n[e.partTime]="Очно-заочная",n[e.extramural]="Заочная",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("educationFormFem",["educationForms",function(e){var n=new Object;return n[e.fullTime]="Очная",n[e.partTime]="Очно-заочная",n[e.extramural]="Заочная",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("educationFormDativeLow",["educationForms",function(e){var n=new Object;return n[e.fullTime]="очной",n[e.partTime]="очно-заочной",n[e.extramural]="заочной",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("educationDepth",["educationDepths",function(e){var n=new Object;return n[e.base]="Базовая",n[e.inDepth]="Углубленная",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("baseEducationLevel",["baseEducationLevels",function(e){var n=new Object;return n[e.basisGeneral]="Основное общее образование",n[e.generalSecondary]="Среднее общее образование",n[e.secondaryProfessional]="Среднее профессиональное образование",n[e.withoutBasicGeneral]="Без основного общего образования",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("educationLevel",["educationLevels",function(e){var n=new Object;return n[e.basic]="Основное общее образование",n[e.secondary]="Среднее общее образование",n[e.vocationalBasic]="СПО по программам подготовки специалистов среднего звена",n[e.vocationalSecondary]="СПО по программам подготовки квалифицированных рабочих (служащих)",n[e.incompleteSecondary]="Неполное среднее профессиональное образование",n[e.higherBachelor]="Высшее образование - бакалавриат",n[e.higherMagistracy]="Высшее образование - специалитет, магистратура",n[e.higherPostGraduate]="Высшее образование - подготовка кадров высшей квалификации",n[e.higherIncomplete]="Высшее образование - незаконченное высшее образование",n[e.withoutBasic]="Без основного общего образования",n[e.beginingProfessional]="Начальное профессиональное образование",n[e.secondaryProfessional]="Среднее профессиональное образование",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("educationLevels",["educationLevels",function(e){var n=new Object;return n[e.basic]="Общее образование",n[e.secondary]="Общее образование",n[e.vocationalBasic]="Среднее профессиональное образование",n[e.vocationalSecondary]="Среднее профессиональное образование",n[e.incompleteSecondary]="Среднее профессиональное образование",n[e.secondaryProfessional]="Среднее профессиональное образование",n[e.higherBachelor]="Высшее образование",n[e.higherMagistracy]="Высшее образование",n[e.higherPostGraduate]="Высшее образование",n[e.higherIncomplete]="Высшее образование",n[e.withoutBasic]="Без образования",n[e.beginingProfessional]="Начальное профессиональное образование",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("disabilityCategory",["disabilityCategories",function(e){var n=new Object;return n[e.childhood]="Инвалид с детства",n[e.trauma]="Вследствие травмы",n[e.warInjures]="Вследствие военной травмы",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("physicalGroup",["physicalGroups",function(e){var n=new Object;return n[e.basic]="Основная",n[e.preparatory]="Подготовительная",n[e.exempt]="Освобожденная ",n[e.lfk]="ЛФК",n[e.special]="Специальная",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("thematicPlanLessonType",["thematicPlanLessonTypes",function(e){var n=new Object;return n[e.lecture]="Лекция",n[e.practice]="Практика",n[e.laboratory]="Лаб. занятие",n[e.self]="Сам. работа",n[e.lesson]="Урок",n[e.consultation]="Консультация",n[e.seminar]="Семинар",n[e.excursion]="Экскурсия",n[e.examination]="Контр. работа",n[e.composition]="Сочинение",n[e.businessGame]="Деловая игра",n[e.practicalTraining]="Практ. занятие",n[e.sportStandarts]="Сдача спорт. нормативов",n[e.practicalWork]="Практ. работа",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("relationshipTypes",["relationshipTypes",function(e){var n=new Object;return n[e.mother]="мать",n[e.father]="отец",n[e.relative]="родственник",n[e.adoptiveParent]="приёмный родитель",n[e.stepparent]="усыновитель",n[e.guardian]="опекун",n[e.trustee]="попечитель",_.extend(function(e){var t;return null!=(t=n[e])?t:e},{$order:[e.mother,e.father,e.relative,e.guardian,e.adoptiveParent,e.stepparent,e.trustee]})}]).filter("representativeTypes",["relationshipTypes",function(e){var t=[e.adoptiveParent,e.stepparent,e.guardian,e.trustee];return function(e){return _.include(t,e)?e:""}}]).filter("educationProgramType",["educationProgramTypes",function(e){var n=new Object;return n[e.vocationalBasic]="Программа подготовки квалифицированных рабочих, служащих",n[e.vocationalBasicExecutives]="Программа подготовки специалистов среднего звена",n[e.vocationalSecondary]="Программа профессиональной подготовки по профессиям рабочих, служащих",n[e.vocationalSecondaryTraining]="Программа переподготовки рабочих, служащих",n[e.vocationalSecondaryRetraining]="Программа повышения квалификации рабочих, служащих",n[e.vocationalAdditional]="Дополнительная профессиональная программа",_.extend(function(e){var t;return null!=(t=n[e])?t:e},{$order:[e.vocationalBasicExecutives,e.vocationalBasic,e.vocationalSecondary,e.vocationalSecondaryTraining,e.vocationalSecondaryRetraining,e.vocationalAdditional]})}]).filter("specialtyType",["specialtyTypes",function(e){var n=new Object;return n[e.vocationalBasic]="Специальность подготовки квалифицированных рабочих, служащих",n[e.vocationalBasicExecutives]="Специальность подготовки специалистов среднего звена",n[e.vocationalSecondary]="Специальность профессиональной подготовки по профессиям рабочих, служащих",n[e.vocationalSecondaryTraining]="Специальность по программе переподготовки рабочих, служащих",n[e.vocationalSecondaryRetraining]="Специальность по программе повышения квалификации рабочих, служащих",n[e.vocationalAdditional]="Специальность по дополнительной профессиональной программе",_.extend(function(e){var t;return null!=(t=n[e])?t:e},{$order:[e.vocationalBasicExecutives,e.vocationalBasic,e.vocationalSecondary,e.vocationalSecondaryTraining,e.vocationalSecondaryRetraining,e.vocationalAdditional]})}]).filter("personName",function(){return function(e){return e?e.lastName+" "+e.firstName:""}}).filter("personShortName",function(){return function(e){return e?e.middleName?""+e.lastName+` ${e.firstName[0]}.${e.middleName[0]}.`:""+e.lastName+` ${e.firstName[0]}.`:""}}).filter("personFullName",function(){return function(e){return e?e.middleName?e.lastName+` ${e.firstName} `+e.middleName:e.lastName+" "+e.firstName:""}}).filter("isCourse",["termTypes",function(t){return function(e){return e&&e.termType===t.course}}]).filter("termType",["termTypes",function(e){var n=new Object;return n[e.semester]="семестр",n[e.trimester]="триместр",n[e.course]="курс",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("pluralTermType",["termTypes",function(e){var n=new Object;return n[e.semester]="семестры",n[e.trimester]="триместры",n[e.course]="курс",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("academicYearTitle",function(){return function(e){return e+" курс"}}).filter("academicTermTitle",["$filter","termTypes",function(r,i){return function(e,t,n){return t===i.course?n||"Весь курс":e+" "+r("termType")(t)}}]).filter("educationPeriodTitle",["$filter","termTypes",function(t,n){return function(e){return e.termType===n.course?t("academicYearTitle")(e.yearNumber):t("academicYearTitle")(e.yearNumber)+", "+t("academicTermTitle")(e.termNumber,e.termType)}}]).filter("educationYear",function(){return function(e){return e+"–"+(e+1)}}).filter("graduationYear",function(){return function(e){return""+e}}).filter("percent",["$filter",function(n){return function(e,t){return _.isNumber(e)&&!_.isNaN(e)?n("number")(e,null!=t?t:0)+"%":"0%"}}]).filter("percentIfNotEmpty",["$filter",function(n){return function(e,t){return _.isNumber(e)&&!_.isNaN(e)?n("number")(e,null!=t?t:0)+"%":""}}]).filter("legalStatus",["legalStatus",function(e){var n=new Object;return n[e.autonomous]="Автономное учреждение",n[e.stateFinanced]="Бюджетное учреждение",n[e.stateOwned]="Казённое учреждение",n[e.privateOwned]="Частное учреждение",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("classroomType",["classroomTypes",function(e){var n=new Object;return n[e.cabinet]="Кабинет",n[e.laboratory]="Лаборатория",n[e.hall]="Зал",n[e.multimediaCabinet]="Мультимедийный кабинет",n[e.computerClass]="Компьютерный класс",n[e.workroom]="Мастерская",n[e.studio]="Студия",n[e.sportsComplex]="Спортивный комплекс",n[e.firingField]="Полигон",n[e.fitnessComplex]="Тренажёрный комплекс",n[e.trainingWorkshop]="Учебный цех",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("fullAddress",function(){return function(e){return null!=e?_.isEmpty(e.region)?_.isEmpty(e.settlement)?_.isEmpty(e.mailAddress)?"Не определено":e.mailAddress+".":_.isEmpty(e.mailAddress)?e.settlement+".":e.settlement+`, ${e.mailAddress}.`:_.isEmpty(e.settlement)?_.isEmpty(e.mailAddress)?e.region+".":e.region+`, ${e.mailAddress}.`:_.isEmpty(e.mailAddress)?e.region+` ${e.settlement}.`:e.region+` ${e.settlement}, ${e.mailAddress}.`:"Не определено"}}).filter("pluralExaminationType",["examinationTypes",function(e){var n=new Object;return n[e.exam]="Экзамены",n[e.test]="Зачёты",n[e.differentiatedTest]="Дифф. зачёты",n[e.other]="Др. формы контроля",n[e.courseWork]="Курсовые работы",n[e.professionalModule]="Квалиф. экзамены по ПМ",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("examinationType",["examinationTypes",function(e){var n=new Object;return n[e.exam]="Экзамен",n[e.test]="Зачёт",n[e.differentiatedTest]="Дифф. зачёт",n[e.other]="Др. формы контроля",n[e.courseWork]="Курсовая работа",n[e.professionalModule]="Квалиф. экзамен по ПМ",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("examinationStage",["$filter","examinationStages",function(r,i){return function(e,t,n){switch(e){case i.tutorial:return n?"Консультации":"Консультация";case i.retake:return n?"Пересдачи":"Пересдача";default:return r("examinationType")(t)}}}]).filter("certificationType",["certificationTypes",function(e){var n=new Object;return n[e.preGraduationPractice]="Преддипломная практика",n[e.graduationWork]="Квалификационная работа",n[e.stateExam]="Государственный экзамен",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("subjectType",["subjectTypes",function(e){var n=new Object;return n[e.regular]="Дисциплина",n[e.practicalTraining]="Производственная практика",n[e.internship]="Учебная практика",n[e.mdk]="МДК",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("subjectNameType",["$filter","subjectTypes",function(t,n){return function(e){return e.type!==n.regular?e.name+" "+t("subjectTypeShort")(e.type):e.name}}]).filter("subjectTypeShort",["subjectTypes",function(e){var t=new Object;return t[e.practicalTraining]="(ППР)",t[e.internship]="(УПР)",t[e.mdk]="(МДК)",function(e){return null!=(e=t[e])?e:""}}]).filter("educationPlanSectionType",["educationPlanSectionTypes",function(e){var n=new Object;return n[e.regular]="Подраздел",n[e.professionalModule]="Профессиональный модуль",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("educationTaskType",["educationTaskTypes",function(e){var n=new Object;return n[e.lesson]="Ответ на занятии",n[e.control]="Контрольная работа",n[e.independent]="Самостоятельная работа",n[e.laboratory]="Лабораторное занятие",n[e.slice]="Срезовая работа",n[e.home]="Домашнее задание",n[e.review]="Реферат",n[e.test]="Тест",n[e.report]="Доклад",n[e.colloquium]="Коллоквиум",n[e.sportStandarts]="Сдача спортивных нормативов",n[e.practicalWork]="Практическая работа",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("decreeType",["decreeTypes",function(e){var n=new Object;return n[e.hire]="Приём на работу",n[e.fire]="Увольнение сотрудника",n[e.appoint]="Назначение на должность",n[e.dismiss]="Снятие с должности",n[e.enroll]="Зачисление в группу",n[e.retire]="Отчисление студента",n[e.move]="Перевод в группу",n[e.nextTerm]="Перевод на следующий период обучения",n[e.nextYear]="Перевод на следующий год обучения",n[e.graduate]="Завершение обучения",n[e.disband]="Ликвидация группы",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("enrollmentReason",["enrollmentReasons",function(e){var n=new Object;return n[e.freeEnrollment]="На условиях свободного приема",n[e.freeEnrollmentFast]="На условиях свободного приема (обучение по ускоренным программам)",n[e.unifiedStateExam]="По результатам ЕГЭ",n[e.unifiedStateExamAndAdditionalExams]="По результатам ЕГЭ и дополнительных вступительных испытаний",n[e.organizationExams]="По результатам вступительных испытаний, проводимых образовательным учреждением",n[e.finalExams]="По результатам государственной (итоговой) аттестации, проводимой экзаменационными комиссиями",n[e.otherEducationForm]="Переведен с других форм обучения данной профессиональной образовательной организации",n[e.otherEducationOrganizations]="Переведен из других профессиональных образовательных организаций и образовательных организаций высшего образования",n[e.backFromPrevExpelled]="Возвратился из числа ранее отчисленных",n[e.backFromArmy]="Возвратился из рядов Вооруженных Сил",n[e.otherReasons]="Другие причины",n[e.averageAttestationPoint]="По среднему баллу аттестата",n[e.averageAttestationPointAndAdditionalExams]="По среднему баллу аттестата и дополнительным вступительным испытаниям",n[e.backFromAcademicVacation]="Возвратился из академического отпуска",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("retirementReason",["retirementReasons",function(e){var n=new Object;return n[e.transferOnOtherEducationFormInThisOrganization]="Переведен на другие формы обучения в данном образовательном учреждении",n[e.transferInOtherEducationOrganizations]="Переведен в другие образовательные учреждения среднего и высшего профессионального образования",n[e.disease]="По болезни",n[e.personalDesire]="Добровольно оставил образовательное учреждение",n[e.sendDown]="Отчислен",n[e.sendDownForPoorProgress]="Отчислен по неуспеваемости",n[e.sendDownForFailFinalExams]="Отчислен (не прошёл итоговую аттестацию)",n[e.conscription]="Призван в ряды Вооруженных Сил",n[e.otherReasons]="Другие причины",n[e.graduation]="В связи с окончанием Учреждения",n[e.terminationOfContract]="В связи с расторжением договора на обучение",n[e.studentsDeath]="В связи со смертью студента",n[e.academicVacation]="Академический отпуск",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("markLong",["markRatings",function(e){var r=new Object;return r[e.fail]="незачёт",r[e.success]="зачёт",r[e.two]="2",r[e.three]="3",r[e.four]="4",r[e.five]="5",function(e,t,n){return e?r[e]:t?"•":null!=n?n:"пусто"}}]).filter("markShort",["markRatings",function(e){var r=new Object;return r[e.fail]="✘",r[e.success]="✔",r[e.two]="2",r[e.three]="3",r[e.four]="4",r[e.five]="5",function(e,t,n){return e?r[e]:t?"•":n}}]).filter("markAverage",function(){return function(e){return e?Math.round(100*e)/100:""}}).filter("markCssStyle",["markRatings",function(e){var t=new Object;return t[e.fail]="mark0",t[e.success]="mark1",t[e.two]="mark2",t[e.three]="mark3",t[e.four]="mark4",t[e.five]="mark5",function(e){return t[e]}}]).filter("averageCssStyle",function(){return function(e){return e<2.5?"mark2":e<3.5?"mark3":e<4.5?"mark4":"mark5"}}).filter("sum",function(){return function(e,n){return _.reduce(e,function(e,t){return e+(_.isNumber(t)?t:null!=(e=t[n])?e:0)},0)}}).filter("emptyValue",function(){return function(e){return 0===e?"-":e}}).filter("numOrEmptyValue",function(){return function(e){return null!=e?+e:"-"}}).filter("intDivision",function(){return function(e,t){return(e-e%t)/t}}).filter("militaryRank",["militaryRanks",function(e){var n=new Object;return n[e.conscript]="Подлежит призыву",n[e.commonSoldier]="Рядовой (матрос)",n[e.lanceCorporal]="Ефрейтор (старший матрос)",n[e.lanceSergeant]="Младший сержант (старшина 2-й статьи)",n[e.sergeant]="Сержант (старшина 1-й статьи)",n[e.staffSergeant]="Старший сержант (главный старшина)",n[e.pettyOfficer]="Старшина (главный корабельный старшина)",n[e.ensign]="Прапорщик (мичман)",n[e.seniorEnsign]="Старший прапорщик (старший мичман)",n[e.sublieutenant]="Младший лейтенант",n[e.lieutenant]="Лейтенант",n[e.seniorLieutenant]="Старший лейтенант",n[e.major]="Майор (капитан 3-го ранга)",n[e.lieutenantColonel]="Подполковник (капитан 2-го ранга)",n[e.colonel]="Полковник (капитан 1-го ранга)",n[e.majorGeneral]="Генерал-майор (контр-адмирал)",n[e.lieutenantGeneral]="Генерал-лейтенант (вице-адмирал)",n[e.colonelGeneral]="Генерал-полковник (адмирал)",n[e.generalOfTheArmy]="Генерал армии (адмирал флота)",n[e.marshal]="Маршал Российской Федерации (Адмирал Флота РФ)",n[e.captain]="Капитан (капитан-лейтенант)",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("militaryComposition",["militaryCompositions",function(e){var n=new Object;return n[e.soldiersAndSailors]="Солдаты, матросы, сержанты, старшины",n[e.ensignAndWarrantOfficers]="Прапорщики и мичманы",n[e.officersAndMarshals]="Офицеры и маршалы",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("reserveCategory",["reserveCategories",function(e){var n=new Object;return n[e.firstCategory]="Первая категория",n[e.secondCategory]="Вторая категория",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("groupOfAccounting",["groupsOfAccounting",function(e){var n=new Object;return n[e.army]="РА",n[e.fleet]="ВМФ",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("fitnessForMilitaryService",["fitnessForMilitaryServices",function(e){var n=new Object;return n[e.fit]="Годен к военной службе",n[e.fitWithSmallLimitations]="Годен к военной службе с незначительными ограничениями",n[e.limitedlyFit]="Ограниченно годен к военной службе",n[e.temporarilyUnfit]="Временно не годен к военной службе",n[e.unfit]="Не годен к военной службе",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("positionType",["positionTypes",function(e){var n=new Object;return n[e.executives]="Руководящие работники",n[e.teachingStaff]="Педагогические работники",n[e.supportStuff]="Учебно-вспомогательный персонал",n[e.serviceStuff]="Обслуживающий персонал",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("positionKind",["positionKinds",function(e){var n=new Object;return n[e.main]="Основная",n[e.additional]="Дополнительная",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("academicDegree",["academicDegrees",function(e){var n=new Object;return n[e.doctorate]="Доктор наук",n[e.doctorant]="Кандидат наук",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("academicTitle",["academicTitles",function(e){var n=new Object;return n[e.professor]="Профессор",n[e.associateProfessor]="Доцент",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("laborContract",["laborContracts",function(e){var n=new Object;return n[e.employment]="Трудовой договор",n[e.partTime]="Трудовой договор о работе по совместительству",n[e.work]="Договор гражданско-правового характера",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("qualificationCategory",["qualificationCategories",function(e){var n=new Object;return n[e.none]="Не имеет",n[e.conformity]="Соответствие",n[e.higher]="Высшая",n[e.first]="Первая",_.extend(function(e){var t;return null!=(t=n[e])?t:e},{$order:[e.none,e.conformity,e.first,e.higher]})}]).filter("disabilityGroup",["disabilityGroups",function(e){var n=new Object;return n[e.first]="Первая группа",n[e.second]="Вторая группа",n[e.third]="Третья группа",n[e.disabledChild]="Ребенок-инвалид",_.extend(function(e){var t;return null!=(t=n[e])?t:e},{$order:[e.first,e.second,e.third,e.disabledChild]})}]).filter("healthCategory",["healthCategories",function(e){var n=new Object;return n[e.hearingLoss]="Нарушения слуха",n[e.sightDisorders]="Нарушения зрения",n[e.speechDisorders]="Нарушения речи",n[e.musculoskeletalDisorders]="Нарушения опорно-двигательного аппарата",n[e.mentalDisorders]="Задержка психического развития",n[e.intellectualDisability]="Умственная отсталость",n[e.autism]="Расстройства аутистического спектра",n[e.complexDefects]="Сложные дефекты",n[e.somaticDefects]="Соматические нарушения",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("learningLanguage",["learningLanguages",function(e){var n=new Object;return n[e.english]="Английский язык",n[e.french]="Французский язык",n[e.german]="Немецкий язык",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("organizationStatus",["organizationStatus",function(e){var n=new Object;return n[e.function]="Функционирует",n[e.overhaul]="Капитальный ремонт",n[e.reconstruction]="Реконструкция",n[e.activitiesSuspended]="Деятельность приостановлена",n[e.contingentMissing]="Контингент отсутствует",n[e.awaitingOpening]="Ожидает открытия",n[e.liquidated]="Ликвидирована",n[e.closed]="Закрыта",n[e.joinToOtherOrg]="Присоед. к др. ОО",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("portfolioTypes",["portfolioTypes",function(e){var n=new Object;return n[e.activity]="Мероприятие",n[e.project]="Проект",n[e.outclassActivity]="Внеурочная деятельность",n[e.outclassOrganizational]="Внеурочное участие в мероприятиях в образовательной организации",n[e.outclassNonEducational]="Внеурочное посещение необразовательных организаций",n[e.outclassIndividual]="Внеурочные самостоятельные занятия",_.extend(function(e){var t;return null!=(t=n[e])?t:e},{$order:[e.activity,e.project,e.outclassActivity,e.outclassOrganizational,e.outclassNonEducational,e.outclassIndividual]})}]).filter("eventTypes",["eventTypes",function(e){var n=new Object;return n[e.other]="Другое",n[e.olympics]="Олимпиада",n[e.contest]="Конкурс",n[e.show]="Концерт, вечер, сценка, КВН и т.д.",n[e.championshipYamalskills]='Чемпионат "Ямалскиллс"',_.extend(function(e){var t;return null!=(t=n[e])?t:e},{$order:[e.olympics,e.contest,e.show,e.other,e.championshipYamalskills]})}]).filter("involvementDegrees",["involvementDegrees",function(e){var n=new Object;return n[e.other]="Другое",n[e.familiarization]="Ознакомление с производством",n[e.preGraduationProject]="Преддипломный проект",n[e.implOwnProject]="Внедрение собственных разработок",_.extend(function(e){var t;return null!=(t=n[e])?t:e},{$order:[e.familiarization,e.preGraduationProject,e.implOwnProject,e.other]})}]).filter("participantStatuses",["participantStatuses",function(e){var n=new Object;return n[e.winner]="Победитель",n[e.awardee]="Призёр",n[e.participant]="Участник",_.extend(function(e){var t;return null!=(t=n[e])?t:e},{$order:[e.winner,e.awardee,e.participant]})}]).filter("eventStatuses",["eventStatuses",function(e){var n=new Object;return n[e.other]="Другой",n[e.international]="Международный",n[e.country]="Всероссийский",n[e.interRegion]="Межрегиональный",n[e.region]="Областной",n[e.interDistrict]="Межрайонный",n[e.district]="Районный",n[e.city]="Городской",n[e.interOrganization]="Между ПОО",n[e.organization]="Внутри ПОО",_.extend(function(e){var t;return null!=(t=n[e])?t:e},{$order:[e.international,e.country,e.interRegion,e.region,e.interDistrict,e.district,e.city,e.interOrganization,e.organization,e.other]})}]).filter("scienceEventStatuses",["scienceEventStatuses",function(e){var n=new Object;return n[e.municipal]="Муниципальный",n[e.regional]="Региональный",n[e.federal]="Федеральный",n[e.international]="Международный",_.extend(function(e){var t;return null!=(t=n[e])?t:e},{$order:[e.municipal,e.regional,e.federal,e.international]})}]).filter("participationStatuses",["participationStatuses",function(e){var n=new Object;return n[e.other]="Другое",n[e.author]="Автор",n[e.coauthor]="Соавтор",_.extend(function(e){var t;return null!=(t=n[e])?t:e},{$order:[e.other,e.author,e.coauthor]})}]).filter("institutionOrganizationTypes",["institutionOrganizationTypes",function(e){var n=new Object;return n[e.poo]="Профессиональная образовательная организация",n[e.dpo]="Организация дополнительного профессионального образования",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("educationDocumentType",["educationDocumentTypes",function(e){var n=new Object;return n[e.certificateSecondary]="Аттестат о среднем общем образовании",n[e.certificateBasic]="Аттестат об основном общем образовании",n[e.diplomaProf]="Диплом о среднем профессиональном образовании",n[e.diplomaBarchelor]="Диплом бакалавра",n[e.diplomaSpecialist]="Диплом специалиста",n[e.diplomaMaster]="Диплом магистра",n[e.diplomaPostgraduate]="Диплом об окончании аспирантуры (адъюнктуры)",n[e.diplomaResidency]="Диплом об окончании ординатуры",n[e.diplomaAssistantship]="Диплом об окончании ассистентуры-стажировки",n[e.certificateProfDevelopment]="Удостоверение о повышении квалификации",n[e.diplomaProfRetrain]="Диплом о профессиональной переподготовке",n[e.certificateWorker]="Свидетельство о профессии рабочего, должности служащего",n[e.certificateDisabilityTrain]="Свидетельство об обучении для лиц с ограниченными возможностями здоровья",n[e.certificateArt]="Свидетельство об освоении предпрофессиональной программы в области искусств",n[e.academicCertificate]="Академическая справка",n[e.diplomaProfBasic]="Диплом о среднем профессиональном образовании (или базовый уровень до 2009)",n[e.diplomaProfUpper]="Диплом о среднем профессиональном образовании (повышенный уровень)",n[e.diplomaProfHonorsBasic]="Диплом о среднем профессиональном образовании с отличием (или базовый уровень до 2009)",n[e.diplomaProfHonorsUpper]="Диплом о среднем профессиональном образовании с отличием (повышенный уровень)",n[e.diplomaProfHonors]="Диплом о среднем профессиональном образовании с отличием",n[e.diplomaProfPrimary]="Диплом о начальном профессиональном образовании",n[e.diplomaProfPrimaryGoldenMedal]="Диплом о начальном профессиональном образовании для награжденных золотой медалью",n[e.diplomaProfPrimarySilverMedal]="Диплом о начальном профессиональном образовании для награжденных серебряной медалью",n[e.diplomaProfPrimaryHonors]="Диплом о начальном профессиональном образовании с отличием",n[e.documentOtherEduc]="Другой документ об образовании",n[e.documentOtherTrain]="Другой документ об обучении",n[e.trainingCertificate]="Справка с места учебы",_.extend(function(e){var t;return null!=(t=n[e])?t:e},{$order:[e.certificateSecondary,e.certificateBasic,e.diplomaProf,e.diplomaBarchelor,e.diplomaSpecialist,e.diplomaMaster,e.diplomaPostgraduate,e.diplomaResidency,e.diplomaAssistantship,e.certificateProfDevelopment,e.diplomaProfRetrain,e.certificateWorker,e.certificateDisabilityTrain,e.certificateArt,e.academicCertificate,e.diplomaProfBasic,e.diplomaProfUpper,e.diplomaProfHonorsBasic,e.diplomaProfHonorsUpper,e.diplomaProfHonors,e.diplomaProfPrimary,e.diplomaProfPrimaryGoldenMedal,e.diplomaProfPrimarySilverMedal,e.diplomaProfPrimaryHonors,e.documentOtherEduc,e.documentOtherTrain,e.trainingCertificate]})}]).filter("profDocType",["profDocTypes",function(e){var n=new Object;return n[e.diploma]="Диплом",n[e.certificatePostgraduate]="Справка об обучении в аспирантуре",n[e.certificationOfPassedExams]="Удостоверение сданных экзаменов",_.extend(function(e){var t;return null!=(t=n[e])?t:e},{$order:[e.diploma,e.certificatePostgraduate,e.certificationOfPassedExams]})}]).filter("portfolioDocumentType",["portfolioDocumentTypes",function(e){var n=new Object;return n[portfolioDocumentTypes.education]="Образование",n[portfolioDocumentTypes.refresherCourse]="Курсы повышения квалификации",n[portfolioDocumentTypes.profDevelopment]="Профессиональное научное развитие",n[portfolioDocumentTypes.secondHigher]="Второе высшее, переподготовка",n[portfolioDocumentTypes.scientificAndMethodological]="Научно-методическая деятельность",_.extend(function(e){var t;return null!=(t=n[e])?t:e},{$order:[portfolioDocumentTypes.education,portfolioDocumentTypes.refresherCourse,portfolioDocumentTypes.profDevelopment,portfolioDocumentTypes.secondHigher]})}]).filter("requestStatus",["requestStatuses",function(e){var n=new Object;return n[e.draft]="Проект",n[e.registered]="Зарегистрировано",n[e.approved]="Допущен к аттестации",n[e.refused]="Отказано в прохождении аттестации",n[e.portfolioConfirmation]="Подтверждение портфолио",n[e.dataConfirmed]="Данные подтверждены",n[e.expertise]="Экспертиза",n[e.portfolioCorrecting]="Портфолио на доработке",n[e.expertiseComplete]="Экспертиза выполнена",n[e.expertiseAccepted]="Экспертиза принята",n[e.expertiseReturned]="Экспертиза возвращена",n[e.gakMeeting]="Заседание ГАК",n[e.categoryAssigned]="Установлена категория",n[e.categoryRefused]="Отказано в установлении категории",n[e.withdrawn]="Отозвано",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("profDocumentType",["profDocumentTypes",function(e){var n=new Object;return n[e.diploma]="Диплом",n[e.certificatePostgraduate]="Справка об обучении в аспирантуре",n[e.certificationOfPassedExams]="Удостоверение сданных экзаменов",_.extend(function(e){var t;return null!=(t=n[e])?t:e},{$order:[e.diploma,e.certificatePostgraduate,e.certificationOfPassedExams]})}]).filter("educationKind",["educationKinds",function(e){var n=new Object;return n[e.secondProfEducation]="Второе профессиональное образование",n[e.profRetraining]="Профессиональная переподготовка",n[e.internship]="Стажировка",_.extend(function(e){var t;return null!=(t=n[e])?t:e},{$order:[e.secondProfEducation,e.profRetraining,e.internship]})}]).filter("fileDataCategory",["fileDataCategories",function(e){var n=new Object;return n[e.undefined]="Без категории",n[e.requestCertification]="Заявление о проведении аттестации",n[e.prevCertCopy]="Копия аттестационного листа предыдущей аттестации",n[e.section1]="Раздел 1",n[e.section2]="Раздел 2",n[e.section3]="Раздел 3",n[e.section4]="Раздел 4",n[e.agreementOfProcessingPersonalData]="Согласие на обработку персональных данных",_.extend(function(e){var t;return null!=(t=n[e])?t:e})}]).filter("identityDocumentType",["identityDocumentTypes",function(e){var n=new Object;return n[e.rfPassport]="Паспорт РФ",n[e.residencePermit]="Вид на жительство в РФ",n[e.militaryId]="Военный билет",n[e.temporaryId]="Временное удостоверение личности гражданина РФ",n[e.temporaryMilitaryId]="Временный военный билет",n[e.other]="Другой документ",n[e.internationalRfPassport]="Загранпаспорт гражданина РФ",n[e.foreignBirthCertificate]="Иностранное свидетельство о рождении",n[e.foreignPassport]="Иностранный паспорт",n[e.temporaryResidencePermit]="Разрешение на временное проживание в РФ",n[e.certificateOfTemporaryAsylum]="Свидетельство о предоставлении временного убежища",n[e.birthCertificate]="Свидетельство о рождении",n[e.certificateOfRefugeePetition]="Свидетельство о ходатайстве беженца",n[e.refugeeId]="Удостоверение беженца РФ",n[e.officerId]="Удостоверение военнослужащего",n[e.idWithoutcitizenship]="Удостоверение личности лица без гражданства РФ",n[e.idCertainCategories]="Удостоверение личности отдельных категорий лиц",_.extend(function(e){var t;return null!=(t=n[e])?t:e},{$order:[e.rfPassport,e.residencePermit,e.militaryId,e.temporaryId,e.temporaryMilitaryId,e.other,e.internationalRfPassport,e.foreignBirthCertificate,e.foreignPassport,e.temporaryResidencePermit,e.certificateOfTemporaryAsylum,e.birthCertificate,e.certificateOfRefugeePetition,e.refugeeId,e.officerId,e.idWithoutcitizenship,e.idCertainCategories]})}]).filter("needInHostelType",["needInHostelTypes",function(e){var n=new Object;return n[e.notNeeded]="Не требуется",n[e.needed]="Нуждается в общежитии",n[e.live]="Проживает в общежитии",_.extend(function(e){var t;return null!=(t=n[e])?t:e},{$order:[e.notNeeded,e.needed,e.live]})}]).filter("auditType",["auditTypes",function(e){var n=new Object;return n[e.insert]="Новое значение",n[e.update]="Изменение",n[e.delete]="Удаление",n[e.logIn]="Авторизация",n[e.loginEsia]="Авторизация и вход через ЕСИА",n[e.logOut]="Выход из системы",_.extend(function(e){var t;return null!=(t=n[e])?t:e},{$order:[e.insert,e.update,e.delete,e.logIn,e.loginEsia,e.logOut]})}]).filter("auditSection",["auditSections",function(e){var n=new Object;return n[e.coursework]="Курсовая работа",n[e.attestation]="Промежуточная аттестация",n[e.examinationProfModuleMark]="Квалификационный экзамен по проф. модулю",n[e.certificationMark]="Итоговая аттестация",n[e.professionalModule]="Аттестация проф. деятельности",n[e.decree]="Приказы",n[e.lesson]="Оценка на занятии",n[e.authentication]="Вход/выход пользователя из системы",n[e.userProfile]="Профиль пользователя",n[e.supplementaryEducationCertificate]="Сертификат доп. образования",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("actionType",["actionTypes",function(e){var n=new Object;return n[e.insert]="Новое значение",n[e.update]="Изменение",n[e.delete]="Удаление",n[e.logIn]="Авторизация",n[e.loginEsia]="Авторизация и вход через ЕСИА",n[e.logOut]="Выход из системы",_.extend(function(e){var t;return null!=(t=n[e])?t:e},{$order:[e.insert,e.update,e.delete,e.logIn,e.loginEsia,e.logOut]})}]).filter("certificateStatus",["certificateStatuses",function(e){var n=new Object;return n[e.frozen]="Заморожен",n[e.activated]="Активирован",n[e.notActivated]="Неактивирован",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("studentType",["studentTypes",function(e){var n=new Object;return n[e.student]="Студент",n[e.expelled]="Отчисленный студент",n[e.retired]="Выпускник",_.extend(function(e){var t;return null!=(t=n[e])?t:e},{$order:[e.student,e.retired,e.expelled]})}]).filter("placeOfDemand",["placeOfDemand",function(e){var n=new Object;return n[e.militaryCommissariat]="Военный комиссариат",n[e.another]="Другое",n[e.pensionFund]="Пенсионный фонд",_.extend(function(e){var t;return null!=(t=n[e])?t:e},{$order:[e.militaryCommissariat,e.another,e.pensionFund]})}]).filter("chatType",["chatTypes",function(e){var n=new Object;return n[e.teacherChat]="Учительская",n[e.groupChat]="Группа",n[e.parentChat]="Родители",n[e.subjectChat]="Предметы",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("formOfTraining",["formsOfTraining",function(e){var n=new Object;return n[e.inEducationOrganization]="В образовательной организации",n[e.outOfEducationOrganization]="Вне образовательной организации",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("educationDocumentStatus",["educationDocumentStatuses",function(e){var n=new Object;return n[e.original]="Оригинал",n[e.duplicate]="Дубликат",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("rFSubject",["rFSubjects",function(e){var n=new Object;return n[e.altayRegion]="Алтайский край",n[e.amurRegion]="Амурская область",n[e.arhangelskRegion]="Архангельская область",n[e.astrakhanRegion]="Астраханская область",n[e.belgorodRegion]="Белгородская область",n[e.bryanskRegion]="Брянская область",n[e.vladimirRegion]="Владимирская область",n[e.volgogradRegion]="Волгоградская область",n[e.vologdaRegion]="Вологодская область",n[e.voronezhRegion]="Воронежская область",n[e.moscow]="Москва",n[e.jewishAutonomousRegion]="Еврейская автономная область",n[e.transbaikalRegion]="Забайкальский край",n[e.ivanovoRegion]="Ивановская область",n[e.irkutskRegion]="Иркутская область",n[e.kabardinoBalkarianRegion]="Кабардино-Балкарская Республика",n[e.kaliningradRegion]="Калининградская область",n[e.kalugaRegion]="Калужская область",n[e.kamchatkaKrai]="Камчатский край",n[e.karachayCherkessRepublic]="Карачаево-Черкесская Республика",n[e.kemerovoRegion]="Калужская область",n[e.kirovRegion]="Кировская область",n[e.kostromaRegion]="Костромская область",n[e.krasnodarRegion]="Краснодарский край",n[e.krasnoyarskRegion]="Красноярский край",n[e.kurganRegion]="Курганская область",n[e.kurskRegion]="Курская область",n[e.leningradRegion]="Ленинградская область",n[e.lipetskRegion]="Липецкая область",n[e.magadanRegion]="Магаданская область",n[e.moscowRegion]="Московская область",n[e.murmanskRegion]="Мурманская область",n[e.nenetsAutonomousOkrug]="Ненецкий автономный округ",n[e.nizhnyNovgorodRegion]="Нижегородская область",n[e.novgorodRegion]="Новгородская область",n[e.novosibirskRegion]="Новосибирская область",n[e.omskRegion]="Омская область",n[e.orenburgRegion]="Оренбургская область",n[e.oryolRegion]="Орловская область",n[e.penzaRegion]="Пензенская область",n[e.permRegion]="Пермский край",n[e.primorskyKrai]="Приморский край",n[e.pskovRegion]="Псковская область",n[e.republicOfAdygea]="Республика Адыгея",n[e.altaiRepublic]="Республика Алтай",n[e.republicOfBashkortostan]="Республика Башкортостан",n[e.republicOfBuryatia]="Республика Бурятия",n[e.republicOfDagestan]="Республика Дагестан",n[e.republicOfIngushetia]="Республика Ингушетия",n[e.republicOfKalmykia]="Республика Калмыкия",n[e.republicOfKarelia]="Республика Карелия",n[e.komiRepublic]="Республика Коми",n[e.republicOfCrimea]="Республика Крым",n[e.republicOfMariEl]="Республика Марий Эл",n[e.republicOfMordovia]="Республика Мордовия",n[e.republicOfSakha]="Республика Саха (Якутия)",n[e.republicOfNorthOssetiaAlania]="Республика Северная Осетия – Алания",n[e.republicOfTatarstan]="Республика Татарстан",n[e.republicOfTyva]="Республика Тыва",n[e.RepublicOfKhakassia]="Республика Хакасия",n[e.rostovRegion]="Ростовская область",n[e.ryazanRegion]="Рязанская область",n[e.samaraRegion]="Самарская область",n[e.saintPetersburg]="Санкт-Петербург",n[e.saratovRegion]="Саратовская область",n[e.sakhalinRegion]="Сахалинская область",n[e.sverdlovskRegion]="Свердловская область",n[e.sevastopol]="Севастополь",n[e.smolenskRegion]="Смоленская область",n[e.stavropolRegion]="Ставропольский край",n[e.tambovRegion]="Тамбовская область",n[e.tverRegion]="Тверская область",n[e.tomskRegion]="Томская область",n[e.tulaRegion]="Тульская область",n[e.tyumenRegion]="Тюменская область",n[e.udmurtКepublic]="Удмуртская Республика",n[e.ulyanovskRegion]="Ульяновская область",n[e.khabarovskRegion]="Хабаровский край",n[e.khantyMansiAutonomousOkrug]="Ханты-Мансийский автономный округ – Югра",n[e.chelyabinskRegion]="Челябинская область",n[e.chechenRegion]="Чеченская Республика",n[e.chuvashRegion]="Чувашская Республика",n[e.chukotkaAutonomousOkrug]="Чукотский автономный округ",n[e.yamaloNenetsAutonomousOkrug]="Ямало-Ненецкий автономный округ",n[e.yaroslavlRegion]="Ярославская область",n[e.donetskPeopleRepublic]="Донецкая Народная Республика",n[e.luhanskPeopleRepublic]="Луганская Народная Республика",n[e.zaporozhyeRegion]="Запорожская область",n[e.khersonRegion]="Херсонская область",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("graduatedStudentsReportForm",["graduatedStudentsReportForms",function(e){var n=new Object;return n[e.monitoringOfEmployment]="Мониторинг трудоустройства выпускников",n[e.fisFrdo]="ФИС ФРДО",function(e){var t;return null!=(t=n[e])?t:e}}]).filter("lessonDurationType",["lessonDurationTypes",function(e){var n=new Object;return n[e.academicHour]="Академический час",n[e.forDay]="На весь день",n[e.forLesson]="На каждое занятие",function(e){var t;return null!=(t=n[e])?t:e}}]),angular.module("app.global.services",["app.global.services.rest","app.global.services.domain"]).constant("isEmptyCheck",function(e){return _.isUndefined(e)||_.isNull(e)||_.isEmpty(e)}).factory("termsCount",["termTypes",function(t){return function(e){switch(e){case t.semester:return 2;case t.trimester:return 3;case t.course:return 1;default:throw new Error(`Неизвестный тип учебного периода: '${e}'`)}}}]).service("stringHelper",function(){var t=/[^A-Za-zа-яА-ЯЁё -]/g;return{hasLetterOrSeparatorOnly:function(e){return _.isString(e)&&!e.match(t)},getLetterOrSeparatorOnly:function(e){return _.isString(e)?e.replace(t,""):e},normalizeSeparators:function(e){return _.isString(e)?this.getLetterOrSeparatorOnly(e).replace(/^(-|\s)+|(-|\s)+$/g,"").replace(/(-|\s)+/g,function(e){return-1===e.search("-")?" ":"-"}):e},normalizeWhitespace:function(e){return _.isString(e)?e.trim().replace(/(\s)+/g," "):e},fit:function(e,t,n="…"){var r,t=e.length-t;return t<=0?e:(r=e.substr(0,Math.round(e.length/2-t/2)))+n+e.substr(r.length+t+n.length)}}}).service("filterHelper",function(){return{setDefaultDateInPeriod:function(e,t){var n;return((n=moment({hour:0})).isAfter(e)?n.max(t):moment(e)).toDate()}}}).service("localSettings",["$window",function(r){var i=new Object;return{get:function(e,t=null){var n;return i[e]||(i[e]=(()=>{if(null==(n=r.localStorage.getItem("irtech."+e)))return t;try{return angular.fromJson(n)}catch(e){return n}})())},set:function(e,t){return r.localStorage.setItem("irtech."+e,angular.toJson(i[e]=t))}}}]).service("esiaSettingsService",["$window","authenticationRest","busyPromise",function(t,e,n){var r={isAvailable:!1,logoutUrl:null,loginUrl:null,bindEsiaUrl:null,unbindEsiaUrl:null,fromEsia:!1,useSaml:!1,redirectUri:null};return{bindEsia:function(){return t.location=r.bindEsiaUrl},redirectToLoginGateway:function(e){return t.location=r.loginUrl},redirectToLogoutGateway:function(e){return console.log("redirectToLogoutGateway",r.logoutUrl),t.location=r.logoutUrl},unbindEsiaToken:function(){return e.unbindEsiaToken()},loadEsiaSettings:function(){return n(e.loadEsiaSettings()).then(function(e){return r=e.data})},getEsiaSettings:function(){return r}}}]).service("errors",function(){return{getRestError:function(e){var n,r,t;return console.log("getRestError response is ",e),400===e.status&&(r=e.data.errors,n="",Object.keys(r).forEach(function(e,t){return console.log("value = ",r[e]),n=n.concat(r[e])})),409===(t=e.status)||401===t||500===t?e.data.responseStatus.message:400===e.status?"Введены некорректные данные ".concat(n):404===e.status?"Действие не может быть выполнено. Обновите страницу и повторите попытку.":403===e.status?"Недостаточно прав для операции.":"Произошла непредвиденная ошибка"},handleRestError:function(e,t){return t.$setValidity("rest",!1),t.$error.rest.message=this.getRestError(e)}}}).service("userRoles",["$window",function(n){return{getRoles:function(e){var t=[];return null!=e.employeeRole&&t.push({name:"Сотрудник",href:"/",selected:!/^\/(students)/.test(n.location.pathname)}),null!=e.studentRole&&t.push({name:"Студент",href:"/students/student.html",selected:/^\/students\/student\.html/.test(n.location.pathname)}),null!=e.parentRole&&t.push({name:"Родитель",href:"/students/parent.html",selected:/^\/students\/parent\.html/.test(n.location.pathname)}),t},getCurrentRole:function(e){var t;return null!=(t=_.find(e=this.getRoles(e),"selected"))?t:_.first(e)}}}]).service("redirect",["$window","userRoles",function(t,n){return{toLoginPage:function(){return t.location="/security/#/login"},toHomePage:function(e){e=n.getCurrentRole(e);return null!=e?t.location=e.href:this.toLoginPage}}}]).provider("session",["$httpProvider",function(e){return e.interceptors.push(["$q","$interval","$injector","redirect",function(t,e,n,r){var i=void 0,o=function(){return console.log("resetAutoLogoutWatcher"),null!=i&&e.cancel(i),i=e(function(){return n.invoke(["session",function(e){if(console.log("interval"),i=void 0,!e.isLoggedOut())return e.logout()}])},18e5,1)};return{request:function(e){return o(),_.extend(e,{data:_.cloneDeep(e.data,function(e){if(_.isDate(e))e=moment(e);else if(!moment.isMoment(e))return;return e.format("YYYY-MM-DD[T]HH:mm:ss.SSS")})})},responseError:function(e){return 401===e.status&&r.toLoginPage(),t.reject(e)}}}]),{$get:["localSettings","redirect","busyPromise","authenticationRest","userRoles","esiaSettingsService",function(t,n,r,i,o,e){return{logout:function(){return r(e.loadEsiaSettings()).then(function(){return e.getEsiaSettings().fromEsia?e.redirectToLogoutGateway(e.getEsiaSettings().logoutUrl):r(i.logout()).then(function(){return n.toLoginPage()},function(){return $.removeCookie("UID"),n.toLoginPage()})})},isLoggedOut:function(){return _.isUndefined($.cookie("UID"))},checkEmployeeAccess:function(){var e;if(this.isLoggedOut()||null==(null!=(e=this.getTenant())?e.employeeRole:void 0))return n.toLoginPage()},checkStudentAccess:function(){var e;if(this.isLoggedOut()||null==(null!=(e=this.getTenant())?e.studentRole:void 0))return n.toLoginPage()},checkParentAccess:function(){var e;if(this.isLoggedOut()||null==(null!=(e=this.getTenant())?e.parentRole:void 0))return n.toLoginPage()},switch:function(e){return r(i.switch(e)).then(()=>(t.set("tenantName",e),n.toHomePage(this.getTenant())))},updateTenants:function(){return r(i.getTenants()).then(function(e){return t.set("tenants",e.data)})},getTenant:function(){return this.getTenants()[t.get("tenantName")]},getCurrentTenantName:function(){var e=t.get("tenantName");return e=null===e?"":e},getTenants:function(){return t.get("tenants",{})},getLocalNetwork:function(){return t.get("localNetwork",!0)},redirectFromLoginPage:function(e){return t.set("localNetwork",e.localNetwork),t.set("tenantName",e.tenantName),t.set("tenants",e.tenants),t.set("installName",e.installName),n.toHomePage(e.tenants[e.tenantName])},getCounterParams:function(){var e=this.getTenant();return{ooType:"Профессиональная образовательная организация",ooName:e.settings.organization.name.toLowerCase(),role:o.getCurrentRole(e).name,system:"СГО. Модуль ПОО.",install:t.get("installName")}}}}]}}]).factory("tv4Promise",["$q",function(r){return tv4.addFormat("date",function(e){return _.isDate(e)||moment.isMoment(e)||_.isString(e)&&moment(e).isValid()?null:"value must be a date string in ISO format"}),tv4.addFormat("time",function(e){return _.isString(e)&&moment(e,"H:m").isValid()?null:"value must be a time string in HH:mm format"}),function(n){return function(e){var t=tv4.validateMultiple(e.data,n);return!0===t.valid?e:r.reject(t)}}}]).factory("busyPromise",["$q","$rootScope",function(n,r){var t=function(e){return r.$emit("busy",{isBusy:e})},i=function(e){return e.hasOwnProperty("$busy")?e.$busy++:e.$busy=1,t(!0)},o=function(e){return 0==--e.$busy&&delete e.$busy,t(!1)};return function(e,t){return i(t=t||r),e.then(function(e){return o(t),e},function(e){return o(t),n.reject(e)})}}]).factory("busyPromiseWithParams",["$q","$rootScope",function(i,o){var t=function(e){return o.$emit("busy",{isBusy:e})},a=function(e){return e.hasOwnProperty("$busy")?e.$busy++:e.$busy=1,t(!0)},s=function(e){return 0==--e.$busy&&delete e.$busy,t(!1)};return function(e,t,n,r){return a(t=t||o),e.then(function(e){return s(t),{promiseResonse:e,param1:n,param2:r}},function(e){return s(t),i.reject(e)})}}]).service("csvUtils",[function(){var c={qualifier:'"',delimiter:",",convert:function(e,t,n){return e}};return{parse:function(e,n={}){var t,r,i,o,a,s,u,d;for(n=_.extend({rows:[]},c,n),o=0,a=e.length,i=function(e,t){return e.push(n.convert(t.join(""),n.rows.length-1,e.length)),t.length=0};o<a;){for(u=[],r=!(s=!(d=[]));o<a;){if("\r"===(t=e.charAt(o++))||"\n"===t){if("\r"===t&&o<a&&"\n"===e.charAt(o)&&o++,!s)break;u.push("\r"),u.push("\n")}else if(t===n.delimiter){if(!s){r=!0,i(d,u);continue}u.push(t)}else t===n.qualifier&&(s||r)?s?o<a&&e.charAt(o)===n.qualifier?(u.push(t),o++):s=!1:r?s=!0:u.push(t):u.push(t);r=!1}!r&&0===u.length||i(d,u),n.rows.push(d)}return n.rows}}}]).service("csvImport",["$liteBox",function(s){return{showDialog:function(e,t,n,r,i,o,a){return s.liteBox({resolve:{title:function(){return e},columns:function(){return t},importFunction:function(){return n},comment:function(){return r},showDulComment:function(){return o},template:function(){return i},validationFunction:function(){return a}}}).open("app/templates/dialog.import.pug","Global.Import")}}}]).provider("parseDatesFromJson",[function(){var i=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{7}$/,o=function(e){var t,n,r;if("object"==typeof e)for(t in e)"string"==typeof(r=e[t])&&(n=r.match(i))?e[t]=moment(n[0]).toDate():o(r)};return{parse:function(e){return e.defaults.transformResponse.push(function(e){return o(e),e})},$get:angular.noop}}]).service("securityManager",["session",function(n){return{permissions:{EditNews:100,EditOrganizationInfo:101,EditBankingDetails:102,EditClassrooms:103,ViewGradebook:200,EditGradebook:201,ViewAttestation:202,EditExamination:203,EditCertification:204,AllowTransfer:205,EditGradebookPast:206,EditProfAttestation:207,EditStudentFactHours:208,EditScheduleLessons:300,EditScheduleExams:301,EditScheduleRings:302,EditEducationPrograms:400,EditApprovedEducationPlans:401,ApproveEducationPlans:402,EditWorkingPrograms:403,ApproveThematicPlans:404,EditEducationCalendars:405,EditSubjects:406,EditEducationCharts:407,EditSpecialties:408,EditPermissionGroups:500,EditPositions:501,EditEmployees:502,EditEnrollees:503,EditStudents:504,EditCredentials:506,ViewStudents:507,ViewStudentsPersonalInfo:508,ViewEmployees:509,ViewEmployeesPersonalInfo:510,ViewEnrollees:511,ViewEnrolleesPersonalInfo:512,ViewRetiredStudents:513,ManageSupplementaryEductionCertificate:514,ProcessStudentWorkFlow:516,ProcessEmployeeWorkFlow:517,ManageChats:518,EditStudentGroups:600,EditSubjectGroups:601,EditDepartments:602,ViewReports:700,ViewAuditLog:800,EditAdminSettings:801},hasPermission:function(e){var t;return _.isObject(t=null!=(t=n.getTenant())?t.employeeRole:void 0)&&-1!==t.permissions.indexOf(_.isString(e)?this.permissions[e]:e)},localNetwork:function(){return n.getLocalNetwork()}}}]).service("$export",["$timeout","session","redirect",function(n,r,i){return{download:function(e,t){if(!r.isLoggedOut())return n(function(){return $("<form>").attr("method","POST").attr("action",e).hide().append($('<input type="hidden" name="json"/>').val(JSON.stringify(t))).appendTo(document.body).submit().remove()});i.toLoginPage()}}}]).factory("counter",["$window","$q","session",function(e,t,n){var r=t.defer();return _.tap(r.promise,function(){return null==e.yandex_metrika_callbacks&&(e.yandex_metrika_callbacks=[]),e.yandex_metrika_callbacks.push(function(){return r.resolve(new e.Ya.Metrika({id:28935260,accurateTrackBounce:!0,ut:"noindex",params:n.getCounterParams()}))})})}]).factory("globalRun",["session","$rootScope","$location","counter",function(t,e,n,r){return{run:function(){return e.$on("$locationChangeSuccess",function(){return r.then(function(e){return e.hit(n.url(),void 0,void 0,t.getCounterParams())})})}}}]).service("chatService",["$liteBox","busyPromise",function(r,a){return{onLinkCompleteShowMessage:function(e,t){if(console.log("onLinkCompleteShowMessage",e),!e)return r.messageBox("Подтверждение","Учебный профиль VK Мессенджер успешно привязан.",[{text:"ОК",result:!0}]),t.vkEduProfile="not empty";r.errorBox(e.message)},windowOpen:function(e){var t,n,r,i,o,a;for(console.log("windowOpen",e),o=e.url||"",t=e.name||"",i=e.specs||"",(a=e.winChild)&&!a.closed&&a.close(),a=window.open(o,t,i),n=(e.winChild=a).opener,r=[];n&&!n.closed;)try{n.childWindows.push(a),r.push(n=n.opener)}catch(e){0;break}return r},unlinkVkEduProfile:function(t,n){return r.confirmDelete("Отменить привязку учебного профиля VK ID?").then(function(e){if(e)return a(t.unlinkVkEduProfile(),n).then(function(){return r.messageBox("Подтверждение","Привязка учебного профиля VK ID отменена.",[{text:"ОК",result:!0}]),n.vkEduProfile=""})})},absolutePath:function(e){var t=document.createElement("a");return t.href=e,t.href},linkVKProfile:function(t,i,o){return console.log("linkVKProfile"),a(t.getIp(),i).then(function(e){return console.log(e),a(t.getVkAccessData({ip:e}),i).then(function(e){var t,n,r;return console.log(e),r={url:"",name:"vk-auth",specs:"status=yes, toolbar=no,menubar=no,location=no,scrollbars=yes,resizable=yes,directories=no,width=820,height=620",winChild:t=null},console.log("winOptions",r),n=o.absolutePath("/integration/vk/auth-callback"),console.log("callbackurl",n),o.windowOpen(r),(t=r.winChild).appId=e.data.appId,t.superAppToken=e.data.superAppToken,t.callback=n,console.log("authWin",t),(r=t.document).open(),r.write('<head><script src="https://unpkg.com/@vkontakte/superappkit@1.57.0/dist/index-umd.js"><\/script><script src="/js/vk-auth.js"><\/script><script type="text/javascript">authVk();<\/script></head>'),r.close(),window.vkLinkComplete=function(e){return o.onLinkCompleteShowMessage(e,i)}})})}}}]),angular.module("app.global.services.domain",[]).factory("EntitySelection",function(){return class{constructor(e=angular.noop){this._currentChanged=e,this._current=null,this._checked={},this.$selected=[],this.$version=0}clear(){for(var e in this._current=null,this._checked)delete this._checked[e];return this.$selected.length=0,this.$version++}isEmpty(){return _.isEmpty(this.$selected)}isCurrent(e){return this._current===e}current(){var e;return 0!==arguments.length&&this._current!==(e=arguments[0])&&(null==this._current||this.isChecked(this._current)||_.remove(this.$selected,this._current),null==e||this.isChecked(e)||this.$selected.push(e),this._current=e,this.$version++,this._currentChanged(e)),this._current}isChecked(e){return null!=this._checked[e.id]}toggle(e){return this.isChecked(e)?this.uncheck(e):this.check(e)}check(e){if(this._checked[e.id]!==e)return this._current!==e&&this.$selected.push(e),this._checked[e.id]=e,this.$version++}uncheck(e){if(null!=this._checked[e.id])return this._current!==e&&_.remove(this.$selected,e),delete this._checked[e.id],this.$version++}}}).factory("EntitySet",function(){return class{constructor(){this._list=[],this._map={}}find(e){return angular.isNumber(e)?this._map[e]:_.find(this._list,e)}filter(e){return _.filter(this._list,e)}contains(e){return null!=this.find(e)}merge(e){var t,n,r;if(_.isArray(e))for(t=0,r=e.length;t<r;t++)n=e[t],this.merge(n);else this.contains(e.id)?_.merge(this._map[e.id],e):this.add(e)}add(e){var t,n,r;if(_.isArray(e))for(t=0,r=e.length;t<r;t++)n=e[t],this.add(n);else{if(this.contains(e.id))throw new Error("Добавляемый элемент уже находится в списке");this._list.push(this._map[e.id]=e)}}remove(e){var t,n,r;if(_.isArray(e))for(t=0,r=e.length;t<r;t++)n=e[t],null!=this.find(n.id)&&this.remove(n);else{if(!this.contains(e.id))throw new Error("Удаляемая запись не найдена в списке");this._list.splice(_.findIndex(this._list,{id:e.id}),1),delete this._map[e.id]}}clear(){for(var e in this._list.length=0,this._map)delete this._map[e]}isEmpty(){return _.isEmpty(this._list)}first(){return _.first(this._list)}toArray(){return this._list.slice()}}}).factory("DataSource",["$http","$q","$liteBox","busyPromise","tv4Promise","errors","EntitySet",function(n,r,t,i,o,a,s){return class{constructor(e,t,n={}){this.path=e,this.title=t,this.entities=new s,this.params=_.defaults(n,{schema:{type:"object"}})}load(e){return i(n.get(this.path,{params:e}).then(o({$schema:"http://json-schema.org/draft-04/schema#",type:"array",items:this.params.schema})),this.params.scope).then(e=>this.entities.merge(e.data),e=>t.errorBox(`Ошибка загрузки списка «${this.title}»`,e))}ensureLoaded(){var e;return null!=(e=this.promise)?e:this.promise=this.load()}add(t){return i(n.post(this.path,t),this.params.scope).then(e=>{if(_.isNumber(e.data.id))return this.entities.add(_.extend(t,{id:e.data.id}));throw new Error("Добавленный элемент получил некорректный идентификатор")},function(e){return r.reject(a.getRestError(e))})}update(e){if(this.entities.contains(e.id))return i(n.put(this.path+"/"+e.id,e),this.params.scope).then(()=>this.entities.merge(e),function(e){return r.reject(a.getRestError(e))});throw new Error("В списке должен быть объект который будет обновляться")}delete(e){if(this.entities.contains(e.id))return i(n.delete(this.path+"/"+e.id),this.params.scope).then(()=>this.entities.remove(e),function(e){return t.warningBox(a.getRestError(e),e)});throw new Error(`Удаляемая запись не присутствует в списке «${this.title}»`)}}}]),angular.module("app.global.services.rest",["app.global.services.rest.schemas","angularFileUpload"]).service("authenticationRest",["$http",function(r){return{switch:function(e){return r.put("/services/security/switch-tenant",{name:e})},getTenants:function(){return r.get("/services/security/get-tenants")},loadEsiaSettings:function(){return r.get("/services/security/esia-settings")},unbindEsiaToken:function(){return r.post("/services/esia/unbindByUser")},logout:function(){return r.delete("/services/security/logout")},setCredentials:function(e,t){return r.put(`/services/security/user-profile/${e}/credentials`,t)},resetCredentials:function(e){return r.delete(`/services/security/user-profile/${e}/credentials`)},batchCredentials:function(e){return r.post("/services/security/credentials",e)},checkLogin:function(e,t,n){return r.post(`/services/security/user-profile/${e}/credentials`,{id:e,login:t},{timeout:n.promise})}}}]).service("fileUploadService",["$http",function(e){return{upload:function(){}}}]).service("organizationRest",["$http","$upload",function(t,n){return{load:function(){return t.get("/services/people/organization")},updateInfo:function(e){return t.put("/services/people/organization",e)},updateDetails:function(e){return t.put("/services/people/organization/details",e)},loadStatistics:function(){return t.get("/services/people/organization/statistics")},getNewsSettings:function(){return t.get("/services/people/organization/news/settings")},loadLastNews:function(e){return t.get("/services/people/organization/news/last/"+e)},addNews:function(e,t){return console.log("organizationRest.addNews ",e,t),n.upload({url:"/services/people/organization/news",method:"POST",data:e,file:t})},loadOrganizationDepts:function(){return t.get("/services/people/organization/depts")},loadLicenseInfo:function(){return t.get("/services/people/organization/license")},updateLicenseInfo:function(e){return t.put("/services/people/organization/license",e)},loadOrganizations:function(){return t.get("/services/people/organization/all")},updateSystemSettings:function(e){return t.put("/services/people/organization/eservice",{isEnabled:e.isEnabled})},updateCertification:function(e){return t.post("/services/people/organization/certification",{isEnabled:e.isEnabled})},updateFacthours:function(e){return t.put("/services/people/organization/facthours",{isEnabled:e.isEnabled})},updateVkChatsSessings:function(e){return t.put("/services/people/organization/vkChats",{communityId:e.communityId,communityToken:e.communityToken})},loadSystemInfo:function(){return t.get("/services/people/system/info")},"сanHaveCertification":function(){return t.get("/services/people/employees/cert/canHaveCertification")}}}]).service("supportRest",["$http",function(n){return{getVersion:function(){return n.get("/services/security/version")},sendMessage:function(e,t){return n.post("/services/security/send-message",{email:e,message:t})}}}]).service("userPreferencesRest",["$http",function(n){return{getSetting:function(e,t){return n.post("/services/people/userPreferences/",{setting:t,page:e})}}}]).factory("ClassroomsReference",["DataSource","classroomSchema",function(e,t){return class extends e{constructor(e={}){super("/services/schedule/classrooms/all","Корпуса и аудитории",_.extend(e,{schema:t}))}}}]).factory("PrivilegedCategoriesReference",["DataSource","idNameSchema",function(e,t){return class extends e{constructor(e={}){super("/services/reference/privileged-categories","Льготные категории",_.extend(e,{schema:t}))}}}]).factory("EducationCalendarsReference",["DataSource","educationCalendarReferenceSchema",function(e,t){return class extends e{constructor(e={}){super("/services/plan/calendars/all","Учебные календари",_.extend(e,{schema:t}))}}}]).factory("EducationProgramsReference",["DataSource","educationProgramReferenceSchema",function(e,t){return class extends e{constructor(e={}){super("/services/plan/education-programs/approved","Образовательные программы",_.extend(e,{schema:t}))}}}]).factory("EmployeesReference",["DataSource","idPersonNameSchema",function(e,t){return class extends e{constructor(e={}){super("/services/people/employees/all","Сотрудники",_.extend(e,{schema:t}))}}}]).factory("PositionsReference",["DataSource","idNameSchema",function(e,t){return class extends e{constructor(e={}){super("/services/people/positions/all","Должности",_.extend(e,{schema:t}))}}}]).factory("PermissionGroupsReference",["DataSource","idNameSchema",function(e,t){return class extends e{constructor(e={}){super("/services/reference/permission-groups","Группы прав",_.extend(e,{schema:t}))}}}]).factory("SubjectsReference",["DataSource","subjectReferenceSchema",function(e,t){return class extends e{constructor(e={}){super("/services/plan/subjects/flatten","Преподаваемые дисциплины",_.extend(e,{schema:t}))}}}]).factory("PlanSubjectsReference",["DataSource","subjectReferenceSchema",function(e,t){return class extends e{constructor(e={}){super("/services/plan/subjects/plan","Дисциплины учебного плана",_.extend(e,{schema:t}))}}}]).factory("SpecialtiesReference",["DataSource","specialtyReferenceSchema",function(e,t){return class extends e{constructor(e={}){null!=e.isExt&&e.isExt?super("/services/plan/specialties/netcity","Специальности",_.extend(e,{schema:t})):super("/services/plan/specialties","Специальности",_.extend(e,{schema:t}))}}}]).factory("QualificationReference",[""]).factory("StudentGroupsReference",["DataSource","studentGroupReferenceSchema","session",function(e,t,n){return class extends e{constructor(e={}){super("/services/people/student-groups/all","Учебные группы",_.extend(e,{schema:t}))}}}]).factory("TeachersReference",["DataSource","idPersonNameSchema",function(e,t){return class extends e{constructor(e={}){super("/services/people/employees/all","Преподаватели",_.extend(e,{schema:t}))}}}]).factory("TeachersWithClassroomReference",["DataSource","idPersonNameSchema",function(e,t){return class extends e{constructor(e={}){super("/services/people/employees/employeeswithclassroom","Преподаватели",_.extend(e))}}}]).factory("DepartmentsReference",["DataSource","departmentReferenceSchema","session",function(e,t,n){return class extends e{constructor(e={}){super("/services/people/departments/all","Отделения",_.extend(e,{schema:t}))}findByLoggedEmployee(){var e;return this.entities.find({managerId:null!=(e=n.getTenant().employeeRole)?e.id:void 0})}}}]).factory("CountriesReference",["DataSource","idNameSchema",function(e,t){return class extends e{constructor(e={}){super("/services/reference/countries","Гражданство",_.extend(e,{schema:t}))}}}]).factory("GroupShiftReference",["DataSource","idNameSchema",function(e,t){return class extends e{constructor(e={}){super("/services/people/student-groups/shifts","Смены обучения",_.extend(e,{schema:t}))}}}]),angular.module("app.global.services.rest.mock",[]),angular.module("app.global.services.rest.schemas",[]).service("schemaHelper",function(){return{extend:function(e,...t){return _.reduce(t,function(e,t){return _.merge(e,t,function(e,t){if(_.isArray(e))return _.union(e,t)})},_.defaults(e,{type:"object",additionalProperties:!1,required:[],properties:{}}))},union:function(){return this.extend.apply(this,_.union([new Object],arguments))},create:function(){return this.extend.apply(this,_.union([{$schema:"http://json-schema.org/draft-04/schema#"}],arguments))}}}).constant("idNameSchema",{type:"object",additionalProperties:!1,required:["id","name"],properties:{id:{type:"integer"},name:{type:"string"}}}).constant("classroomSchema",{type:"object",additionalProperties:!1,required:["id","name","building"],properties:{id:{type:"integer"},name:{type:"string"},building:{type:"string"}}}).constant("idPersonNameSchema",{type:"object",additionalProperties:!1,required:["id","firstName","lastName"],properties:{id:{type:"integer"},firstName:{type:"string"},middleName:{type:"string"},lastName:{type:"string"}}}).constant("idPersonNameWithNumberSchema",{type:"object",additionalProperties:!1,required:["number","id","firstName","lastName"],properties:{number:{type:"integer"},id:{type:"integer"},firstName:{type:"string"},middleName:{type:"string"},lastName:{type:"string"},averageScore:{type:"number"}}}).constant("educationProgramReferenceSchema",{type:"object",additionalProperties:!1,required:["id","name","academicYears"],properties:{id:{type:"integer"},name:{type:"string"},academicYears:{type:"array",items:{type:"object",additionalProperties:!1,required:["id","number","termType","isEditable","terms"],properties:{id:{type:"integer"},number:{type:"integer"},termType:{type:"string"},isEditable:{type:"boolean"},terms:{type:"array",items:{type:"object",additionalProperties:!1,required:["id","number","weeks","hasAnyStudentGroups"],properties:{id:{type:"integer"},number:{type:"integer"},weeks:{type:"number"},hasAnyStudentGroups:{type:"boolean"}}}}}}}}}).constant("educationCalendarReferenceSchema",{type:"object",additionalProperties:!1,required:["id","name","yearNumber","termType","startDate","endDate"],properties:{id:{type:"integer"},name:{type:"string"},yearNumber:{type:"integer"},termType:{type:"string"},startDate:{format:"date"},endDate:{format:"date"}}}).constant("subjectReferenceSchema",{type:"object",additionalProperties:!1,required:["id","name","type"],properties:{id:{type:"integer"},name:{type:"string"},type:{type:"string"}}}).constant("specialtyReferenceSchema",{type:"object",additionalProperties:!0,required:["id","name","type","year"],properties:{id:{type:"integer"},code:{type:"string"},name:{type:"string"},type:{type:"string"},isActive:{type:"boolean"},isReadOnly:{type:"boolean"},uid:{type:"string"},state:{type:"boolean"},qualifications:{type:"array",items:{id:{type:"integer"},name:{type:"string"}}}}}).factory("studentGroupReferenceSchema",["educationForms",function(e){return{type:"object",additionalProperties:!1,required:["id","code","name","yearNumber","educationForm","curatorId"],properties:{id:{type:"integer"},code:{type:"string"},name:{type:"string"},yearNumber:{type:"integer"},departmentId:{type:"integer"},educationForm:{enum:_.values(e)},curatorId:{type:"integer"},shiftId:{type:"integer"}}}}]).constant("departmentReferenceSchema",{type:"object",additionalProperties:!1,required:["id","name","managerId"],properties:{id:{type:"integer"},name:{type:"string"},managerId:{type:"integer"}}}),angular.module("app.global.translation",["pascalprecht.translate"]).provider("$pooTranslation",[function(){return{setupTranslation:function(e){return e.translations("tg",translations_tg).translations("ru",translations_ru).fallbackLanguage("ru").preferredLanguage("ru"),e.useSanitizeValueStrategy("escape"),e.useMissingTranslationHandlerLog()},$get:angular.noop}}]),translations_ru={LOGIN:{SYSTEM_TITLE:"Сетевой город. Образование","Модуль_ПОО":"Модуль ПОО","Введите_логин_и_пароль":"Введите логин и пароль.","логин":"логин","пароль":"пароль","Войти":"Войти","Войти_через_портал_гос_услуг":"Войти через портал гос. услуг","Запомнить_меня":"Запомнить меня","Забыли_свой_пароль":"Забыли свой пароль?","АИС_разработана_АО":"АИС разработана АО","г_Самара":"г. Самара","Все_права_защищены":"Все права защищены","Версия":"Версия"}},translations_tg={LOGIN:{SYSTEM_TITLE:"Шаҳри шабака. Маориф","Модуль_ПОО":"Модули ТКТ","Введите_логин_и_пароль":"Логин ва паролро ворид кунед.","логин":"даромадан","пароль":"парол","Войти":"Барои даромадан","Войти_через_портал_гос_услуг":"Ба воситаи портали давлатӣ ворид шавед. хизматрасонй","Запомнить_меня":"Маро дар ёд дор","Забыли_свой_пароль":"Калидвожаатонро фаромӯш кардед?","АИС_разработана_АО":"AIS аз ҷониби ҶСК","г_Самара":"Самара","Все_права_защищены":"Ҳамаи ҳуқуқ маҳфуз аст","Версия":"Версия"}},angular.module("app.global.mockdb.calendars",[]).factory("mockdb.educationCalendars",["mockdb.newId","termTypes",function(e,t){var n=function(){var e=new Date;return e.getMonth()<8?e.getFullYear()-1:e.getFullYear()};return _.map([{id:e(),name:"Основной",termType:t.semester,yearNumber:2013,inUse:!0,startDate:moment([2013,8,2]).toDate(),endDate:moment([2014,5,1]).toDate(),periods:[{id:e(),number:1,startDate:moment([2013,8,2]).toDate(),endDate:moment([2013,11,31]).toDate()},{id:e(),number:2,startDate:moment([2014,1,10]).toDate(),endDate:moment([2014,5,27]).toDate(),sessionStartDate:moment([2014,5,1]).toDate()}]},{id:e(),name:"Календарь начального курса",termType:t.trimester,yearNumber:2013,inUse:!1,startDate:moment([2013,8,2]).toDate(),endDate:moment([2014,5,2]).toDate(),periods:[{id:e(),number:1,startDate:moment([2013,8,2]).toDate(),endDate:moment([2013,11,1]).toDate(),sessionStartDate:moment([2013,10,11]).toDate()},{id:e(),number:2,startDate:moment([2013,11,9]).toDate(),endDate:moment([2014,2,30]).toDate(),sessionStartDate:moment([2014,2,10]).toDate()},{id:e(),number:3,startDate:moment([2014,3,7]).toDate(),endDate:moment([2014,5,30]).toDate(),sessionStartDate:moment([2014,5,2]).toDate()}]},{id:e(),name:"Календарь выпускных курсов",termType:t.semester,yearNumber:2013,inUse:!0,startDate:moment([2013,8,2]).toDate(),endDate:moment([2014,5,27]).toDate(),periods:[{id:e(),number:1,startDate:moment([2013,8,2]).toDate(),endDate:moment([2014,0,31]).toDate()},{id:e(),number:2,startDate:moment([2014,1,10]).toDate(),endDate:moment([2014,5,27]).toDate()}]},{id:e(),name:"Календарь текущий",termType:t.semester,yearNumber:n(),inUse:!1,startDate:moment.utc([n(),8,2]).toDate(),endDate:moment.utc([n()+1,5,27]).toDate(),periods:[{id:e(),number:1,startDate:moment.utc([n(),8,2]).toDate(),endDate:moment.utc([n()+1,0,31]).toDate()},{id:e(),number:2,startDate:moment.utc([n()+1,1,10]).toDate(),endDate:moment.utc([n()+1,5,27]).toDate()}]}])}]).factory("mockdb.holidays",function(){var e=function(){var e=new Date;return e.getMonth()<8?e.getFullYear()-1:e.getFullYear()};return _.map([{id:8,name:"День народного единства",startDate:moment.utc([e(),10,4]).toDate(),endDate:moment.utc([e(),10,4]).toDate()},{id:9,name:"Новогодние каникулы",startDate:moment.utc([e()+1,0,1]).toDate(),endDate:moment.utc([e()+1,0,8]).toDate()},{id:12,name:"Международный женский день",startDate:moment.utc([e()+1,2,8]).toDate(),endDate:moment.utc([e()+1,2,10]).toDate()},{id:13,name:"Праздник Весны и Труда",startDate:moment.utc([e()+1,4,1]).toDate(),endDate:moment.utc([e()+1,4,2]).toDate()},{id:14,name:"День победы",startDate:moment.utc([e()+1,4,9]).toDate(),endDate:moment.utc([e()+1,4,9]).toDate()},{id:15,name:"День России",startDate:moment.utc([e()+1,5,12]).toDate(),endDate:moment.utc([e()+1,5,13]).toDate()}])}),angular.module("app.global.mockdb.classrooms",[]).factory("mockdb.classrooms",["mockdb.newId","classroomTypes",function(e,t){return _.extend([{id:e(),building:"1",name:"123",capacity:10,type:t.laboratory},{id:e(),building:"1",name:"456",capacity:10,type:t.laboratory},{id:e(),building:"1",name:"405",capacity:10,type:t.cabinet},{id:e(),building:"2",name:"789",capacity:10,type:t.laboratory},{id:e(),building:"2",name:"101",capacity:10,type:t.laboratory},{id:e(),building:"2",name:"402",capacity:10,type:t.cabinet},{id:e(),building:"2",name:"206",capacity:10,type:t.cabinet},{id:e(),building:"2",name:"305",capacity:10,type:t.cabinet},{id:e(),building:"3",name:"414",capacity:10,type:t.cabinet},{id:e(),building:"3",name:"504",capacity:10,type:t.laboratory},{id:e(),building:"3",name:"303",capacity:10,type:t.cabinet},{id:e(),building:"3",name:"204",capacity:10,type:t.cabinet},{id:e(),building:"4",name:"409",capacity:10,type:t.cabinet},{id:e(),building:"4",name:"408",capacity:10,type:t.cabinet},{id:e(),building:"4",name:"203",capacity:10,type:t.laboratory},{id:e(),building:"4",name:"308",capacity:10,type:t.cabinet},{id:e(),building:"5",name:"107",capacity:10,type:t.hall},{id:e(),building:"5",name:"102",capacity:10,type:t.cabinet},{id:e(),building:"5",name:"203",capacity:10,type:t.cabinet},{id:e(),building:"5",name:"404",capacity:10,type:t.cabinet}],{getClassroomRef:function(){return _.map(this,function(e){return _.pick(e,"id","name","building")})}})}]),angular.module("app.global.mockdb.countries",[]).factory("mockdb.countries",[function(){return[{id:643,name:"Россия",order:0},{id:895,name:"Абхазия",order:1},{id:36,name:"Австралия",order:1},{id:40,name:"Австрия",order:1},{id:31,name:"Азербайджан",order:1}]}]),angular.module("app.global.mockdb.departments",[]).factory("mockdb.departments",["mockdb.newId","mockdb.employees","mockdb.randomElement",function(e,t,n){t=t.getAll();return _.extend([{id:e(),name:"Юридическое отделение",manager:n(t,"Юридическое отделение")},{id:e(),name:"Экономическое отделение",manager:n(t,"Экономическое отделение")},{id:e(),name:"Другое отделение с длинным названием",manager:n(t,"Другое отделение с длинным названием")}],{getAll:function(){return _.map(this,function(e){return _.pick(e,"id","name")})}})}]),angular.module("app.global.mockdb.educationPlans",[]).factory("mockdb.educationPlans",["mockdb.newId","mockdb.subjects","termsCount","educationPlanSectionTypes","examinationTypes","certificationTypes",function(s,i,u,o,a,e){return{generateAcademicYear:function(r,i,o=function(e,t){return{}}){var a;return{id:s(),number:i,termType:r,terms:(()=>{var e,t,n=[];for(a=e=1,t=u(r);1<=t?e<=t:t<=e;a=1<=t?++e:--e)n.push(_.extend(o(i,a),{id:s(),number:a}));return n})()}},generateAcademicYears:function(e,t,n=function(e,t){return{}}){for(var r,i=[],o=r=1,a=e;1<=a?r<=a:a<=r;o=1<=a?++r:--r)i.push(this.generateAcademicYear(t,o,n));return i},generateSections:function(n,e){var t=function(e){var t=_.find(i,{name:e});if(t)return _.pick(t,"id","name","type");throw new Error(`Дисциплина '${e}' не найдена.`)},r=function(e){return _.reduce(e,function(e,t){return e[n[t[0]-1].terms[t[1]-1].id]=_.defaults(t[2],{inUse:!1}),e},new Object)};return[{id:s(),code:"О",index:"00",name:"Общеобразовательный цикл",type:o.regular,sections:[{id:s(),code:"ОДБ",index:"00",name:"Общеобразовательные дисциплины базовые",type:o.regular,sections:[],items:[{id:s(),code:"ОДБ",index:"01",subject:t("Русский язык"),max:117,self:39,theory:78,practice:0,coursework:0,inUse:e,cells:r([[1,1,{hours:34,inUse:e}],[1,2,{hours:44,examinationType:a.exam}]])},{id:s(),code:"ОДБ",index:"02",subject:t("Литература"),max:175,self:58,theory:117,practice:0,coursework:0,inUse:e,cells:r([[1,1,{hours:52,inUse:e}],[1,2,{hours:65,examinationType:a.differentiatedTest}]])},{id:s(),code:"ОДБ",index:"03",subject:t("Иностранный язык"),max:117,self:39,theory:78,practice:0,coursework:0,inUse:e,cells:r([[1,1,{hours:34,inUse:e}],[1,2,{hours:44,examinationType:a.differentiatedTest}]])},{id:s(),code:"ОДБ",index:"04",subject:t("История"),max:176,self:59,theory:117,practice:0,coursework:0,inUse:e,cells:r([[1,1,{hours:50,inUse:e}],[1,2,{hours:67,examinationType:a.differentiatedTest}]])},{id:s(),code:"ОДБ",index:"05",subject:t("Обществознание"),max:175,self:58,theory:117,practice:0,coursework:0,inUse:e,cells:r([[1,1,{hours:52,inUse:e}],[1,2,{hours:65,examinationType:a.differentiatedTest}]])},{id:s(),code:"ОДБ",index:"06",subject:t("Химия"),max:117,self:39,theory:32,practice:46,coursework:0,inUse:e,cells:r([[1,1,{hours:34,inUse:e}],[1,2,{hours:44,examinationType:a.differentiatedTest}]])},{id:s(),code:"ОДБ",index:"07",subject:t("Биология"),max:117,self:39,theory:58,practice:20,coursework:0,inUse:e,cells:r([[1,1,{hours:34,inUse:e}],[1,2,{hours:44,examinationType:a.differentiatedTest}]])},{id:s(),code:"ОДБ",index:"08",subject:t("Физическая культура"),max:176,self:59,theory:5,practice:112,coursework:0,inUse:e,cells:r([[1,1,{hours:50,examinationType:a.test,inUse:e}],[1,2,{hours:67,examinationType:a.differentiatedTest}]])},{id:s(),code:"ОДБ",index:"09",subject:t("ОБЖ"),max:105,self:35,theory:70,practice:0,coursework:0,inUse:e,cells:r([[1,1,{hours:34,inUse:e}],[1,2,{hours:36,examinationType:a.differentiatedTest}]])}]},{id:s(),code:"ОДП",index:"00",name:"Общеобразовательные дисциплины профильные",type:o.regular,sections:[],items:[{id:s(),code:"ОДП",index:"10",subject:t("Математика"),max:435,self:145,theory:290,practice:0,coursework:0,inUse:e,cells:r([[1,1,{hours:136,inUse:e}],[1,2,{hours:154,examinationType:a.exam}]])},{id:s(),code:"ОДП",index:"11",subject:t("Физика"),max:253,self:84,theory:139,practice:30,coursework:0,inUse:e,cells:r([[1,1,{hours:68,inUse:e}],[1,2,{hours:202,examinationType:a.differentiatedTest}]])},{id:s(),code:"ОДП",index:"12",subject:t("Информатика и ИКТ"),max:143,self:48,theory:35,practice:60,coursework:0,inUse:e,cells:r([[1,1,{hours:34,inUse:e}],[1,2,{hours:61,examinationType:a.exam}]])}]}],items:[]},{id:s(),code:"П",index:"00",name:"Профессиональный цикл",type:o.regular,sections:[{id:s(),code:"ОП",index:"00",name:"Общепрофессиональные дисциплины",type:o.regular,sections:[],items:[{id:s(),code:"ОП",index:"01",subject:t("Общая и профессиональная педагогика"),max:132,self:44,theory:48,practice:40,coursework:0,inUse:e,cells:r([[3,2,{hours:88,examinationType:a.exam}]])},{id:s(),code:"ОП",index:"02",subject:t("Общая и профессиональная психология"),max:117,self:39,theory:42,practice:36,coursework:0,inUse:e,cells:r([[3,2,{hours:78,examinationType:a.exam}]])},{id:s(),code:"ОП",index:"03",subject:t("Возрастная анатомия, физиология и гигиена"),max:72,self:24,theory:30,practice:18,coursework:0,inUse:e,cells:r([[2,2,{hours:48,examinationType:a.differentiatedTest}]])}]}],items:[]},{id:s(),code:"ПМ",index:"00",name:"Профессиональные модули",type:o.regular,sections:[{id:s(),code:"ПМ",index:"01",name:"Организация учебно-производственного процесса",type:o.professionalModule,sections:[],items:[{id:s(),code:"МДК",index:"01.01",max:240,self:80,theory:72,practice:68,coursework:20,subject:t("Методика профессионального обучения"),inUse:e,cells:r([[5,1,{hours:160,examinationType:a.differentiatedTest}]])},{id:s(),code:"ПП",index:"01",subject:t("Производственная практика"),max:108,self:0,theory:0,practice:108,coursework:0,inUse:e,cells:r([[5,1,{hours:108,examinationType:a.differentiatedTest}]])}]},{id:s(),code:"ПМ",index:"02",name:"Педагогическое сопровождение группы обучающихся в урочной и внеурочной деятельности",type:o.professionalModule,sections:[],items:[{id:s(),code:"МДК",index:"02.01",subject:t("Технологические процессы изготовления деталей машин"),max:192,self:64,theory:68,practice:60,coursework:0,inUse:e,cells:r([[5,1,{hours:128,examinationType:a.differentiatedTest}]])},{id:s(),code:"ПП",index:"02",subject:t("Производственная практика"),max:108,self:0,theory:0,practice:108,coursework:0,inUse:e,cells:r([[5,2,{hours:108,examinationType:a.differentiatedTest}]])}]}],items:[]}]},generateCertifications:function(){return _.reduce([{type:e.preGraduationPractice,weeks:4},{type:e.graduationWork,weeks:5},{type:e.stateExam,weeks:1}],function(e,t){return e[t.type]=t.weeks,e},{})}}}]),angular.module("app.global.mockdb.educationPrograms",[]).factory("mockdb.educationPrograms",["mockdb.newId","mockdb.specialties","mockdb.educationPlans","termTypes","educationForms","educationDepths","baseEducationLevels","educationProgramTypes",function(e,t,n,r,i,o,a,s){var u=function(e){return n.generateAcademicYears(e,r.semester,function(e,t){return{weeks:1===t?16:24}})},d=function(e){return n.generateAcademicYears(e,r.trimester,function(){return{weeks:12}})};return _.map([{id:e(),name:t[0].name,specialtyId:t[0].id,educationForm:i.fullTime,educationDepth:o.inDepth,baseEducationLevel:a.basisGeneral,academicYears:u(5),duration:60,isApproved:!0,type:s.vocationalBasic,isAdapted:!1},{id:e(),name:t[1].name,specialtyId:t[1].id,educationForm:i.fullTime,educationDepth:o.inDepth,baseEducationLevel:a.basisGeneral,academicYears:u(6),duration:72,isApproved:!1,type:s.vocationalBasic,isAdapted:!1},{id:e(),name:t[1].name+" (доработанная)",specialtyId:t[1].id,educationForm:i.fullTime,educationDepth:o.inDepth,baseEducationLevel:a.basisGeneral,academicYears:u(6),duration:72,isApproved:!1,type:s.vocationalAdditional,isAdapted:!0},{id:e(),name:t[2].name,specialtyId:t[2].id,educationForm:i.fullTime,educationDepth:o.inDepth,baseEducationLevel:a.basisGeneral,academicYears:d(5),duration:60,isApproved:!1,type:s.vocationalSecondary,isAdapted:!1}],function(e,t){return _.extend(e,{sections:0===t?n.generateSections(e.academicYears,e.isApproved):[],certifications:0===t?n.generateCertifications():{},notes:"Консультации на учебную группу по 100 часов в год (всего 300 часов)\n\nГосударственная (итоговая) аттестация\n1. Программа базовой подготовки\n1.1 Выпускная квалификационная работа\nВыполнение выпускной квалификационной работы (всего 4 нед.)\nЗащита выпускной квалификационной работы (всего 2 нед.)"})})}]),angular.module("app.global.mockdb.employees",[]).factory("mockdb.employees",["mockdb.newId","mockdb.personGenerator","mockdb.dateGenerator","mockdb.randomElement","mockdb.randomValue","mockdb.positions","mockdb.militaryRecordGenerator","genders","educationLevels","decreeTypes","academicDegrees","academicTitles","qualificationCategories","laborContracts",function(a,n,s,r,u,i,o,d,c,l,p,m,e,f){var g,h,y,b,v,S,w,D;return p=_.values(p),m=_.values(m),f=_.values(f),e=_.values(e),D=i.getTeacherPosition(),i=_.without(i,D),c=_.values(c),h=function(e,t,n,r,i){var o;return{id:o=a(),number:u(e+`.${o}.number`,1e3).toString(),date:s.newDate(e+`.${o}.date`,r,i),type:t,position:_.pick(n,"id","name")}},_.extend((()=>{var e,t=[];for(y=e=0;e<=30;y=++e)w=`employee${y}-salt`,S=y<i.length?(v=i[y],D):(v=D,i[y%i.length]),g=h(w,l.appoint,S,new Date(1980,0,1),new Date(2011,8,1)),S=h(w,l.dismiss,S,g.date,new Date(2012,8,1)),b=n.newPerson(w,void 0,20,50),0===y&&_.extend(b,{lastName:"Королёв",firstName:"Сергей",middleName:"Иванович",gender:d.male}),t.push(_.extend(b,{educationLevel:r(c,w+".educationLevel"),positions:[_.extend(_.pick(v,"id","name"),{laborContract:r(f,w+".laborContract"),rate:1})],editable:!0,hasPedagogicalEducation:!0,academicDegree:r(p,w+".academicDegree"),academicTitle:r(m,w+".academicTitle"),decrees:[g,S,h(w,l.appoint,v,S.date,new Date(2013,8,1))],militaryRecord:o.newMilitaryRecord(w,y)}));return t})(),{getTeachers:function(){return this.filter(function(e){return _.any(e.positions,{id:D.id})})},getAll:function(){return _.map(this,function(e){return _.pick(e,"id","firstName","lastName","middleName")})},find:function(e){return _.first(this.where([e]))},where:function(t){return this.filter(function(e){return _.contains(t,e.id)})},filter:function(e){return this.getAll.apply(_.filter(this,e))},remove:function(e){var t=_.findIndex(this,{id:e});if(-1===t)throw new Error(`Сотрудник с идентификатором ${e} не найден.`);return this.splice(t,1)}})}]),angular.module("app.global.mockdb.enrollees",[]).factory("mockdb.enrollees",["mockdb.personGenerator","mockdb.randomElement","mockdb.graduationOrganizations","mockdb.specialties","educationBasises","educationForms","learningLanguages","mockdb.dateGenerator","educationLevels",function(n,r,i,o,a,s,u,d,c){var l,p;return a=_.values(a),s=_.values(s),c=_.values(c),u=_.values(u),_.extend((()=>{var e,t=[];for(l=e=0;e<=30;l=++e)p=`enrollee${l}-salt`,t.push(_.extend(n.newPerson(p,void 0,16,21),{specialtyId:r(o,p+".specialty").id,educationForm:r(s,p+".educationForm"),educationBasis:r(a,p+".educationBasis"),educationLevel:r(c,p+".educationLevel"),startDate:d.newDate(p,new Date(2013,1,1),new Date(2014,1,1)),gradePointAverage:4.5,editable:!0,graduationDate:new Date(2013,6,1),graduationOrganization:r(i,p+".graduationOrganization"),hasMedicalCertificate:l%2!=0,needInHostel:l%2==0,areDocumentsOriginal:l%4!=0,learningLanguage:r(u,p+".learningLanguage"),isInternationalContract:l%5!=0}));return t})(),{remove:function(e){var t=_.findIndex(this,{id:e});if(-1===t)throw new Error(`Абитуриент с идентификатором ${e} не найден.`);return this.splice(t,1)}})}]),angular.module("app.global.mockdb.examination",[]).factory("mockdb.examination",["mockdb.newId","mockdb.randomElement","mockdb.studentGroups","mockdb.employees","mockdb.classrooms","examinationTypes","examinationStages",function(e,t,n,r,i,o,a){r=r.getTeachers();return[{studentGroupId:n[0].id,start:new Date(2013,11,2).toISOString(),end:new Date(2014,0,20).toISOString(),scheduleSubjects:[{id:e(),name:"Математика",editable:!0,examinationType:o.exam,examinations:[]},{id:e(),name:"Физика",editable:!0,examinationType:o.test,examinations:[]},{id:e(),name:"Английский язык",editable:!0,examinationType:o.differentiatedTest,examinations:[]},{id:e(),name:"Немецкий язык",editable:!0,examinationType:o.exam,examinations:[]}]},{studentGroupId:n[1].id,start:new Date(2013,11,2).toISOString(),end:new Date(2014,0,20).toISOString(),scheduleSubjects:[{id:e(),name:"Математика",editable:!0,examinationType:o.exam,examinations:[]},{id:e(),name:"Физика",editable:!0,examinationType:o.test,examinations:[]},{id:e(),name:"Английский язык",editable:!0,examinationType:o.differentiatedTest,examinations:[]},{id:e(),name:"Немецкий язык",editable:!0,examinationType:o.exam,examinations:[]}]},{studentGroupId:n[2].id,start:new Date(2013,11,2).toISOString(),end:new Date(2014,0,20).toISOString(),scheduleSubjects:[{id:e(),name:"Русский язык",editable:!0,examinationType:o.exam,examinations:[{id:e(),stage:a.tutorial,teacher:t(r,"Русский язык - консультация"),dateTime:new Date(2013,11,15,8,30).toISOString(),classroom:i[0]},{id:e(),stage:a.examination,teacher:t(r,"Русский язык - экзамен"),dateTime:new Date(2013,11,16,8,30).toISOString(),classroom:i[0]},{id:e(),stage:a.retake,teacher:t(r,"Русский язык - пересдача"),dateTime:new Date(2014,0,10,8,30).toISOString(),classroom:i[0]}]},{id:e(),name:"Математика",editable:!0,examinationType:o.exam,examinations:[{id:e(),stage:a.tutorial,teacher:t(r,"Математика - консультация"),dateTime:new Date(2013,11,19,8,30).toISOString(),classroom:i[2]},{id:e(),stage:a.examination,teacher:t(r,"Математика - экзамен"),dateTime:new Date(2013,11,20,8,30).toISOString(),classroom:i[2]},{id:e(),stage:a.retake,teacher:t(r,"Математика - пересдача"),dateTime:new Date(2014,0,12,8,30).toISOString(),classroom:i[2]}]},{id:e(),name:"Физика",editable:!0,examinationType:o.differentiatedTest,examinations:[{id:e(),stage:a.tutorial,teacher:t(r,"Физика - консультация"),dateTime:new Date(2013,11,23,8,30).toISOString(),classroom:i[7]},{id:e(),stage:a.examination,teacher:t(r,"Физика - дифф. зачет"),dateTime:new Date(2013,11,24,8,30).toISOString(),classroom:i[7]},{id:e(),stage:a.retake,teacher:t(r,"Физика - пересдача"),dateTime:new Date(2014,0,14,8,30).toISOString(),classroom:i[7]}]},{id:e(),name:"История",editable:!0,examinationType:o.test,examinations:[{id:e(),stage:a.examination,teacher:t(r,"История - зачет"),dateTime:new Date(2013,11,26,8,30).toISOString(),classroom:i[8]},{id:e(),stage:a.retake,teacher:t(r,"История - пересдача"),dateTime:new Date(2013,11,28,8,30).toISOString(),classroom:i[8]}]}]},{studentGroupId:n[3].id,start:new Date(2013,11,2).toISOString(),end:new Date(2014,0,20).toISOString(),scheduleSubjects:[{id:e(),name:"Математика",editable:!0,examinationType:o.exam,examinations:[]},{id:e(),name:"Физика",editable:!0,examinationType:o.exam,examinations:[]},{id:e(),name:"Русский язык",editable:!0,examinationType:o.exam,examinations:[]},{id:e(),name:"Биология",editable:!0,examinationType:o.test,examinations:[]}]},{studentGroupId:n[4].id,start:new Date(2013,11,2).toISOString(),end:new Date(2014,0,20).toISOString(),scheduleSubjects:[{id:e(),name:"Русский язык",editable:!0,examinationType:o.exam,examinations:[]},{id:e(),name:"Математика",editable:!0,examinationType:o.exam,examinations:[]},{id:e(),name:"Физика",editable:!0,examinationType:o.exam,examinations:[]}]}]}]),angular.module("app.global.mockdb.generators",[]).constant("mockdb.randomValue",function(e,t){return Hashes.CRC32(e)%t}).factory("mockdb.randomElement",["mockdb.randomValue",function(n){return function(e,t){return e[n(t,e.length)]}}]).constant("mockdb.randomSet",function(r,e,i){var o=Hashes.CRC32(e),a=[],s=function(e,t){var n;if(a.length!==i)return a.push(r[n=t===e?e:e+o%(t-e)]),e<n&&s(e,n-1),n<t?s(n+1,t):void 0};return s(0,r.length-1),a}).factory("mockdb.newId",function(){var e=1e3;return function(){return e++}}).factory("mockdb.personNameGenerator",["mockdb.randomElement","genders",function(r,i){var o={firstNames:["Евгений","Михаил","Сафарали","Роман","Максим","Денис","Дмитрий","Алексей","Руслан","Александр","Антон","Кирилл","Павел","Игорь","Олег","Артем","Валерий","Николай","Андрей","Виталий"],middleNames:["Олегович","Сидорович","Павлович","Раджабалиевич","Дмитриевич","Иванович","Васильевич","Александрович","Дадобоевич","Алексеевич","Валерьевич","Сергеевич","Евгеньевич","Вячеславович","Владимирович","Николаевич","Михайлович","Андреевич","Альбертович","Викторович"],lastNames:["Промзиков","Нюхтин","Завьялов","Сафаров","Орлов","Подзоров","Богатенков","Марескин","Ангелов","Гулов","Морозов","Наумов","Сутугин","Удовика","Бондаренко","Бужин","Диянов","Зотов","Ишин","Легков"]},a={firstNames:["Марина","Ольга","Наталья","Ирина","Анастасия","Алена","Любовь","Нэлля","Татьяна","Светлана","Мария","Рузанна","Валерия","Нафиса","Елена","Ксения","Алина","Екатерина","Людмила","Вера","Кристина","Лиана","Анна","Эльмира","Юлиана"],middleNames:["Абдулловна","Агеевна","Александровна","Алексеевна","Аликовна","Алеговна","Анатольевна","Андреевна","Артуровна","Борисовна","Вадимовна","Вазгеновна","Валентиновна","Валериевна","Валерьевна","Васильевна","Владимировна","Вениаминовна","Викторовна","Витальевна"],lastNames:["Сайфетдинова","Артамонова","Алабина","Ашанина","Алексютина","Бокова","Олейник","Войновская","Гущина","Дронова","Дроздова","Евлейкина","Курамшина","Ивашкина","Карманникова","Качанова","Ковыляева","Ширикова","Кузубова","Михайлова"]};return{newName:function(e,t){var n=(t=null==t?5<Hashes.CRC32(e)%10?i.male:i.female:t)===i.male?o:a;return{firstName:r(n.firstNames,e+".first"),middleName:r(n.middleNames,e+".middle"),lastName:r(n.lastNames,e+".last"),gender:t}}}}]).factory("mockdb.addressGenerator",["mockdb.randomElement",function(r){var t=["Самара","Тольятти","Сызрань","Чапаевск"],i=["проезд Ясный","ул Калиновая","ул Рабочая","ул Крупской","б-р Ленина","ул Садовая","проезд Учительский","ул Малахитовая","проезд Пожарского","ул Карла Маркса","ул Радищева","ул Лесная","ул Ушакова","ул Тополиная","проезд Деловой","ул Индустриальная","б-р Гая","ул Чуковского","ул Гидростроевская","б-р Рябиновый","пер Онежский 6-й","б-р Цветной","ул Шлюзовая","ул Ворошилова","ул Никонова","ул Новосадовая","ул Брестская","ул Речная","ул Сиреневая","ул Горная","проезд Межевой","б-р Буденного","ул Новозаводская","пер Парковый 12-й","ул Гидротехническая","ул Революционная","ул Удалецкая","ул Минская","ш Поволжское","ул 70 лет Октября","проезд Розовый","проезд Детский","ул Есенина","пер Горный 1-й","ул Морская","ул Строителей","ул Карбышева","пер Парковый 9-й","ул Весенняя","проезд Декабристов","проезд Профсоюзов","пер Луговой","пер Онежский 8-й","проезд Торновый","ул Варваринская","ул Инженерная","проезд Дорожный","ул Пескалинская","проезд Рабочий","ул Советская","ул Васильковая","ул Магистральная"];return{newCity:function(e){return r(t,e)},newLocalAddress:function(e){var t=r(i,e),n=Hashes.CRC32(t),e=Hashes.CRC32(e);return{index:"4430"+n%10+(n%9+1),house:e%83,room:e%113,location:"г. Тольятти",street:t,format:function(){return`${this.index}, ${this.location}, ${this.street}, ${this.house}-`+this.room}}}}}]).factory("mockdb.recruitmentOfficeGenerator",["mockdb.randomElement",function(t){var n=["ОВК Московской области","ОВК Тверской области","ОВК Самарской области","ОВК Астраханской области","ОВК Волгоградской области"];return{newRecruitmentOffice:function(e){return t(n,e)}}}]).factory("mockdb.militaryRecordGenerator",["mockdb.recruitmentOfficeGenerator","mockdb.randomElement","mockdb.randomValue","militaryRanks","reserveCategories","fitnessForMilitaryServices","militaryCompositions","groupsOfAccounting",function(n,r,i,o,a,s,u,d){return{newMilitaryRecord:function(e,t){return{militaryRank:r(_.values(o),e+".militaryRank"),militarySpecialty:"ВУС-"+i(e+`.${t}.number`,1e4).toString(),fitnessForMilitaryService:r(_.values(s),e+".fitnessForMilitaryService"),recruitmentOffice:n.newRecruitmentOffice(e+".recruitmentOffice"),isOnSpecialAccounting:t%4!=0,militaryCardNumber:i(e+`.${t}.number`,1e3).toString(),reserveCategory:r(_.values(a),e+".reserveCategory"),groupOfAccounting:r(_.values(d),e+".groupOfAccounting"),militaryComposition:r(_.values(u),e+".militaryComposition"),hasMilitaryPreparation:t%2!=0}}}}]).factory("mockdb.dateGenerator",[function(){return{newDate:function(e,t,n){return new Date(t.getTime()+Hashes.CRC32(e)%1000003*(n.getTime()-t.getTime())/1000003)},newDateAge:function(e,t,n){return this.newDate(e,moment().subtract("year",n).toDate(),moment().subtract("year",t-1).toDate())}}}]).factory("mockdb.passportIssuersGenerator",["mockdb.randomElement",function(t){var n=[{name:"Автозаводским РУВД г.Тольятти Самарской обл.",code:"632-010"},{name:"Комсомольским РУВД г.Тольятти Самарской обл.",code:"632-023"},{name:"КРУВД г. Тольятти Самарской обл.",code:"631-004"},{name:"Отделом УФМС по Самарской области в Комс. Р-не г. Тольятти",code:"632-024"},{name:"Отделом УФМС по Самарской области в Ставропольском районе гор. Тольятти",code:"632-015"},{name:"Отделом УФМС России по Самарской обл. в Автозаводском р-не г.Тольятти",code:"632-024"},{name:"Отделом УФМС России по Самарской обл. в Комсомольском районе г.Тольятти",code:"632-033"},{name:"Пыть-Яхским ГОВД Ханты-Мансийского автономного округа Тюменской обл.",code:"262-033"},{name:"Центральным РУВД г.Тольятти Самарской обл.",code:"630-001"}];return{newPassportIssuer:function(e){return t(n,e)}}}]).factory("mockdb.personGenerator",["mockdb.newId","mockdb.randomElement","mockdb.dateGenerator","mockdb.personNameGenerator","mockdb.addressGenerator","mockdb.passportIssuersGenerator",function(s,u,d,c,l,p){var m=["Уровень английского: Intermediate, уверенный пользователь ПК","Участник ежегодной конференции «ИНФО-СТРАТЕГИЯ: Общество. Государство. Образование»","Уверенный пользователь ПК","Личные качества: коммуникабельность, инициативность","",""];return{newPerson:function(e,t,n,r=n){var t=c.newName(e,t),i=Hashes.CRC32(e),o=l.newLocalAddress(e+".registration"),a=p.newPassportIssuer(o.street);return _.extend(t,{id:s(),userProfileId:s(),birthday:d.newDateAge(e,n,r),note:u(m,e),address:l.newLocalAddress(e+".address").format(),passport:{series:"360"+(1+i%9),number:"10"+i%8e3,issuanceDate:d.newDateAge(e,1,5),issued:a.name,birthplace:"г."+l.newCity(e),subdivisionCode:a.code,registration:o.format()}})}}}]),angular.module("app.global.mockdb.gradebook",[]).factory("mockdb.gradebook",["mockdb.newId","mockdb.randomElement","mockdb.studentGroups","mockdb.scheduleSubjects","mockdb.students","mockdb.thematicPlans","thematicPlanLessonTypes","educationTaskTypes","markRatings",function(s,l,e,n,r,p,m,t,f){var g;return m=_.values(m),g=[{id:s(),type:t.lesson,topic:"Задача: А и Б сидели на трубе, А упало Б пропапало, кто остался на трубе?",condition:"Для особо одаренных, по решению - казнить."},{id:s(),type:t.test,topic:"Задача для безумных детей",condition:"Инопланетяне, посетившие школу N, pезко отличаются от жителей Земли.\r\nУ каждого из них по 4 pуки, 4 ноги и по 2 совести.\r\nHа сколько меньше всего пеpечисленного у ученика этой школы Степана Стульчикова,\r\nесли известно, что pук и ног у него столько же, сколько у обычного человека, а совести нет совсем?"}],{studentGroups:function(){return this._studentGroups||(this._studentGroups=_.map(e,function(e){return{id:e.id,code:e.code,name:e.name,yearNumber:e.educationPeriod.yearNumber,termType:e.educationPeriod.termType,termNumber:e.educationPeriod.termNumber,isActive:!0,startDate:new Date(2013,8,2),endDate:new Date(2014,0,31)}}))},studentGroup:function(e){return _.find(this.studentGroups(),{id:e})},students:function(e){var t;return(t=this._students||(this._students={}))[e]||(t[e]=_.chain(r.byStudentGroup(e)).sortBy(["lastName","firstName","middleName"]).map(function(e){return e.startDate=new Date(2013,8,1),e}).value())},scheduleSubjects:function(e){var t;return(t=this._scheduleSubjects||(this._scheduleSubjects={}))[e]||(t[e]=_.map(n.byStudentGroup(e),function(e){var t,n,r,i,o,a,s,u,d,c,l={id:e.id,name:e.name,editable:!0,plannedHours:15};if(null!=e.workingProgram&&((c=l.workingProgram={id:e.workingProgram.id,name:e.workingProgram.name,topics:[]}).isApproved=null!=(u=p[e.name])))for(t=r=0,o=u.length;r<o;t=++r)for(n=i=0,a=(s=u[t].topics).length;i<a;n=++i)d=s[n],c.topics.push({sectionIndex:t+1,index:n+1,name:d.name,lessons:_.map(d.lessons,function(e){return _.pick(e,"id","name","type","duration")})});return l}))},scheduleSubject:function(e,t){return _.find(this.scheduleSubjects(e),{id:t})},lessons:function(d,c){var e;return(e=(e=this._lessons||(this._lessons={}))[d]||(e[d]={}))[c]||(e[c]=(()=>{for(var e,t,n=this.scheduleSubject(d,c),r=_.chain(null!=(n=null!=(n=n.workingProgram)?n.topics:void 0)?n:[]).map(function(e){return e.lessons}).flatten().value(),u=moment([2013,8]).weekday(7+c%6),i=u.clone().add({months:2}),o=u.clone().endOf("year").weekday(0),a=[];u.isBefore(o);)e={scheduleLessonId:s(),date:u.clone().toDate(),taskId:s()},u.isBefore(i)?(e.id=s(),e.markSets=_.reduce(this.students(d),function(e,t){for(var n,r,i,o,a=r=0,s=g.length;r<s;a=++r)o=g[a],n=Hashes.CRC32(`${d}.${c}.${u.toISOString()}.${t.id}.`+o.id)%5+1,(0===a||2<n)&&((e[i=t.id]||(e[i]={marks:{}})).marks[o.id]={isRequired:0===a,value:(()=>{switch(n){case 2:return f.two;case 3:return f.three;case 4:return f.four;case 5:return f.five;default:return null}})()});return e},new Object)):e.markSets={},null!=e.id?(e.tasks=g,1<r.length?(t=r.shift(),e.type=t.type,e.duration=t.duration,e.plannedLessons=_.tap({},function(e){return e[t.id]=t.duration})):(e.name=`Тема занятия ${u.format("DD.MM.YYYY")} не задана.`,e.type=l(m,"lesson."+e.id),e.duration=2,e.plannedLessons={})):(e.tasks=[],e.duration=2,e.plannedLessons={}),u.add({weeks:1}),a.push(e);return a})())}}}]),angular.module("app.global.mockdb.graduationOrganizations",[]).factory("mockdb.graduationOrganizations",function(){return _.map([{id:1,name:"МБОУ СОШ №118",settlement:"г.о. Самара",isResidentialTrainingFacility:!1},{id:2,name:"МБОУ СОШ №38",settlement:"г.о. Самара",isResidentialTrainingFacility:!1},{id:3,name:"МБУ гимназия №77",settlement:"г.о. Тольятти",isResidentialTrainingFacility:!1},{id:4,name:"ГБОУ ООШ №6",settlement:"г.о. Новокуйбышевск Самарской области",isResidentialTrainingFacility:!1},{id:5,name:"МБОУ СОШ №3",settlement:"г. Оренбург",isResidentialTrainingFacility:!0}])}),angular.module("app.global.mockdb",["app.global.constants","app.global.mockdb.calendars","app.global.mockdb.classrooms","app.global.mockdb.educationPlans","app.global.mockdb.educationPrograms","app.global.mockdb.employees","app.global.mockdb.enrollees","app.global.mockdb.examination","app.global.mockdb.generators","app.global.mockdb.gradebook","app.global.mockdb.news","app.global.mockdb.permissions","app.global.mockdb.permissionGroups","app.global.mockdb.positions","app.global.mockdb.specialties","app.global.mockdb.studentGroups","app.global.mockdb.students","app.global.mockdb.subjects","app.global.mockdb.scheduleSubjects","app.global.mockdb.thematicPlans","app.global.mockdb.timetable","app.global.mockdb.workingPrograms","app.global.mockdb.privilegedCategories","app.global.mockdb.departments","app.global.mockdb.countries","app.global.mockdb.graduationOrganizations","app.global.mockdb.organizationDepts"]),angular.module("app.global.mockdb.news",[]).factory("mockdb.news",["mockdb.newId",function(e){var n=[{id:e(),date:moment([2013,10,23]).toDate(),title:"Конференция",text:"Уважаемые студенты! Приглашаем принять участие в XXXX Cамарской областной студенческой научной конференции, которая состоится 15-25 апреля 2014 года.",isForEmployees:!0,isForStudents:!0,isForParents:!0},{id:e(),date:moment([2013,9,30]).toDate(),title:"Международный день повара",text:"18 октября в НГГТК были проведены мероприятия, посвященные Международному Дню повара. Активное участие приняли все группы кулинарного цикла. Была проведена выставка работ студентов (карвинг), выставка осенних букетов. Мастер классы провели А.А. Козубенко – карвинг на арбузе, Н.В. Москаева – шоколадное фондю, Е.В. Иванова – фламбирование фруктов. Для студентов кулинарного цикла была проведена театрализованная постановка «Кулинария – профессия творческая».  Ответственный за постановку В.А. Акулова, О.М. Федорова.",isForEmployees:!0,isForStudents:!0,isForParents:!0},{id:e(),date:moment([2013,9,12]).toDate(),title:"Обмен педагогическим опытом",text:"10 октября Банновой Натальей Викторовной, преподавателем высшей категории, было проведено практическое занятие по дисциплине «Право» в группе 15, специальность 080114 Экономика и бухгалтерский учет (по отраслям). На уроке присутствовали директор НГГТК В.М. Земалиндинова, заместитель директора по организации образовательной деятельности А.С. Макаров и молодые педагоги.",isForEmployees:!0,isForStudents:!0,isForParents:!0},{id:e(),date:moment([2013,8,9]).toDate(),title:"Конференция «IT – технологии в образовательной среде»",text:"28 марта была проведена III Областная научно-практическая конференция «IT– технологии в образовательной среде», которая затронула вопросы практического использования современных информационных технологий в профессиональной деятельности педагогов и научно – исследовательской деятельности обучающихся. Организаторами конференции стали ГОУДПО Центр профессионального образования Самарской области и ГАОУ СПО  Новокуйбышевский государственный гуманитарно-технологический колледж.",isForEmployees:!0,isForStudents:!0,isForParents:!0},{id:e(),date:moment([2013,7,23]).toDate(),title:"Круглый стол «Новые подходы к организации образовательного процесса»",text:"Современный урок — каким ему быть? Как построить урок, соответствующий требованиям федерального государственного образовательного стандарта? Какие формы и методы  являются наиболее эффективными в решении задач, стоящих перед педагогическим коллективом; как «продвинулись» педагоги за последние годы в понимании целей урока, его структуры, как меняется позиция педагога в процессе организации и проведения урока в контексте требований ФГОС СПО. Эти вопросы остаются сегодня  актуальными для педагогов, реализующих ФГОС СПО.",isForEmployees:!0,isForStudents:!0,isForParents:!0},{id:e(),date:moment([2013,6,23]).toDate(),title:"Внимание, студенты!",text:"Если вы еще не получили карточки Сбербанка,то назначено дополнительное время для их получения.Завтра, 29 ноября, с 10.00 до 15.00 на 2 этаже Дома культуры СГАУ.",isForEmployees:!0,isForStudents:!0,isForParents:!0}];return n.remove=function(e){var t=_.findIndex(n,{id:e});if(-1===t)throw new Error(`Объявление с идентификатором ${e} не найдено.`);return n.splice(t,1)},n}]),angular.module("app.global.mockdb.organizationDepts",[]).factory("mockdb.organizationDepts",["mockdb.newId",function(e){return[{id:e(),name:"Министерство образования и науки"},{id:e(),name:"Министерство здравоохранения"},{id:e(),name:"Министерство сельского хозяйства"}]}]),angular.module("app.global.mockdb.permissionGroups",[]).factory("mockdb.permissionGroups",["mockdb.newId","mockdb.permissions",function(e,t){return[{id:e(),name:"Администраторы системы",permissions:[t[1].id,t[2].id,t[4].id,t[5].id,t[6].id,t[7].id]},{id:e(),name:"Высшее руководящее звено",permissions:[t[1].id,t[4].id,t[7].id,t[9].id,t[10].id]},{id:e(),name:"Обучающий персонал",permissions:[t[1].id,t[3].id,t[4].id,t[7].id,t[8].id]},{id:e(),name:"Управление кадрами",permissions:[t[0].id,t[1].id,t[4].id,t[7].id]}]}]),angular.module("app.global.mockdb.permissions",[]).factory("mockdb.permissions",["mockdb.newId",function(e){return[{id:e(),name:"Редактировать все сведения"},{id:e(),name:"Просматривать краткие сведения"},{id:e(),name:"Редактировать имена и пароли"},{id:e(),name:"Редактировать все сведения"},{id:e(),name:"Просматривать краткие сведения"},{id:e(),name:"Редактировать имена и пароли"},{id:e(),name:"Удалять пользователей из системы"},{id:e(),name:"Просматривать группы, дисциплины, подгруппы"},{id:e(),name:"Редактировать дисциплины и подгруппы в группах"},{id:e(),name:"Составлять учебный план"},{id:e(),name:"Редактировать учебные периоды"}]}]),angular.module("app.global.mockdb.positions",[]).factory("mockdb.positions",["mockdb.newId","mockdb.permissionGroups","positionTypes",function(e,t,n){var r={id:e(),name:"Преподаватель",permissionGroup:t[2],type:n.teachingStaff};return _.extend([{id:e(),name:"Директор",permissionGroup:t[3],type:n.executives},{id:e(),name:"Зам. директора",permissionGroup:t[3],type:n.executives},{id:e(),name:"Завуч",permissionGroup:t[3],type:n.executives},r,{id:e(),name:"Сторож",permissionGroupId:null,type:n.serviceStuff},{id:e(),name:"Медицинский работник",permissionGroup:t[0],type:n.serviceStuff},{id:e(),name:"Специалист по кадрам",permissionGroup:t[1],type:n.serviceStuff},{id:e(),name:"Системный администратор",permissionGroup:t[3],type:n.serviceStuff}],{getTeacherPosition:function(){return r}})}]),angular.module("app.global.mockdb.privilegedCategories",[]).factory("mockdb.privilegedCategories",["mockdb.newId",function(e){return[{id:e(),name:"Сирота/без родительской опеки"},{id:e(),name:"Инвалид"},{id:e(),name:"Многодетная семья"},{id:e(),name:"Малообеспеченная семья"},{id:e(),name:"Другое"}]}]),angular.module("app.global.mockdb.scheduleSubjects",[]).factory("mockdb.scheduleSubjects",["$filter","mockdb.newId","mockdb.randomElement","mockdb.studentGroups","mockdb.employees","mockdb.students","mockdb.subjects","mockdb.workingPrograms",function(e,u,d,t,n,r,i,c){var o,l=n.getTeachers();return i=i.flatten(),(o=_.flatten(_.map(t,function(o,a){var s=r.byStudentGroup(o.id);return _.map(i,function(t,e){var e=`group${a}subject`+e,n=_.first(_.filter(c,function(e){return e.subject.id===t.id})),r=d(l,e+".teacher"),i="Английский язык"===t.name?_.head(s,Math.floor(s.length/2)):"Немецкий язык"===t.name?_.tail(s,Math.floor(s.length/2)):"Испанский язык"===t.name?_.tail(s,Math.floor(s.length)):null;return{id:u(),name:t.name,hours:d([34,44,40],e+".hours"),studentGroupId:o.id,teacher:r,subjectId:t.id,workingProgram:_.pick(n,"id","name"),hasOwnStudents:null!==i,students:null!=i?i:[],isWorkingProgramEditable:!0,subgroups:"Математика"===(e=t.name)||"Физика"===e?[{id:u(),name:"Лекция",teacher:r,hasOwnStudents:!1,students:[]},{id:u(),name:"Практика",teacher:r,hasOwnStudents:!0,students:[]}]:[]}})}),!0)).byStudentGroup=function(t){return _.filter(o,function(e){return e.studentGroupId===t})},o}]),angular.module("app.global.mockdb.specialties",[]).factory("mockdb.specialties",function(){return[{code:"220301",name:"Автоматизация технологических процессов и производств (по отраслям)",id:1,type:"VocationalBasicExecutives"},{code:"060102",name:"Акушерское дело",id:27,type:"VocationalBasicExecutives"},{code:"060110",name:"Лабораторная диагностика",id:28,type:"VocationalBasicExecutives"},{code:"060101",name:"Лечебное дело",id:29,type:"VocationalBasicExecutives"},{code:"060104",name:"Медико-профилактическое дело",id:30,type:"VocationalBasic"},{code:"060111",name:"Медицинская оптика",id:31,type:"VocationalBasic"},{code:"060109",name:"Сестринское дело",id:32,type:"VocationalSecondary"},{code:"060105",name:"Стоматология",id:33,type:"VocationalSecondary"},{code:"060106",name:"Стоматология ортопедическая",id:34,type:"VocationalSecondary"},{code:"060107",name:"Стоматология профилактическая",id:35,type:"VocationalSecondary"},{code:"060108",name:"Фармация",id:36,type:"VocationalBasicExecutives"}]}),angular.module("app.global.mockdb.studentGroups",[]).factory("mockdb.studentGroups",["mockdb.newId","mockdb.educationPrograms","mockdb.specialties","mockdb.educationCalendars","mockdb.employees","mockdb.departments",function(e,t,n,r,i,o){var a=function(t){return{yearNumber:t.number,termNumber:t.terms[0].number,termType:t.termType,educationCalendarId:_.find(r,function(e){return e.termType===t.termType}).id}},i=i.getTeachers();return[{id:e(),pattern:"4{Курс}-АВ",name:"41-АВ",code:_.findWhere(n,{id:t[0].specialtyId}).code+".13.1",educationPeriod:a(t[0].academicYears[0]),educationProgramId:t[0].id,curator:i[0],hasStudents:!0,department:o[0]},{id:e(),pattern:"47-ТМ",name:"47-ТМ",code:_.findWhere(n,{id:t[0].specialtyId}).code+".13.2",educationPeriod:a(t[0].academicYears[1]),educationProgramId:t[0].id,curator:i[1],hasStudents:!0,department:o[1]},{id:e(),pattern:"11-АВ",name:"11-АВ",code:_.findWhere(n,{id:t[1].specialtyId}).code+".12.1",educationPeriod:a(t[1].academicYears[1]),educationProgramId:t[1].id,curator:i[2],hasStudents:!0,department:o[0]},{id:e(),pattern:"1{Курс}-ОМД",name:"12-ОМД",code:_.findWhere(n,{id:t[1].specialtyId}).code+".12.2",educationPeriod:a(t[1].academicYears[1]),educationProgramId:t[1].id,curator:i[3],hasStudents:!1,department:o[2]},{id:e(),pattern:"14-ЭО",name:"14-ЭО",code:_.findWhere(n,{id:t[1].specialtyId}).code+".14.1",educationPeriod:a(t[1].academicYears[1]),educationProgramId:t[1].id,curator:i[4],hasStudents:!1,department:null}]}]),angular.module("app.global.mockdb.students",[]).factory("mockdb.students",["mockdb.newId","mockdb.personGenerator","mockdb.dateGenerator","mockdb.militaryRecordGenerator","mockdb.randomElement","mockdb.randomValue","mockdb.employees","mockdb.studentGroups","genders","educationBasises","relationshipTypes","decreeTypes","educationLevels",function(i,e,o,t,n,a,r,s,u,d,c,l,p){var m,f,g,h,y,b,v,S,w,D;for(d=_.values(d),D=[],m=function(e,t,n){var r;return{id:r=i(),number:a(e+`.${r}.number`,1e3).toString(),date:t===l.enroll?new Date(2013,8,1):o.newDate(e+`.${r}.date`,new Date(2013,9,1),new Date(2013,11,1)),type:t,studentGroup:_.pick(n,"id","name")}},g=h=0,b=s.length;h<b;g=++h)for(w=s[g],f=y=0;y<=14;f=++y)S=`group${g}:student${f}-salt`,v=_.isEmpty(D)?_.chain(r).first().omit("educationLevel","positions","decrees").extend({id:i()}).value():e.newPerson(S,void 0,16,21),D.push(_.extend(v,{educationBasis:n(d,S+".educationBasis"),studentGroupId:w.id,parents:[_.extend(e.newPerson(S+".mother",u.female,25,50),{relationshipType:c.mother}),_.extend(e.newPerson(S+".father",u.male,25,50),{relationshipType:c.father})],decrees:[m(S,l.enroll,(0===g?_.last:_.first)(s)),m(S,l.move,w)],educationLevel:p.basic,graduationDate:new Date(2013,7,1),graduatedResidentialTrainingFacility:!0,isInternationalContract:!0,editable:f%4!=0,militaryRecord:t.newMilitaryRecord(S,f),gradePointAverage:4.5}));return D.byStudentGroup=function(t){return _.chain(D).filter(function(e){return e.studentGroupId===t}).map(function(e){return _.pick(e,"id","firstName","lastName","middleName")}).value()},D.remove=function(e){var t=_.findIndex(D,{id:e});if(-1===t)throw new Error(`Студент с идентификатором ${e} не найден.`);return D.splice(t,1)},D}]),angular.module("app.global.mockdb.subjects",[]).factory("mockdb.subjects",["mockdb.newId","subjectTypes",function(e,u){return _.extend([{id:e(),name:"Математика",shortName:"Математика",type:u.regular},{id:e(),name:"Физика",shortName:"Физика",type:u.regular},{id:e(),name:"Химия",shortName:"Химия",type:u.regular},{id:e(),name:"История",shortName:"История",type:u.regular},{id:e(),name:"Экономика",shortName:"Экономика",type:u.regular},{id:e(),name:"Обществознание",shortName:"Обществознание",type:u.regular},{id:e(),name:"Русский язык",shortName:"Рус. яз.",type:u.regular},{id:e(),name:"Литература",shortName:"Лит-ра",type:u.regular},{id:e(),name:"Иностранный язык",shortName:"Ин. яз.",type:u.regular,children:[{id:e(),name:"Английский язык",shortName:"Англ. яз.",type:u.regular},{id:e(),name:"Немецкий язык",shortName:"Нем. яз.",type:u.regular},{id:e(),name:"Испанский язык",shortName:"Исп. яз.",type:u.regular}]},{id:e(),name:"Физическая культура",shortName:"Физкультура",type:u.regular},{id:e(),name:"Биология",shortName:"Биология",type:u.regular},{id:e(),name:"ОБЖ",shortName:"ОБЖ",type:u.regular},{id:e(),name:"Информатика и ИКТ",shortName:"Информатика и ИКТ",type:u.regular},{id:e(),name:"Черчение",shortName:"Черчение",type:u.regular},{id:e(),name:"Общая и профессиональная педагогика",shortName:"Педагогика",type:u.regular},{id:e(),name:"Общая и профессиональная психология",shortName:"Психология",type:u.regular},{id:e(),name:"Возрастная анатомия, физиология и гигиена",shortName:"Анатомия",type:u.regular},{id:e(),name:"Методика профессионального обучения",shortName:"МПО",type:u.mdk},{id:e(),name:"Производственная практика",shortName:"Производственная практика",type:u.practicalTraining},{id:e(),name:"Технологические процессы изготовления деталей машин",shortName:"Технология изготовления",type:u.mdk}],{find:function(e){return _.first(this.where([e]))},where:function(t){return this.filter(function(e){return _.contains(t,e.id)})},filter:function(e){return _.chain(this.flatten()).filter(e).map(function(e){return _.pick(e,"id","name")}).value()},flatten:function(){for(var e,t,n,r,i,o=[],a=0,s=this.length;a<s;a++)if((n=this[a]).type===u.regular)if(_.isEmpty(n.children))o.push(_.omit(n,"children"));else for(e=0,t=(r=n.children).length;e<t;e++)i=r[e],o.push(i);return o}})}]),angular.module("app.global.mockdb.thematicPlans",[]).factory("mockdb.thematicPlans",["mockdb.newId","thematicPlanLessonTypes",function(e,t){return{"Математика":[{id:e(),name:"Прямые и плоскости в пространстве.",topics:[{id:e(),name:"Начальные понятия стереометрии. Параллельность прямых и плоскостей.",description:"",requirements:"",lessons:[{id:e(),name:"Основные понятия стереометрии. Аксиомы стереометрии и следствия из них.",type:t.lecture,duration:2,additions:"Дидактические материалы по теме «Аксиомы стереометрии и следствия из них», модели геометрических тел.",homework:"Введение п. 1-3 [2]"},{id:e(),name:"Взаимное расположение двух прямых в пространстве.",type:t.lecture,duration:2,additions:"Таблица «Взаимное расположение прямых в пространстве».",homework:"Гл.3, §1 [1], гл.1, §1, п.4, §2, п.7 [2]"},{id:e(),name:"Взаимное расположение прямой и плоскости. Признак параллельности прямой и плоскости.",type:t.lecture,duration:2,additions:"Таблица «Параллельность прямых, прямой и плоскости».",homework:"Гл. 3, §1 [1], гл. 1, §1, п.6 [2]"},{id:e(),name:"Теорема о плоскости, проходящей через прямую, параллельную данной плоскости.",type:t.lecture,duration:2,additions:"Таблица «Параллельность прямых, прямой и плоскости».",homework:"Гл. 3, §1 [1], гл. 1, §1, п.6 [2]"},{id:e(),name:"Взаимное расположение двух плоскостей. Признак параллельности двух плоскостей. Свойства параллельных плоскостей.",type:t.lecture,duration:2,additions:"Таблица «Параллельность прямых, прямой и плоскости».",homework:"Гл. 3, §1,2 [1], гл. 1, §3, п.10,11 [2]"},{id:e(),name:"Параллельное проектирование и его свойства. Изображение пространственных фигур.",type:t.lecture,duration:2,additions:"Дидактические материалы  по теме «Параллельное проектирование и его свойства».",homework:"Приложения п.1 [2]"}]}]}],"Физика":[{id:e(),name:"Электричество и магнетизм",topics:[{id:e(),name:"Электрический заряд",description:"Цели и задачи дисциплины. Роль и место знаний по дисциплине в сфере профессиональной деятельности. Основные понятия: электрический заряд, электрическое поле, магнетизм, магнитные поля. Принципы работы асинхронных электродвигателей.",requirements:"Иметь представление о роли и месте знаний по дисциплине в профессиональной деятельности;\nЗнать принципы действия магнитных и электрических полей;\nУметь собирать асинхронный электродвигатель в домашних условиях.",lessons:[{id:e(),name:"Движение точки и тела. Положение точки в пространстве. Способы описания движения. Система отсчета.",type:t.lecture,duration:2,additions:"Методические пособия, плакаты",homework:"§4, 5, 8"}]}]}]}}]),angular.module("app.global.mockdb.timetable",[]).factory("mockdb.timetable",["mockdb.randomElement","mockdb.newId","mockdb.studentGroups","mockdb.scheduleSubjects","mockdb.classrooms",function(r,i,e,o,a){e=[{id:1,ring:3,date:new Date(2013,8,3).toISOString(),studentGroup:e[0],duration:1},{id:2,ring:4,date:new Date(2013,8,3).toISOString(),studentGroup:e[0],duration:1},{id:3,ring:5,date:new Date(2013,8,3).toISOString(),studentGroup:e[0],duration:1},{id:4,ring:2,date:new Date(2013,8,4).toISOString(),studentGroup:e[0],duration:1},{id:5,ring:3,date:new Date(2013,8,4).toISOString(),studentGroup:e[0],duration:1},{id:6,ring:4,date:new Date(2013,8,4).toISOString(),studentGroup:e[0],duration:1},{id:7,ring:3,date:new Date(2013,8,5).toISOString(),studentGroup:e[0],duration:1},{id:8,ring:4,date:new Date(2013,8,5).toISOString(),studentGroup:e[0],duration:1},{id:9,ring:5,date:new Date(2013,8,5).toISOString(),studentGroup:e[0],duration:1},{id:10,ring:2,date:new Date(2013,8,6).toISOString(),studentGroup:e[0],duration:1},{id:11,ring:3,date:new Date(2013,8,6).toISOString(),studentGroup:e[0],duration:1},{id:12,ring:3,date:new Date(2013,8,7).toISOString(),studentGroup:e[0],duration:1},{id:13,ring:4,date:new Date(2013,8,7).toISOString(),studentGroup:e[0],duration:1},{id:14,ring:5,date:new Date(2013,8,7).toISOString(),studentGroup:e[0],duration:1},{id:15,ring:1,date:new Date(2013,8,8).toISOString(),studentGroup:e[0],duration:1},{id:16,ring:2,date:new Date(2013,8,8).toISOString(),studentGroup:e[0],duration:1},{id:17,ring:3,date:new Date(2013,8,8).toISOString(),studentGroup:e[0],duration:1},{id:18,ring:4,date:new Date(2013,8,8).toISOString(),studentGroup:e[0],duration:1},{id:19,ring:4,date:new Date(2013,8,3).toISOString(),studentGroup:e[1],duration:1},{id:20,ring:5,date:new Date(2013,8,3).toISOString(),studentGroup:e[1],duration:1},{id:21,ring:6,date:new Date(2013,8,3).toISOString(),studentGroup:e[1],duration:1},{id:22,ring:4,date:new Date(2013,8,4).toISOString(),studentGroup:e[1],duration:1},{id:23,ring:5,date:new Date(2013,8,4).toISOString(),studentGroup:e[1],duration:1},{id:24,ring:6,date:new Date(2013,8,4).toISOString(),studentGroup:e[1],duration:1},{id:25,ring:7,date:new Date(2013,8,4).toISOString(),studentGroup:e[1],duration:1},{id:26,ring:2,date:new Date(2013,8,5).toISOString(),studentGroup:e[1],duration:1},{id:27,ring:3,date:new Date(2013,8,5).toISOString(),studentGroup:e[1],duration:1},{id:28,ring:4,date:new Date(2013,8,5).toISOString(),studentGroup:e[1],duration:1},{id:29,ring:5,date:new Date(2013,8,5).toISOString(),studentGroup:e[1],duration:1},{id:30,ring:4,date:new Date(2013,8,6).toISOString(),studentGroup:e[1],duration:1},{id:31,ring:5,date:new Date(2013,8,6).toISOString(),studentGroup:e[1],duration:1},{id:32,ring:7,date:new Date(2013,8,6).toISOString(),studentGroup:e[1],duration:1},{id:33,ring:3,date:new Date(2013,8,7).toISOString(),studentGroup:e[1],duration:1},{id:34,ring:4,date:new Date(2013,8,7).toISOString(),studentGroup:e[1],duration:1},{id:35,ring:5,date:new Date(2013,8,7).toISOString(),studentGroup:e[1],duration:1},{id:36,ring:6,date:new Date(2013,8,7).toISOString(),studentGroup:e[1],duration:1},{id:37,ring:2,date:new Date(2013,8,3).toISOString(),studentGroup:e[2],duration:1},{id:38,ring:3,date:new Date(2013,8,3).toISOString(),studentGroup:e[2],duration:1},{id:39,ring:4,date:new Date(2013,8,3).toISOString(),studentGroup:e[2],duration:1},{id:40,ring:1,date:new Date(2013,8,4).toISOString(),studentGroup:e[2],duration:1},{id:41,ring:2,date:new Date(2013,8,4).toISOString(),studentGroup:e[2],duration:1},{id:42,ring:3,date:new Date(2013,8,4).toISOString(),studentGroup:e[2],duration:1},{id:43,ring:1,date:new Date(2013,8,5).toISOString(),studentGroup:e[2],duration:1},{id:44,ring:2,date:new Date(2013,8,5).toISOString(),studentGroup:e[2],duration:1},{id:45,ring:3,date:new Date(2013,8,5).toISOString(),studentGroup:e[2],duration:1},{id:46,ring:1,date:new Date(2013,8,6).toISOString(),studentGroup:e[2],duration:1},{id:47,ring:2,date:new Date(2013,8,6).toISOString(),studentGroup:e[2],duration:1},{id:48,ring:3,date:new Date(2013,8,6).toISOString(),studentGroup:e[2],duration:1},{id:49,ring:1,date:new Date(2013,8,7).toISOString(),studentGroup:e[2],duration:1},{id:50,ring:2,date:new Date(2013,8,7).toISOString(),studentGroup:e[2],duration:1},{id:51,ring:3,date:new Date(2013,8,7).toISOString(),studentGroup:e[2],duration:1},{id:52,ring:4,date:new Date(2013,8,7).toISOString(),studentGroup:e[2],duration:1},{id:53,ring:2,date:new Date(2013,8,8).toISOString(),studentGroup:e[2],duration:1},{id:54,ring:3,date:new Date(2013,8,8).toISOString(),studentGroup:e[2],duration:1},{id:55,ring:1,date:new Date(2013,8,3).toISOString(),studentGroup:e[3],duration:1},{id:56,ring:2,date:new Date(2013,8,3).toISOString(),studentGroup:e[3],duration:1},{id:57,ring:3,date:new Date(2013,8,3).toISOString(),studentGroup:e[3],duration:1},{id:58,ring:1,date:new Date(2013,8,4).toISOString(),studentGroup:e[3],duration:1},{id:59,ring:2,date:new Date(2013,8,4).toISOString(),studentGroup:e[3],duration:1},{id:60,ring:3,date:new Date(2013,8,4).toISOString(),studentGroup:e[3],duration:1},{id:61,ring:2,date:new Date(2013,8,5).toISOString(),studentGroup:e[3],duration:1},{id:62,ring:3,date:new Date(2013,8,5).toISOString(),studentGroup:e[3],duration:1},{id:63,ring:4,date:new Date(2013,8,5).toISOString(),studentGroup:e[3],duration:1},{id:64,ring:1,date:new Date(2013,8,6).toISOString(),studentGroup:e[3],duration:1},{id:65,ring:2,date:new Date(2013,8,6).toISOString(),studentGroup:e[3],duration:1},{id:66,ring:3,date:new Date(2013,8,6).toISOString(),studentGroup:e[3],duration:1},{id:67,ring:1,date:new Date(2013,8,7).toISOString(),studentGroup:e[3],duration:1},{id:68,ring:2,date:new Date(2013,8,7).toISOString(),studentGroup:e[3],duration:1},{id:69,ring:3,date:new Date(2013,8,7).toISOString(),studentGroup:e[3],duration:1},{id:70,ring:2,date:new Date(2013,8,9).toISOString(),studentGroup:e[3],duration:1},{id:71,ring:3,date:new Date(2013,8,9).toISOString(),studentGroup:e[3]},{id:72,ring:4,date:new Date(2013,8,3).toISOString(),studentGroup:e[4]},{id:73,ring:5,date:new Date(2013,8,3).toISOString(),studentGroup:e[4],duration:1},{id:74,ring:6,date:new Date(2013,8,3).toISOString(),studentGroup:e[4],duration:1},{id:75,ring:1,date:new Date(2013,8,4).toISOString(),studentGroup:e[4],duration:1},{id:76,ring:2,date:new Date(2013,8,4).toISOString(),studentGroup:e[4],duration:1},{id:77,ring:3,date:new Date(2013,8,4).toISOString(),studentGroup:e[4],duration:1},{id:78,ring:2,date:new Date(2013,8,5).toISOString(),studentGroup:e[4],duration:1},{id:79,ring:3,date:new Date(2013,8,5).toISOString(),studentGroup:e[4],duration:1},{id:80,ring:4,date:new Date(2013,8,5).toISOString(),studentGroup:e[4],duration:1},{id:81,ring:1,date:new Date(2013,8,6).toISOString(),studentGroup:e[4],duration:1},{id:82,ring:3,date:new Date(2013,8,6).toISOString(),studentGroup:e[4],duration:1},{id:83,ring:1,date:new Date(2013,8,7).toISOString(),studentGroup:e[4],duration:1},{id:84,ring:2,date:new Date(2013,8,7).toISOString(),studentGroup:e[4],duration:1},{id:85,ring:3,date:new Date(2013,8,7).toISOString(),studentGroup:e[4],duration:1},{id:86,ring:2,date:new Date(2013,8,8).toISOString(),studentGroup:e[4],duration:1},{id:87,ring:3,date:new Date(2013,8,8).toISOString(),studentGroup:e[4],duration:1},{id:88,ring:1,date:new Date(2013,8,10).toISOString(),studentGroup:e[0],duration:1},{id:89,ring:2,date:new Date(2013,8,10).toISOString(),studentGroup:e[0],duration:1},{id:90,ring:3,date:new Date(2013,8,10).toISOString(),studentGroup:e[0],duration:1},{id:91,ring:3,date:new Date(2013,8,11).toISOString(),studentGroup:e[0],duration:1},{id:92,ring:4,date:new Date(2013,8,11).toISOString(),studentGroup:e[0],duration:1},{id:93,ring:5,date:new Date(2013,8,11).toISOString(),studentGroup:e[0],duration:1},{id:94,ring:3,date:new Date(2013,8,12).toISOString(),studentGroup:e[0],duration:1},{id:96,ring:5,date:new Date(2013,8,12).toISOString(),studentGroup:e[0],duration:1},{id:97,ring:1,date:new Date(2013,8,13).toISOString(),studentGroup:e[0],duration:1},{id:98,ring:2,date:new Date(2013,8,13).toISOString(),studentGroup:e[0],duration:1},{id:99,ring:3,date:new Date(2013,8,13).toISOString(),studentGroup:e[0],duration:1},{id:100,ring:2,date:new Date(2013,8,14).toISOString(),studentGroup:e[0],duration:1},{id:101,ring:3,date:new Date(2013,8,14).toISOString(),studentGroup:e[0],duration:1},{id:102,ring:4,date:new Date(2013,8,14).toISOString(),studentGroup:e[0],duration:1},{id:103,ring:5,date:new Date(2013,8,14).toISOString(),studentGroup:e[0],duration:1},{id:104,ring:1,date:new Date(2013,8,15).toISOString(),studentGroup:e[0],duration:1},{id:105,ring:2,date:new Date(2013,8,15).toISOString(),studentGroup:e[0],duration:1},{id:107,ring:1,date:new Date(2013,8,10).toISOString(),studentGroup:e[1],duration:1},{id:106,ring:2,date:new Date(2013,8,10).toISOString(),studentGroup:e[1],duration:1},{id:108,ring:3,date:new Date(2013,8,10).toISOString(),studentGroup:e[1],duration:1},{id:109,ring:3,date:new Date(2013,8,11).toISOString(),studentGroup:e[1],duration:1},{id:110,ring:4,date:new Date(2013,8,11).toISOString(),studentGroup:e[1],duration:1},{id:111,ring:5,date:new Date(2013,8,11).toISOString(),studentGroup:e[1],duration:1},{id:112,ring:6,date:new Date(2013,8,11).toISOString(),studentGroup:e[1]},{id:113,ring:1,date:new Date(2013,8,12).toISOString(),studentGroup:e[1],duration:1},{id:114,ring:2,date:new Date(2013,8,12).toISOString(),studentGroup:e[1],duration:1},{id:115,ring:3,date:new Date(2013,8,12).toISOString(),studentGroup:e[1],duration:1},{id:116,ring:3,date:new Date(2013,8,13).toISOString(),studentGroup:e[1],duration:1},{id:117,ring:4,date:new Date(2013,8,13).toISOString(),studentGroup:e[1],duration:1},{id:118,ring:5,date:new Date(2013,8,13).toISOString(),studentGroup:e[1],duration:1},{id:119,ring:4,date:new Date(2013,8,14).toISOString(),studentGroup:e[1],duration:1},{id:120,ring:5,date:new Date(2013,8,14).toISOString(),studentGroup:e[1],duration:1},{id:121,ring:4,date:new Date(2013,8,10).toISOString(),studentGroup:e[2],duration:1},{id:122,ring:3,date:new Date(2013,8,10).toISOString(),studentGroup:e[2],duration:1},{id:123,ring:1,date:new Date(2013,8,10).toISOString(),studentGroup:e[2],duration:1},{id:124,ring:2,date:new Date(2013,8,11).toISOString(),studentGroup:e[2],duration:1},{id:125,ring:3,date:new Date(2013,8,11).toISOString(),studentGroup:e[2],duration:1},{id:126,ring:4,date:new Date(2013,8,11).toISOString(),studentGroup:e[2],duration:1},{id:127,ring:1,date:new Date(2013,8,12).toISOString(),studentGroup:e[2],duration:1},{id:128,ring:2,date:new Date(2013,8,12).toISOString(),studentGroup:e[2],duration:1},{id:129,ring:3,date:new Date(2013,8,12).toISOString(),studentGroup:e[2],duration:1},{id:130,ring:4,date:new Date(2013,8,13).toISOString(),studentGroup:e[2],duration:1},{id:131,ring:5,date:new Date(2013,8,13).toISOString(),studentGroup:e[2],duration:1},{id:132,ring:6,date:new Date(2013,8,13).toISOString(),studentGroup:e[2],duration:1},{id:133,ring:2,date:new Date(2013,8,14).toISOString(),studentGroup:e[2],duration:1},{id:134,ring:3,date:new Date(2013,8,14).toISOString(),studentGroup:e[2],duration:1},{id:135,ring:5,date:new Date(2013,8,14).toISOString(),studentGroup:e[2],duration:1},{id:136,ring:1,date:new Date(2013,8,10).toISOString(),studentGroup:e[3],duration:1},{id:137,ring:2,date:new Date(2013,8,10).toISOString(),studentGroup:e[3],duration:1},{id:138,ring:3,date:new Date(2013,8,10).toISOString(),studentGroup:e[3],duration:1},{id:139,ring:4,date:new Date(2013,8,11).toISOString(),studentGroup:e[3],duration:1},{id:140,ring:5,date:new Date(2013,8,11).toISOString(),studentGroup:e[3],duration:1},{id:141,ring:6,date:new Date(2013,8,11).toISOString(),studentGroup:e[3],duration:1},{id:142,ring:1,date:new Date(2013,8,12).toISOString(),studentGroup:e[3],duration:1},{id:143,ring:2,date:new Date(2013,8,12).toISOString(),studentGroup:e[3],duration:1},{id:144,ring:3,date:new Date(2013,8,12).toISOString(),studentGroup:e[3],duration:1},{id:145,ring:1,date:new Date(2013,8,13).toISOString(),studentGroup:e[3],duration:1},{id:146,ring:2,date:new Date(2013,8,13).toISOString(),studentGroup:e[3],duration:1},{id:147,ring:3,date:new Date(2013,8,13).toISOString(),studentGroup:e[3],duration:1},{id:148,ring:1,date:new Date(2013,8,14).toISOString(),studentGroup:e[3],duration:1},{id:149,ring:2,date:new Date(2013,8,14).toISOString(),studentGroup:e[3],duration:1},{id:150,ring:3,date:new Date(2013,8,14).toISOString(),studentGroup:e[3],duration:1},{id:151,ring:2,date:new Date(2013,8,15).toISOString(),studentGroup:e[3],duration:1},{id:152,ring:3,date:new Date(2013,8,15).toISOString(),studentGroup:e[3],duration:1},{id:153,ring:4,date:new Date(2013,8,10).toISOString(),studentGroup:e[4],duration:1},{id:154,ring:5,date:new Date(2013,8,10).toISOString(),studentGroup:e[4],duration:1},{id:155,ring:6,date:new Date(2013,8,10).toISOString(),studentGroup:e[4],duration:1},{id:156,ring:1,date:new Date(2013,8,11).toISOString(),studentGroup:e[4],duration:1},{id:157,ring:2,date:new Date(2013,8,11).toISOString(),studentGroup:e[4],duration:1},{id:158,ring:4,date:new Date(2013,8,12).toISOString(),studentGroup:e[4],duration:1},{id:159,ring:5,date:new Date(2013,8,12).toISOString(),studentGroup:e[4],duration:1},{id:160,ring:6,date:new Date(2013,8,12).toISOString(),studentGroup:e[4],duration:1},{id:161,ring:2,date:new Date(2013,8,13).toISOString(),studentGroup:e[4],duration:1},{id:162,ring:4,date:new Date(2013,8,13).toISOString(),studentGroup:e[4],duration:1},{id:163,ring:5,date:new Date(2013,8,13).toISOString(),studentGroup:e[4],duration:1},{id:164,ring:1,date:new Date(2013,8,14).toISOString(),studentGroup:e[4],duration:1},{id:165,ring:2,date:new Date(2013,8,14).toISOString(),studentGroup:e[4],duration:1},{id:166,ring:3,date:new Date(2013,8,14).toISOString(),studentGroup:e[4],duration:1},{id:167,ring:4,date:new Date(2013,8,14).toISOString(),studentGroup:e[4],duration:1},{ring:4,date:new Date(2013,8,3).toISOString(),studentGroup:e[0],duration:1},{ring:5,date:new Date(2013,8,3).toISOString(),studentGroup:e[0],duration:1},{ring:3,date:new Date(2013,8,7).toISOString(),studentGroup:e[0],duration:1},{ring:2,date:new Date(2013,8,7).toISOString(),studentGroup:e[0],duration:1},{ring:4,date:new Date(2013,8,10).toISOString(),studentGroup:e[0],duration:1},{ring:5,date:new Date(2013,8,10).toISOString(),studentGroup:e[0],duration:1},{ring:3,date:new Date(2013,8,14).toISOString(),studentGroup:e[0],duration:1},{ring:2,date:new Date(2013,8,14).toISOString(),studentGroup:e[0],duration:1},{ring:4,date:new Date(2013,8,17).toISOString(),studentGroup:e[0],duration:1},{ring:5,date:new Date(2013,8,17).toISOString(),studentGroup:e[0],duration:1},{ring:4,date:new Date(2013,8,24).toISOString(),studentGroup:e[0],duration:1},{ring:5,date:new Date(2013,8,24).toISOString(),studentGroup:e[0],duration:1},{ring:4,date:new Date(2013,9,1).toISOString(),studentGroup:e[0],duration:1},{ring:5,date:new Date(2013,9,1).toISOString(),studentGroup:e[0],duration:1},{ring:4,date:new Date(2013,9,8).toISOString(),studentGroup:e[0],duration:1},{ring:5,date:new Date(2013,9,8).toISOString(),studentGroup:e[0],duration:1},{ring:4,date:new Date(2013,9,15).toISOString(),studentGroup:e[0],duration:1},{ring:5,date:new Date(2013,9,15).toISOString(),studentGroup:e[0],duration:1},{ring:3,date:new Date(2013,9,19).toISOString(),studentGroup:e[0],duration:1},{ring:2,date:new Date(2013,9,19).toISOString(),studentGroup:e[0],duration:1},{ring:4,date:new Date(2013,9,22).toISOString(),studentGroup:e[0],duration:1},{ring:5,date:new Date(2013,9,22).toISOString(),studentGroup:e[0],duration:1},{ring:3,date:new Date(2013,9,26).toISOString(),studentGroup:e[0],duration:1},{ring:2,date:new Date(2013,9,26).toISOString(),studentGroup:e[0],duration:1},{ring:4,date:new Date(2013,9,29).toISOString(),studentGroup:e[0],duration:1},{ring:5,date:new Date(2013,9,29).toISOString(),studentGroup:e[0],duration:1},{ring:3,date:new Date(2013,10,12).toISOString(),studentGroup:e[0],duration:1},{ring:2,date:new Date(2013,10,12).toISOString(),studentGroup:e[0],duration:1},{ring:4,date:new Date(2013,10,12).toISOString(),studentGroup:e[0],duration:1},{ring:5,date:new Date(2013,10,14).toISOString(),studentGroup:e[0],duration:1},{ring:3,date:new Date(2013,11,14).toISOString(),studentGroup:e[0],duration:1},{ring:4,date:new Date(2013,11,14).toISOString(),studentGroup:e[0],duration:1},{ring:5,date:new Date(2013,11,14).toISOString(),studentGroup:e[0],duration:1},{ring:2,date:new Date(2013,11,19).toISOString(),studentGroup:e[0],duration:1},{ring:3,date:new Date(2013,11,19).toISOString(),studentGroup:e[0],duration:1},{ring:4,date:new Date(2013,11,19).toISOString(),studentGroup:e[0],duration:1},{ring:3,date:new Date(2013,11,19).toISOString(),studentGroup:e[0],duration:1},{ring:4,date:new Date(2013,11,19).toISOString(),studentGroup:e[0],duration:1},{ring:5,date:new Date(2013,11,19).toISOString(),studentGroup:e[0],duration:1},{ring:2,date:new Date(2013,11,28).toISOString(),studentGroup:e[0],duration:1},{ring:3,date:new Date(2013,11,28).toISOString(),studentGroup:e[0],duration:1},{ring:3,date:new Date(2013,11,27).toISOString(),studentGroup:e[0],duration:1},{ring:4,date:new Date(2013,11,27).toISOString(),studentGroup:e[0],duration:1},{ring:5,date:new Date(2013,11,30).toISOString(),studentGroup:e[0],duration:1},{ring:1,date:new Date(2013,11,30).toISOString(),studentGroup:e[0],duration:1},{ring:2,date:new Date(2013,11,30).toISOString(),studentGroup:e[0],duration:2},{ring:3,date:new Date(2013,11,31).toISOString(),studentGroup:e[0],duration:2},{ring:5,date:new Date(2013,11,31).toISOString(),studentGroup:e[0],duration:2},{ring:7,date:new Date(2013,11,31).toISOString(),studentGroup:e[0],duration:2}];return _.map(e,function(e){var t=o.byStudentGroup(e.studentGroup.id),n=e.id?e.id+`studentGroup${e.date}-`+e.ring:`${e.id}studentGroup${new Date(2013,8,17).toISOString()}-`+e.ring,t=r(t,n+"scheduleSubject"),n=r(a,n+".classroom");return _.extend(e,{id:i(),studentGroup:{id:e.studentGroup.id,name:e.studentGroup.name},teacher:t.teacher,scheduleSubject:{id:t.id,name:t.name},classroom:{id:n.id,name:n.name,building:n.building}})})}]),angular.module("app.global.mockdb.workingPrograms",[]).factory("mockdb.workingPrograms",["$filter","mockdb.newId","mockdb.randomSet","mockdb.subjects","mockdb.employees",function(e,i,o,t,a){return a=a.getAll(),_.map(t.flatten(),function(e,t){var n=o(a,`Соавторы '${e.name}'`,t%4+1),r=t%2!=0;return{id:i(),name:"РПД "+e.name,subject:_.pick(e,"id","name"),isApproved:r,isUsed:r,author:_.first(n),coauthors:_.rest(n),teachers:o(a,`Преподаватели '${e.name}'`,t%2+1),editable:t%4!=0,deletable:!r&&t%4!=0}})}]),angular.module("uikit.datePicker",[]).constant("datePickerConfig",{format:"dd.mm.yyyy",autoclose:!0,todayBtn:!0,todayHighlight:!0,language:"ru"}).directive("datePicker",["$parse","datePickerConfig",function(e,f){var g=/(iPad|iPod|iPhone)/g.test(navigator.userAgent),h=function(e,t,n){return $.fn.datepicker.DPGlobal.parseDate(e,$.fn.datepicker.DPGlobal.parseFormat(t),n)},y=function(e,t,n){return $.fn.datepicker.DPGlobal.formatDate(v(e),$.fn.datepicker.DPGlobal.parseFormat(t),n)},b=function(e){return angular.isDate(e)?new Date(e.getFullYear(),e.getMonth(),e.getDate()):e},v=function(e){return angular.isDate(e)?new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())):e};return{restrict:"A",require:"?ngModel",link:function(t,n,r,i){var o,a,s,u,e,d,c=angular.copy(f),l=moment([1753,0,1]),p=void 0,m=void 0;angular.forEach(["format","weekStart","calendarWeeks","daysOfWeekDisabled","autoclose","startView","minViewMode","todayBtn","todayHighlight","keyboardNavigation","language","forceParse","orientation"],function(e){if(angular.isDefined(r[e]))return c[e]=t.$eval(r[e])}),o=r.dateType||c.dataType||"date",u=c.language||"en",a=g?"yyyy-mm-dd":r.dateFormat||c.format||(null!=(e=$.fn.datepicker.dates[u])?e.format:void 0)||"mm/dd/yyyy",s=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},d=function(e){return i.$setValidity("min",!angular.isDate(e)||!l.isAfter(e)&&(!angular.isDate(p)||s(e)>=s(p))),i.$setValidity("max",!angular.isDate(e)||!angular.isDate(m)||s(e)<=s(m))},i&&(i.$formatters.push(function(e){return angular.isDate(e)?y(e,a,u):angular.isString(e)?y(b(new Date(e)),a,u):moment.isMoment(e)?y(e.toDate(),a,u):void 0}),i.$parsers.push(function(e){var t=i.$isEmpty(e)?null:isNaN(e=b(h(e,a,u)))?e=void 0:"moment"===o?moment(e):e;return i.$setValidity("date",angular.isDefined(t)),d(e),t}),i.$render=function(){return i.$isEmpty(i.$viewValue)?n.val(""):g?n.val(i.$viewValue):n.datepicker("update",h(i.$viewValue,a,u))}),g?n.prop("type","date").css("-webkit-appearance","textfield"):(i&&n.on("changeDate",function(e){t.$apply(function(){i.$setViewValue(y(e.date,a,u))})}),n.datepicker(angular.extend(c,{format:a,language:u})),t.$on("$destroy",function(){var e=n.data("datepicker");e&&(e.picker.remove(),n.data("datepicker",null))}),t.$watch(r.startDate,function(e){return n.datepicker("setStartDate",v(p=angular.isDate(e)?e:moment.isMoment(e)?e.toDate():void 0)),null!=i.$viewValue?d(b(h(i.$viewValue,a,u))):d(i.$viewValue)}),t.$watch(r.endDate,function(e){return n.datepicker("setEndDate",v(m=angular.isDate(e)?e:moment.isMoment(e)?e.toDate():void 0)),null!=i.$viewValue?d(b(h(i.$viewValue,a,u))):d(i.$viewValue)})),(e=n.siblings('[data-toggle="datepicker"]')).length&&e.on("click",function(){n.prop("disabled")||n.trigger("focus")})}}}]),angular.module("uikit.dropList",[]).directive("dropList",["$document","$location",function(r,e){var i=null,o=angular.noop;return{restrict:"CA",link:function(e,n,t){e.$watch("$location.path",function(){o()}),e.$watch(t.disabled,function(e){(e=!!e)&&o(),t.$set("disabled",e)}),n.bind("click",function(e){"A"===e.target.tagName?o():(e.preventDefault(),e.stopPropagation())}),n.find("dt").bind("click",function(e){var t=n===i;if(e.preventDefault(),e.stopPropagation(),i&&o(),!t&&!n.attr("disabled"))return n.addClass("open"),i=n,o=function(e){return e&&(e.preventDefault(),e.stopPropagation()),r.unbind("click",o),n.removeClass("open"),o=angular.noop,i=null},r.bind("click",o)})}}}]),angular.module("uikit.dropMenu",[]).directive("dropMenu",["$document","$location",function(r,e){var i=null,o=angular.noop;return{restrict:"CA",link:function(e,n){e.$watch("$location.path",function(){o()}),n.bind("click",function(e){"A"===e.target.tagName?o():(e.preventDefault(),e.stopPropagation())}),angular.forEach(n.find("dl"),function(e){return angular.element(e).bind("mouseenter",function(){angular.element(this).addClass("open").siblings().removeClass("open")}).find("dt").bind("click",function(e){var t=n===i;e.preventDefault(),e.stopPropagation(),i&&o(),t||(n.addClass("active"),i=n,o=function(e){return e&&(e.preventDefault(),e.stopPropagation()),r.unbind("click",o),n.removeClass("active"),o=angular.noop,i=null},r.bind("click",o))})})}}}]),angular.module("uikit.liteBox",[]).controller("MessageBoxController",["$scope","liteBox","model",function(e,t,n){return _.extend(e,n,{close:function(e){return t.close(e)}})}]).controller("MultiLineWarningBoxController",["$scope","liteBox","model",function(e,t,n){return _.extend(e,n,{close:function(e){return t.close(e)}})}]).provider("$liteBox",function(){var p={speed:300,cssClass:null,animated:!0,closeable:!0},m={};this.options=function(e){m=e},this.$get=["$http","$compile","$rootScope","$controller","$log","$templateCache","$q","$injector","$window","$document",function(t,r,i,o,n,a,s,u,d,c){var l=class{constructor(e){this.options=angular.extend({},p,m,e),this._open=!1,this._content=$("<div>").addClass("placeholder").click(function(e){e.stopPropagation()}),this._container=$("<section>").addClass("child-window").toggleClass("animated",this.options.animated).append(this._content).click(e=>this.close()).appendTo(d.document.body).hide(),c.bind("keyup",e=>{if(27===e.keyCode)return e.preventDefault(),e.stopPropagation(),this.close()})}open(e,t){var n;if(e&&(this.options.templateUrl=e),t&&(this.options.controller=t),this.options.template||this.options.templateUrl)return $(document).height()>$(window).height()?(e=$("html").scrollTop()||$("body").scrollTop(),$("html").addClass("noscroll").css("top",-e)):$("html,body").css("overflow","hidden"),this._container.fadeIn(this.options.speed,()=>$(this._content).find("[autofocus]:first").focus()).addClass("visible"),n=$("<span>").addClass("state-busy").appendTo(this._content),this._loadResolves().then(e=>{var t;e.$scope=this.$scope=e.$scope||i.$new(),n.remove(),t=$("<div>").addClass("litebox"),this.options.closeable&&$("<span>").addClass("close").text("×").click(e=>{e.preventDefault(),this.close(),this.$scope.$apply()}).appendTo(t),this.options.cssClass&&t.addClass(this.options.cssClass),this._content.append(t),t.append(e.$template),this.options.controller&&(t=o(this.options.controller,e),this._container.children().data("ngControllerController",t)),r(this._container)(this.$scope),this._open=!0}),this.deferred=s.defer(),this.deferred.promise;throw new Error("LiteBox.open expected template or templateUrl, neither found. Use options or open method to specify them.")}close(e){var t=parseInt($("html").css("top"));$("html").removeClass("noscroll").css("top",""),$("html,body").scrollTop(-t).css("overflow",""),this._container.removeClass("visible").fadeOut(this.options.speed,function(){return $(this).remove()}),(()=>{this._open&&(this.$scope.$destroy(),this._onCloseComplete(e),this._open=!1)})()}_loadResolves(){var e,n=[],r=[];return this.options.template?e=s.when(this.options.template):this.options.templateUrl&&(e=t.get(this.options.templateUrl,{cache:a}).then(function(e){return e.data})),angular.forEach(this.options.resolve||[],function(e,t){r.push(t),n.push(angular.isString(e)?u.get(e):u.invoke(e))}),r.push("$template"),n.push(e),s.all(n).then(e=>{var n={};return angular.forEach(e,function(e,t){n[r[t]]=e}),n.liteBox=this,n})}_onCloseComplete(e){c.unbind("keyup"),this.deferred.resolve(e)}_onKeyUp(e){if(e.preventDefault(),e.stopPropagation(),27===e.keyCode)return this.close()}};return{liteBox:function(e){return new l(e)},messageBox:function(e,t,n){return this.liteBox({templateUrl:"app/templates/uikit.litebox.messagebox.pug",controller:"MessageBoxController",resolve:{model:function(){return{title:e,message:t,buttons:n}}}}).open()},multiLineWarningBox:function(e,t,n,r){return this.liteBox({templateUrl:"app/templates/uikit.litebox.multilinewarningbox.pug",controller:"MultiLineWarningBoxController",resolve:{model:function(){return{title:e,messages:t,question:n,buttons:r}}}}).open()},errorBox:function(e,t){return n.error(e,t),this.messageBox("Ошибка",e,[{text:"Закрыть",result:!1}])},warningBox:function(e,t){return n.error(e,t),this.messageBox("Внимание",e,[{text:"Закрыть",result:!1}])},confirmDelete:function(e){return this.messageBox("Удаление",e,[{text:"Отмена",result:!1},{text:"Удалить",cssClass:"bgred",result:!0}])}}}]}),angular.module("uikit.tabview",["app.templates"]).controller("TabViewController",["$scope",function(n){var t=n.tabs=[];return this.select=function(e){angular.forEach(n.tabs,function(e){e.active=!1}),e.active=!0},this.addTab=function(e){n.tabs.push(e),1!==t.length&&!e.active||this.select(e)},this.removeTab=function(e){var t=n.tabs.indexOf(e);e.active&&1<n.tabs.length&&this.select(n.tabs[t===n.tabs.length-1?t-1:t+1]),n.tabs.splice(t,1)}}]).directive("tabview",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{},controller:"TabViewController",templateUrl:"app/templates/uikit.tabview.pug",link:function(e,t,n){return e.vertical=!!angular.isDefined(n.vertical)&&e.$eval(n.vertical),e.type=angular.isDefined(n.type)?e.$parent.$eval(n.type):"tabs"}}}).directive("tab",["$parse",function(s){return{require:"^tabview",restrict:"EA",replace:!0,templateUrl:"app/templates/uikit.tabview.tab.pug",transclude:!0,scope:{heading:"@",onSelect:"&select"},controller:function(){},compile:function(e,t,a){return function(t,e,n,r){var i,o;return n.active?(i=s(n.active),o=i.assign,t.$parent.$watch(i,function(e){t.active=!!e})):o=i=angular.noop,t.$watch("active",function(e){if(o(t.$parent,e),e)return r.select(t),t.onSelect()}),t.disabled=!1,n.disabled&&t.$parent.$watch(s(n.disabled),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},r.addTab(t),t.$on("$destroy",function(){r.removeTab(t)}),t.active&&o(t.$parent,!0),t.$transcludeFn=a}}}}]).directive("tabHeadingTransclude",function(){return{restrict:"A",require:"^tab",link:function(e,t){return e.$watch("headingElement",function(e){if(e)return t.html(""),t.append(e)})}}}).directive("tabContentTransclude",[function(){var i=function(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase())};return{restrict:"A",require:"^tabview",link:function(e,t,n){var r=e.$eval(n.tabContentTransclude);return r.$transcludeFn(r.$parent,function(e){angular.forEach(e,function(e){i(e)?r.headingElement=e:t.append(e)})})}}}]),angular.module("uikit.timePicker",[]).constant("timePickerConfig",{format:"HH:mm",language:"ru",type:"moment"}).directive("timePicker",["timePickerConfig",function(s){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){var i=s.format,o=s.language,a=s.type;return r.$formatters.push(function(e){var t;if(r.$isEmpty(e))return null;if(angular.isString(e))return(t=moment(e,i,o)).isValid()?t.format(i,o):null;if(moment.isMoment(e))return e.format(i,o);throw new Error("Невозможно преобразовать тип данных")}),r.$parsers.push(function(e){if(r.$isEmpty(e))return r.$setValidity("time",!0),null;if((e=moment(e,i,o)).isValid()){if(r.$setValidity("time",!0),"moment"===a)return e;if("string"===a)return e.format(i,o);throw new Error("Невозможно преобразовать тип данных")}r.$setValidity("time",!1)}),r.$render=function(){return t.val(r.$viewValue)}}}}]),angular.module("uikit.treeview",["app.templates"]).directive("treeview",function(){return{restrict:"E",transclude:!0,replace:!0,scope:{selected:"=?ngModel",nodes:"=?"},controller:function(){},templateUrl:"app/templates/uikit.treeview.pug",compile:function(e,t,r){return function(t,e,n){n.$observe("allowRowSelect",function(e){return t.allowRowSelect=new Boolean(e).valueOf()}),n.$observe("allowRowHover",function(e){return t.allowRowHover=new Boolean(e).valueOf()}),t._parentScope=t.$parent,t._transcludeFn=r,t.select=function(e){t.allowRowSelect&&(t.selected=e)},t.isSelected=function(e){return e===t.selected}}}}}).directive("transcludeNode",function(){return{restrict:"A",require:"^treeview",scope:!1,link:function(e,t,n){var r=e._parentScope.$new();return r.node=e.$eval(n.transcludeNode),e._transcludeFn(r,function(e){return t.append(e)})}}}).factory("TreeNode",function(){var r;return class r{constructor(e){angular.isObject(e)&&angular.extend(this,e),this.depth=0,this.parent=null,this.children=[],this.collapse()}expand(){this._expanded=!0}collapse(){this._expanded=!1}toggle(){this.isExpanded()?this.collapse():this.expand()}isCollapsed(){return!this._expanded}isExpanded(){return this._expanded}hasChildren(){return 0<this.children.length}appendChild(e){return e.parent=this,e.depth=this.depth+1,this.children.push(e),this}removeChild(e){var t,n;if("number"==typeof e){if(!((n=this.children[t=e])instanceof r))return}else{if(!(e instanceof r))throw new Error("Invalid argument "+e);if(-1===(t=this.children.indexOf(n=e)))return}this.children.splice(t,1).shift(),n.parent=null,n.depth=0}remove(){this.parent&&this.parent.removeChild(this)}root(){return this.isRoot()?this:this.parent.root()}isRoot(){return null===this.parent}}}),angular.module("uikit",["uikit.dropList","uikit.dropMenu","uikit.liteBox","uikit.datePicker","uikit.timePicker","uikit.tabview","uikit.treeview"]);