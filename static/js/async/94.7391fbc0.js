"use strict";(self.webpackChunk_diary_spo_web=self.webpackChunk_diary_spo_web||[]).push([["94"],{3220:function(e,t,r){r.d(t,{F:function(){return n}});var n=(0,r(7052).De)("Icon28BookSpreadOutline","book_spread_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 28 28" id="book_spread_outline_28"><path fill-rule="evenodd" d="M14 5.999C11.61 4.546 9.153 3.96 5.877 4.007l-.154.002c-.777.01-1.473.018-2.111.351a3.1 3.1 0 0 0-1.29 1.309c-.186.367-.259.74-.292 1.12C2 7.14 2 7.563 2 8.042V18.5c0 .573 0 1.058.03 1.451.03.406.098.816.292 1.2a2.87 2.87 0 0 0 1.291 1.31c.393.204.831.274 1.259.308.426.035.962.042 1.61.05l.035.001c2.86.038 4.887.65 6.928 2.01a1 1 0 0 0 1.11 0c2.041-1.36 4.068-1.972 6.928-2.01h.035c.648-.009 1.184-.016 1.61-.05.428-.035.866-.105 1.259-.31.584-.304.994-.72 1.291-1.309.194-.384.262-.794.292-1.2.03-.393.03-.878.03-1.45V8.041c0-.48 0-.9-.03-1.253-.033-.38-.106-.753-.291-1.12a3.1 3.1 0 0 0-1.29-1.309c-.639-.333-1.335-.342-2.112-.351l-.154-.002c-3.275-.046-5.733.54-8.123 1.993m-1 1.733c-2.033-1.247-4.117-1.768-7.095-1.726-1.021.015-1.204.042-1.368.127a1.1 1.1 0 0 0-.43.436c-.029.057-.063.153-.084.392-.022.256-.023.59-.023 1.12v10.383c0 .62 0 1.029.024 1.338.023.304.063.409.083.45a.88.88 0 0 0 .43.436c.03.015.142.06.498.09.349.028.817.034 1.509.044 2.513.033 4.54.475 6.456 1.437zm2 14.527c1.916-.962 3.943-1.404 6.456-1.438.692-.009 1.16-.015 1.51-.044.355-.029.467-.074.496-.09a.88.88 0 0 0 .43-.436c.021-.04.061-.145.084-.45.023-.308.024-.717.024-1.337V8.08c0-.529 0-.863-.023-1.119-.02-.239-.055-.335-.084-.392a1.1 1.1 0 0 0-.43-.436c-.164-.085-.347-.112-1.368-.127-2.978-.042-5.062.48-7.095 1.726z" clip-rule="evenodd" /></symbol>',28,28,!1,void 0)},5147:function(e,t,r){r.d(t,{y:function(){return n}});var n=(0,r(7052).De)("Icon28ErrorCircleOutline","error_circle_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="error_circle_outline_28"><path fill="currentColor" d="M14 2c6.627 0 12 5.373 12 12s-5.373 12-12 12S2 20.627 2 14 7.373 2 14 2m0 2C8.477 4 4 8.477 4 14s4.477 10 10 10 10-4.477 10-10S19.523 4 14 4m0 13.6a1.4 1.4 0 1 1 0 2.8 1.4 1.4 0 0 1 0-2.8m.074-9.6c.237 0 .386.037.517.107q.196.106.302.302c.07.13.107.28.107.517v6.148c0 .237-.037.386-.107.517a.73.73 0 0 1-.302.302c-.13.07-.28.107-.517.107h-.148c-.237 0-.386-.037-.517-.107a.73.73 0 0 1-.302-.302c-.07-.13-.107-.28-.107-.517V8.926c0-.237.037-.386.107-.517a.73.73 0 0 1 .302-.302c.13-.07.28-.107.517-.107z" /></symbol>',28,28,!1,void 0)},3717:function(e,t,r){r.d(t,{l:function(){return n}});var n=(0,r(7052).De)("Icon28GraphOutline","graph_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 28 28" id="graph_outline_28"><path d="M6 16a1 1 0 0 1 1 1v6a1 1 0 1 1-2 0v-6a1 1 0 0 1 1-1m5-12a1 1 0 0 1 1 1v18a1 1 0 1 1-2 0V5a1 1 0 0 1 1-1m5 8a1 1 0 0 1 1 1v10a1 1 0 1 1-2 0V13a1 1 0 0 1 1-1m5-4a1 1 0 0 1 1 1v14a1 1 0 1 1-2 0V9a1 1 0 0 1 1-1" /></symbol>',28,28,!1,void 0)},9223:function(e,t,r){r.d(t,{r:function(){return n}});var n=(0,r(7052).De)("Icon28HomeOutline","home_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 28 28" id="home_outline_28"><path d="m24 11.15-8.9-8.5c-.6-.6-1.6-.6-2.3 0l-8.9 8.5c-.6.6-.9 1.4-.9 2.2v8.6c0 1.4 1.1 2.5 2.5 2.5h6c.6 0 1-.4 1-1v-7h3v7c0 .6.4 1 1 1h6c1.4 0 2.5-1.1 2.5-2.5v-8.6c0-.8-.4-1.6-1-2.2m-1 10.8c0 .3-.2.5-.5.5h-5v-7c0-.6-.4-1-1-1h-5c-.6 0-1 .4-1 1v7h-5c-.3 0-.5-.2-.5-.5v-8.6c0-.3.1-.5.3-.7l8.7-8.3 8.7 8.3c.2.2.3.5.3.7z" /></symbol>',28,28,!1,void 0)},9477:function(e,t,r){r.d(t,{R:function(){return n}});var n=(0,r(7052).De)("Icon28SettingsOutline","settings_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="settings_outline_28"><g fill="none" fill-rule="nonzero"><path d="M0 0h28v28H0z" /><path fill="currentColor" d="M15.148 2.04c.428.07.832.233 1.195.523.595.476.878 1.076 1.097 1.952.056.224.153.486.275.74q.417.176.815.393c.262-.065.513-.15.714-.244 1.412-.658 2.597-.623 3.567.423.082.089.131.148.238.28l.629.776c.17.21.241.305.348.482.692 1.152.422 2.224-.452 3.386a4 4 0 0 0-.417.71q.117.425.195.86c.222.178.46.334.668.441.804.41 1.325.821 1.655 1.508.202.42.27.85.24 1.282a3.5 3.5 0 0 1-.106.64l-.225.975c-.065.285-.099.41-.185.622a2.5 2.5 0 0 1-.778 1.047c-.598.473-1.246.614-2.148.63-.229.004-.502.04-.773.1q-.265.365-.563.704c.003.275.03.544.077.764.187.884.196 1.547-.13 2.236-.2.42-.491.744-.845.993a3.5 3.5 0 0 1-.565.32l-.899.44a3.5 3.5 0 0 1-.6.247c-.414.126-.85.156-1.303.054-.744-.167-1.261-.582-1.842-1.273a4 4 0 0 0-.591-.561 10 10 0 0 1-.878 0c-.228.18-.437.378-.591.56-.58.692-1.098 1.107-1.842 1.274a2.5 2.5 0 0 1-1.303-.054 3.5 3.5 0 0 1-.6-.248l-.899-.438-.185-.093c-1.312-.683-1.696-1.847-1.355-3.457.047-.22.074-.49.077-.764a10 10 0 0 1-.563-.705 4 4 0 0 0-.773-.099c-.902-.016-1.55-.157-2.148-.63a2.5 2.5 0 0 1-.778-1.047 3.5 3.5 0 0 1-.185-.622l-.225-.974a3.4 3.4 0 0 1-.109-.681 2.5 2.5 0 0 1 .296-1.346c.339-.629.84-1.015 1.602-1.404a4 4 0 0 0 .668-.441q.078-.435.195-.86a4 4 0 0 0-.417-.71c-.874-1.162-1.144-2.234-.452-3.386.107-.177.179-.273.348-.482l.63-.777c.106-.131.155-.19.237-.279.97-1.046 2.155-1.08 3.567-.423.201.093.452.18.714.244q.398-.216.815-.394c.122-.253.219-.515.275-.74.219-.875.502-1.475 1.097-1.95.363-.291.767-.455 1.195-.523.18-.03.3-.038.49-.04L14.5 2c.292 0 .422.005.648.04M14.586 4H13.5c-.5 0-.75 0-1 1a6.4 6.4 0 0 1-.836 1.87 7.5 7.5 0 0 0-1.8.872 6.4 6.4 0 0 1-1.952-.525c-.934-.435-1.092-.24-1.406.148l-.63.777c-.314.389-.472.583.148 1.406.35.464.721 1.15.937 1.857a7.5 7.5 0 0 0-.429 1.894 6.4 6.4 0 0 1-1.643 1.245c-.918.468-.862.712-.75 1.199l.225.974c.113.487.169.731 1.2.75.57.01 1.323.135 2.003.39.345.575.765 1.1 1.247 1.56a6.4 6.4 0 0 1-.072 2.032c-.213 1.008.011 1.118.46 1.337l.9.439c.449.219.674.328 1.337-.46a6.3 6.3 0 0 1 1.59-1.327 7.6 7.6 0 0 0 1.942 0 6.3 6.3 0 0 1 1.59 1.326c.663.79.888.68 1.337.46l.9-.438c.449-.219.673-.329.46-1.337a6.4 6.4 0 0 1-.072-2.031 7.5 7.5 0 0 0 1.247-1.56 6.4 6.4 0 0 1 2.003-.391c1.031-.019 1.087-.263 1.2-.75l.225-.974c.112-.487.168-.73-.75-1.2a6.4 6.4 0 0 1-1.643-1.244 7.5 7.5 0 0 0-.43-1.894 6.3 6.3 0 0 1 .938-1.857c.62-.823.462-1.017.148-1.406l-.63-.777c-.314-.389-.472-.583-1.406-.148a6.4 6.4 0 0 1-1.952.525 7.5 7.5 0 0 0-1.8-.871A6.4 6.4 0 0 1 15.5 5c-.235-.941-.47-.997-.914-1M14 9.5a4.5 4.5 0 1 1 0 9 4.5 4.5 0 0 1 0-9m0 2a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5" /></g></symbol>',28,28,!1,void 0)},9344:function(e,t,r){r.d(t,{GR:function(){return a},H8:function(){return o},Kl:function(){return s},a9:function(){return l},kO:function(){return i},py:function(){return c},sW:function(){return n}});let n={Lesson:"Ответ на занятии",Control:"Контрольная работа",Independent:"Самостоятельная работа",Laboratory:"Лабораторная работа",Slice:"Срезовая работа",Home:"Домашнее задание",Test:"Тест",Review:"Реферат",Report:"Доклад",Colloquium:"Коллоквиум",SportStandarts:"Сдача спортивных нармативов",PracticalWork:"Практическая работа","":"Не указано"},a={Five:5,Four:4,Three:3,Two:2,Success:"Зч","":"Д"},s={Lecture:"Лекция",Lesson:"Урок",PracticalWork:"Практ. работа",PracticalTraining:"Практ. занятие",Seminar:"Семинар",Practice:"Практика",Laboratory:"Лаб. занятие",Self:"Сам. работа",Consultation:"Консультация",Excursion:"Экскурсия",Examination:"Контр. работа",Composition:"Сочинение",BusinessGame:"Деловая игра",SportStandarts:"Сдача спорт. нормативов","":"Не указан"},l={IsAbsent:"Н",IsLate:"О",IsAbsentByNotValidReason:"НП",SickLeave:"Б",IsAbsentByValidReason:"УП"},i={IsAbsent:"red",IsLate:"yellow",IsAbsentByNotValidReason:"red",SickLeave:"blue",IsAbsentByValidReason:"blue"},o={Н:"Отсутствие",О:"Опоздание",НП:"Неуважительное причина",УП:"Уважительная причина",Б:"Пропуск по болезни"},c={DifferentiatedTest:"Дифф. зачёт",Test:"Зачёт",Exam:"Экзамен",Other:"Др. форма контроля"}},8382:function(e,t,r){r.r(t),r.d(t,{default:()=>q});var n=r("2322"),a=r("9223"),s=r("3717"),l=r("3220"),i=r("9477"),o=r("7623"),c=r("7694"),d=r("387"),u=r("2784"),h=r("1029"),f=r("8143"),p=r("5905"),m=r("9344"),v=r("490"),b=r("3292");let x=e=>{let{task:t,index:r}=e;return(0,n.jsxs)(u.Fragment,{children:[(0,n.jsx)(d.qXk,{multiline:!0,after:(0,n.jsx)(v.vc,{mark:(0,b.pX)(t),size:"s"}),children:(0,n.jsx)(d.q$7,{header:"Тип работы",children:m.sW[t.type]})}),(0,n.jsxs)(d.qXk,{multiline:!0,children:[(0,n.jsx)(d.q$7,{style:{marginTop:10},header:"Тема",children:(0,n.jsx)(d.xvT,{children:null==t?void 0:t.topic})}),(null==t?void 0:t.condition)&&(0,n.jsx)(d.q$7,{style:{marginTop:10},header:"Описание",children:(0,n.jsx)(d.xvT,{children:null==t?void 0:t.condition})})]}),(0,n.jsx)(d.Kig,{size:16,children:(0,n.jsx)(d.Z0O,{})})]},"".concat(null==t?void 0:t.topic,"_").concat(r))},y=e=>{let{tasks:t}=e;return(0,n.jsx)(n.Fragment,{children:null==t?void 0:t.map((e,t)=>(0,n.jsx)(x,{task:e,index:t},"".concat(e,"_").concat(t)))})},g=e=>{let{tasks:t,absenceType:r}=e,a=!!(null==t?void 0:t.length);if(!a&&!r)return;let s=(0,n.jsx)(d.h4i,{mode:"tertiary",children:(0,n.jsx)(v.P7,{text:"Успеваемость",tooltipContent:"Информация может быть неактуальной. При возникновении неточностей можете обратиться к нам"})}),l=(0,n.jsx)(v.vc,{mark:m.a9[r],size:"s"});return(0,n.jsxs)(d.ZAu,{header:s,children:[a&&(0,n.jsx)(y,{tasks:t}),r&&(0,n.jsx)(d.qXk,{after:l,children:m.H8[m.a9[r]]})]})},j=e=>{var t;let{lessonMainInfo:r}=e,a=(0,n.jsx)(d.h4i,{mode:"tertiary",children:(0,n.jsx)(v.P7,{text:"Основная информация",tooltipContent:"Вся информация берется из оригинального дневника и отображается здесь"})}),s=r.themes?r.themes.map(e=>(0,b.DP)(e)):"Не указана",l=null!==(t=r.lessonType&&m.Kl[r.lessonType])&&void 0!==t?t:"Не указан";return(0,n.jsxs)(d.ZAu,{header:a,children:[(0,n.jsx)(d.qXk,{multiline:!0,children:(0,n.jsx)(d.q$7,{header:"Предмет",children:r.name})}),(0,n.jsx)(d.qXk,{children:(0,n.jsx)(d.q$7,{header:"Тип занятия",children:l})}),(0,n.jsx)(d.qXk,{multiline:!0,children:(0,n.jsx)(d.q$7,{header:"Тема",children:s})}),(0,n.jsx)(d.qXk,{children:(0,n.jsx)(d.q$7,{header:"Преподаватель",children:r.teacherName})})]})},w=e=>{let{lessonTimePlaceInfo:t}=e,r=(0,u.useMemo)(()=>(0,n.jsx)(v.P7,{text:"Аудитория",tooltipContent:"Если аудитория не указана, возможно, пара будет удалённо"}),[]),a=(0,u.useMemo)(()=>(0,n.jsx)(v.P7,{text:"ДО",tooltipContent:"Пара будет удалённо или будет задано домашнее задание. Уточните у куратора или проверьте в оригинальном дневнике."}),[]),s=(0,u.useMemo)(()=>(0,n.jsx)(v.P7,{text:"Время",tooltipContent:"Если время не указано или некорректно, вы увидите текст с ошибкой"}),[]),l=(0,b.n$)(t.classroomName)?a:t.classroomName;return(0,n.jsxs)(d.ZAu,{header:(0,n.jsx)(d.h4i,{mode:"tertiary",children:"Куда бежать"}),children:[(0,n.jsx)(d.qXk,{children:(0,n.jsx)(d.q$7,{header:r,children:l})}),(0,n.jsx)(d.qXk,{children:(0,n.jsxs)(d.q$7,{header:s,children:[t.startTime," - ",t.endTime]})})]})},k={name:"",gradebook:{id:0,lessonType:"",tasks:[],themes:[]},timetable:{classroom:{building:"",id:0,name:""},teacher:{id:0,lastName:"",firstName:"",middleName:""}},startTime:"",endTime:""},T=e=>{let t=e;if(t.includes("/")){let[e,...r]=t.split("/");t="".concat(e," (").concat(r.join("/"),")").trim()}return t},_=e=>{var t,r,n,a,s,l,i;let{name:o,endTime:c,startTime:d,timetable:u,gradebook:h,tasks:f}=e,p=T(o);return{lessonData:{name:p,gradebook:{absenceType:null==h?void 0:h.absenceType,id:(null==h?void 0:h.id)||0,lessonType:null==h?void 0:h.lessonType,tasks:f,themes:null==h?void 0:h.themes},timetable:{classroom:{id:0,building:"",name:(null==u?void 0:null===(t=u.classroom)||void 0===t?void 0:t.name)||"Нет кабинета"},teacher:{id:(null==u?void 0:null===(r=u.teacher)||void 0===r?void 0:r.id)||0,lastName:(null==u?void 0:null===(n=u.teacher)||void 0===n?void 0:n.lastName)||"",firstName:(null==u?void 0:null===(a=u.teacher)||void 0===a?void 0:a.firstName)||"",middleName:(null==u?void 0:null===(s=u.teacher)||void 0===s?void 0:s.middleName)||""}},startTime:d||"Что-то не так с датой",endTime:c||"Что-то не так с датой"},lessonMainInfo:{name:p,lessonType:null==h?void 0:h.lessonType,themes:null==h?void 0:h.themes,teacherName:(null==u?void 0:null===(l=u.teacher)||void 0===l?void 0:l.firstName)?"".concat(u.teacher.lastName," ").concat(u.teacher.firstName," ").concat(u.teacher.middleName):"Не указан"},lessonTimePlaceInfo:{startTime:d||"Ошибка",endTime:c||"Ошибка",classroomName:(null==u?void 0:null===(i=u.classroom)||void 0===i?void 0:i.name)||"Нет кабинета"}}},S=e=>{var t,r;let{id:a}=e,{modal:s}=(0,p.H)(),[l,i]=(0,u.useState)(k),[o,c]=(0,u.useState)({}),[h,f]=(0,u.useState)({});return(0,u.useEffect)(()=>{if(!s)return;let{lessonData:e,lessonMainInfo:t,lessonTimePlaceInfo:r}=_(s);i(e),c(t),f(r)},[s]),(0,n.jsxs)(d.P29,{id:a,size:500,dynamicContentHeight:!0,children:[(0,n.jsx)(d.W06,{children:"Подробнее о паре"}),(0,n.jsx)(j,{lessonMainInfo:o}),(0,n.jsx)(w,{lessonTimePlaceInfo:h}),(0,n.jsx)(g,{tasks:null===(t=l.gradebook)||void 0===t?void 0:t.tasks,absenceType:null===(r=l.gradebook)||void 0===r?void 0:r.absenceType})]})},A=e=>{var t,r;let{id:a}=e,{modalData:s}=(0,p.M)(),l=(0,b.pX)(s.data);return(0,n.jsxs)(d.P29,{id:a,size:500,dynamicContentHeight:!0,children:[(0,n.jsx)(d.W06,{children:"Подробнее об оценке"}),(0,n.jsxs)(d.ZAu,{children:[(0,n.jsx)(d.qXk,{multiline:!0,children:(0,n.jsx)(d.q$7,{header:"Предмет",children:s.lessonName})}),(0,n.jsx)(d.qXk,{multiline:!0,children:(0,n.jsx)(d.q$7,{header:"Тема",children:s.data.topic})}),(0,n.jsx)(d.qXk,{multiline:!0,after:(0,n.jsx)(b.vc,{size:"s",mark:l}),children:(0,n.jsx)(d.q$7,{header:"Тип оценки",children:"Р"===l?"Оценка не выставлена":null!==(r=null!==(t=m.sW[s.data.type])&&void 0!==t?t:s.data.isRequired&&!s.data.mark&&"Долг")&&void 0!==r?r:"Неизвестен"})})]})]})},N=()=>{let e=(0,c.fB)(),{modal:t}=(0,c.g5)();return(0,n.jsxs)(d.Y0X,{activeModal:t,onClose:()=>e.hideModal(),children:[(0,n.jsx)(S,{id:f.gI}),(0,n.jsx)(A,{id:f.HA})]})},C=(0,u.lazy)(()=>r.e("431").then(r.bind(r,5753))),q=()=>{let e=(0,c.fB)(),{panel:t}=(0,c.g5)(),{viewWidth:r}=(0,d.m4R)(),u=(0,d.FeL)(),f=(0,c.z$)(),p=(0,o.Z1)()||void 0,m=u===d.t4T.VKCOM,v=localStorage.getItem("token"),b=async t=>{if(v)try{await e.push("/".concat(t));return}catch(e){console.error(e)}await e.replace("/")},x=(0,n.jsx)(N,{});return(0,n.jsx)(d.h7R,{safeAreaInsets:p,children:(0,n.jsxs)(d.KH4,{popout:f,modal:x,header:!m&&(0,n.jsx)(d.V9q,{delimiter:"none"}),style:{justifyContent:"center"},children:[r.tabletPlus&&t!==h.RH&&(0,n.jsx)(d.qZh,{className:r.tabletPlus.className,fixed:!0,width:280,maxWidth:280,children:(0,n.jsxs)(d.s_4,{children:[!m&&(0,n.jsx)(d.V9q,{}),(0,n.jsxs)(d.ZAu,{children:[(0,n.jsx)(d.bLd,{onClick:()=>b(h.nZ),hovered:t===h.nZ,before:(0,n.jsx)(a.r,{}),children:"Главная"}),(0,n.jsx)(d.bLd,{onClick:()=>b(h.yv),hovered:t===h.yv,before:(0,n.jsx)(s.l,{}),children:"Успеваемость"}),(0,n.jsx)(d.bLd,{onClick:()=>b(h.OR),hovered:t===h.OR,before:(0,n.jsx)(l.F,{}),children:"Объявления"}),(0,n.jsx)(d.bLd,{onClick:()=>b(h.cJ),hovered:t===h.cJ,before:(0,n.jsx)(i.R,{}),children:"Настройки"})]})]})}),(0,n.jsx)(d.qZh,{width:"100%",maxWidth:"700px",stretchedOnMobile:!0,autoSpaced:!0,children:(0,n.jsx)(C,{onStoryChange:b})})]})})}},2861:function(e,t,r){r.d(t,{Lp:()=>A,LP:()=>S,o4:()=>_});var n=class extends Error{constructor(e,t){super(t+""),this.status=e,this.value=t}},a=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,s=/(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s\d{2}\s\d{4}\s\d{2}:\d{2}:\d{2}\sGMT(?:\+|-)\d{4}\s\([^)]+\)/,l=/^(?:(?:(?:(?:0?[1-9]|[12][0-9]|3[01])[/\s-](?:0?[1-9]|1[0-2])[/\s-](?:19|20)\d{2})|(?:(?:19|20)\d{2}[/\s-](?:0?[1-9]|1[0-2])[/\s-](?:0?[1-9]|[12][0-9]|3[01]))))(?:\s(?:1[012]|0?[1-9]):[0-5][0-9](?::[0-5][0-9])?(?:\s[AP]M)?)?$/,i=e=>0!==e.trim().length&&!Number.isNaN(Number(e)),o=e=>{if("string"!=typeof e)return null;let t=e.replace(/"/g,"");if(a.test(t)||s.test(t)||l.test(t)){let e=new Date(t);if(!Number.isNaN(e.getTime()))return e}return null},c=e=>{let t=e.charCodeAt(0),r=e.charCodeAt(e.length-1);return 123===t&&125===r||91===t&&93===r},d=e=>JSON.parse(e,(e,t)=>o(t)||t),u=e=>{if(!e)return e;if(i(e))return+e;if("true"===e)return!0;if("false"===e)return!1;let t=o(e);if(t)return t;if(c(e))try{return d(e)}catch{}return e},h=e=>{let t=e.data.toString();return"null"===t?null:u(t)},f=class{constructor(e){this.url=e,this.ws=new WebSocket(e)}ws;send(e){return Array.isArray(e)?e.forEach(e=>this.send(e)):this.ws.send("object"==typeof e?JSON.stringify(e):e.toString()),this}on(e,t,r){return this.addEventListener(e,t,r)}off(e,t,r){return this.ws.removeEventListener(e,t,r),this}subscribe(e,t){return this.addEventListener("message",e,t)}addEventListener(e,t,r){return this.ws.addEventListener(e,r=>{if("message"===e){let e=h(r);t({...r,data:e})}else t(r)},r),this}removeEventListener(e,t,r){return this.off(e,t,r),this}close(){return this.ws.close(),this}},p=["get","post","put","delete","patch","options","head","connect","subscribe"],m=["localhost","127.0.0.1","0.0.0.0"],v=typeof FileList>"u",b=e=>v?e instanceof Blob:e instanceof FileList||e instanceof File,x=e=>{if(!e)return!1;for(let t in e)if(b(e[t])||Array.isArray(e[t])&&e[t].find(b))return!0;return!1},y=e=>v?e:new Promise(t=>{let r=new FileReader;r.onload=()=>{t(new File([r.result],e.name,{lastModified:e.lastModified,type:e.type}))},r.readAsArrayBuffer(e)}),g=(e,t,r={},n={})=>{if(Array.isArray(e)){for(let a of e)if(Array.isArray(a)){let e=a[0];if("string"==typeof e)n[e.toLowerCase()]=a[1];else for(let[t,r]of e)n[t.toLowerCase()]=r}else n=g(a,t,r,n);return n}if(!e)return n;switch(typeof e){case"function":if(e instanceof Headers)return g(e,t,r,n);let a=e(t,r);return a?g(a,t,r,n):n;case"object":if(e instanceof Headers)return e.forEach((e,t)=>{n[t.toLowerCase()]=e}),n;for(let[t,r]of Object.entries(e))n[t.toLowerCase()]=r;return n;default:return n}};async function*j(e){let t=e.body;if(!t)return;let r=t.getReader(),n=new TextDecoder;try{for(;;){let{done:e,value:t}=await r.read();if(e)break;let a=n.decode(t);yield u(a)}}finally{r.releaseLock()}}var w=(e,t,r=[],a)=>new Proxy(()=>{},{get:(n,s)=>w(e,t,"index"===s?r:[...r,s],a),apply(s,l,[i,o]){if(!i||o||"object"==typeof i&&1!==Object.keys(i).length||p.includes(r.at(-1))){let s=[...r],l=s.pop(),c="/"+s.join("/"),{fetcher:d=fetch,headers:h,onRequest:p,onResponse:b,fetch:w}=t,k="get"===l||"head"===l||"subscribe"===l;h=g(h,c,o);let T=k?i?.query:o?.query,_="";if(T){let e=(e,t)=>{_+=(_?"&":"?")+`${encodeURIComponent(e)}=${encodeURIComponent(t)}`};for(let[t,r]of Object.entries(T)){if(Array.isArray(r)){for(let n of r)e(t,n);continue}if("object"==typeof r){e(t,JSON.stringify(r));continue}e(t,`${r}`)}}return"subscribe"===l?new f(e.replace(/^([^]+):\/\//,e.startsWith("https://")?"wss://":e.startsWith("http://")||m.find(t=>e.includes(t))?"ws://":"wss://")+c+_):(async()=>{let t={method:l?.toUpperCase(),body:i,...w,headers:h};t.headers={...h,...g(k?i?.headers:o?.headers,c,t)};let r=k&&"object"==typeof i?i.fetch:o?.fetch;if(t={...t,...r},k&&delete t.body,p)for(let e of(Array.isArray(p)||(p=[p]),p)){let r=await e(c,t);"object"==typeof r&&(t={...t,...r,headers:{...t.headers,...g(r.headers,c,t)}})}if(k&&delete t.body,x(i)){let e=new FormData;for(let[r,n]of Object.entries(t.body)){if(v){e.append(r,n);continue}if(n instanceof File){e.append(r,await y(n));continue}if(n instanceof FileList){for(let t=0;t<n.length;t++)e.append(r,await y(n[t]));continue}if(Array.isArray(n)){for(let t=0;t<n.length;t++){let a=n[t];e.append(r,a instanceof File?await y(a):a)}continue}e.append(r,n)}t.body=e}else"object"==typeof i?(t.headers["content-type"]="application/json",t.body=JSON.stringify(i)):null!=i&&(t.headers["content-type"]="text/plain");if(k&&delete t.body,p)for(let e of(Array.isArray(p)||(p=[p]),p)){let r=await e(c,t);"object"==typeof r&&(t={...t,...r,headers:{...t.headers,...g(r.headers,c,t)}})}let s=e+c+_,f=await (a?.handle(new Request(s,t))??d(s,t)),m=null,T=null;if(b)for(let e of(Array.isArray(b)||(b=[b]),b))try{let t=await e(f.clone());if(null!=t){m=t;break}}catch(e){T=e instanceof n?e:new n(422,e);break}if(null!==m)return{data:m,error:T,response:f,status:f.status,headers:f.headers};switch(f.headers.get("Content-Type")?.split(";")[0]){case"text/event-stream":m=j(f);break;case"application/json":m=await f.json();break;case"application/octet-stream":m=await f.arrayBuffer();break;case"multipart/form-data":let S=await f.formData();m={},S.forEach((e,t)=>{m[t]=e});break;default:m=await f.text().then(u)}return(f.status>=300||f.status<200)&&(T=new n(f.status,m),m=null),{data:m,error:T,response:f,status:f.status,headers:f.headers}})()}return"object"==typeof i?w(e,t,[...r,Object.values(i)[0]],a):w(e,t,r)}}),k=r("8143");let T=null,_=e=>{T=e},S=()=>T,A=((e,t={})=>"string"==typeof e?(t.keepDomain||(e.includes("://")||(e=(m.find(t=>e.includes(t))?"http://":"https://")+e),e.endsWith("/")&&(e=e.slice(0,-1))),w(e,t)):("u">typeof window&&console.warn("Elysia instance server found on client side, this is not recommended for security reason. Use generic type instead."),w("http://e.ly",t,[],e)))(k.T5,{onRequest:(e,t)=>{let r=new Headers;r.append("secret",localStorage.getItem("token")||T||""),r.append("Content-type","application/json"),t.headers=r}})},831:function(e,t,r){r.d(t,{BG:()=>u,r:()=>o,Ql:()=>l,SV:()=>d,bW:()=>a,Xd:()=>c,XY:()=>i});var n=r("2861");let a=async()=>n.Lp.ads.get(),s=e=>{let t=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0");return"".concat(t,"-").concat(r,"-").concat(n)},l=async(e,t)=>{let r=s(e),a=s(t);return n.Lp.lessons({startDate:r})({endDate:a}).get()},i=async()=>n.Lp.finalMarks.get(),o=async()=>n.Lp.performanceCurrent.get(),c=async()=>n.Lp.attestation.get(),d=async(e,t,r)=>n.Lp.auth.login.post({login:e,password:t,isHash:r}),u=async()=>n.Lp.auth.logout.get()},8143:function(e,t,r){r.d(t,{ud:()=>c,hM:()=>o,Ft:()=>f,Dv:()=>a,Rl:()=>l,DU:()=>u,zK:()=>s,h7:()=>n,pF:()=>h,ZA:()=>i,TQ:()=>x,gI:()=>p,T5:()=>b,wB:()=>v,Ej:()=>d,HA:()=>m});let n="var(--vkui--color_icon_negative)",a="var(--vkui--color_background_negative)",s="var(--vkui--color_background_accent)",l="var(--vkui--color_accent_violet)",i="linear-gradient(to right, #56ab2f, #a8e063)",o="linear-gradient(to right, #ff416c, #ff4b2b)",c="linear-gradient(to right, #e56d1f, #f5af19)",d="linear-gradient(to right, #62cff4, #2c67f2)",u="linear-gradient(to right, rgb(73, 102, 207), rgb(154 80 255))",h="#959595",f=3e4,p="lesson",m="mark",v="3.0.0",b="https://api.diary.zmln.ru/",x=false},3292:function(e,t,r){r.d(t,{yy:()=>y,ni:()=>u,pX:()=>p,dC:()=>g,DP:()=>v,aS:()=>b,t1:()=>j,kd:()=>w.kd,Xp:()=>h,_y:()=>c,k0:()=>i,_x:()=>w._x,vc:()=>w.vc,Q9:()=>w.Q9,n$:()=>x});var n=r("2322"),a=r("5147"),s=r("8143");let l={UNAUTHORIZED:401,RATE_LIMIT:429,TEAPOT:520},i=e=>!e||"object"!=typeof e||"error"in e&&null!==e.error,o=(0,n.jsx)(a.y,{fill:s.h7}),c=function(e,t,r,n,a){let s=!(arguments.length>5)||void 0===arguments[5]||arguments[5],c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(!e&&(null==a||a({before:o,title:"Ошибка при попытке сделать запрос",subtitle:"Сообщите нам о проблеме"})),!i(e))return null==n||n(!1),e;switch(console.log("%c[handleResponse]","color: violet",e.status),e.status){case l.RATE_LIMIT:null==r||r();break;case l.UNAUTHORIZED:if(c){null==t||t();break}localStorage.clear(),null==a||a({before:o,title:"Ошибка при попытке сделать запрос",subtitle:"Перезайдите в аккаунт"});break;case l.TEAPOT:s&&(null==t||t()),null==a||a({before:o,title:"Ошибка при попытке сделать запрос",subtitle:"Сообщите нам о проблеме"});break;default:null==t||t()}null==n||n(!1)};var d=r("831");let u=async()=>{await (0,d.BG)(),localStorage.clear()},h=e=>{let t=[];for(let r of e.daysWithMarksForSubject){let{subjectName:e,daysWithMarks:n}=r;for(let r of(t.push({subjectName:e,data:[]}),Object.values(n)))t.find(t=>t.subjectName===e).data.push({date:new Date(r.day).toLocaleDateString("ru-RU"),marks:r.markValues,absenceType:r.absenceType})}return t};var f=r("9344");let p=e=>e.isRequired&&!e.mark?"Д":"Home"!==e.type||e.mark?e.isRequired||e.mark?f.GR[e.mark]:"Р":"ДЗ";var m=r("387");let v=e=>{let t=/(https?:\/\/\S+)/g;return e.split(t).map((e,r)=>e.match(t)?(0,n.jsx)(m.rUS,{href:e,target:"_blank",children:e},r):e)},b=(e,t)=>e.length>t&&0!==t?"".concat(e.substring(0,t),"..."):e,x=e=>(null==e?void 0:e.toLowerCase())==="д"||(null==e?void 0:e.toLowerCase())==="до"||0===Number.parseInt(e),y=e=>{let t=localStorage.getItem(e);return!t||Date.now()-Number(t)>s.Ft},g=e=>t=>{let{shouldShowSpinner:r,fallback:a,...s}=t;return r?(0,n.jsx)(n.Fragment,{children:a||(0,n.jsx)(m.f70,{})}):(0,n.jsx)(e,{...s})},j=(e,t)=>{if(null==t?void 0:t.shouldThrow)throw Error(null!=e?e:"Unreachable");console.error("[Unreachable]",null!=e?e:"No message")};var w=r("490")},490:function(e,t,r){r.d(t,{Q9:()=>m,kd:()=>y,_x:()=>g,P7:()=>l,vc:()=>h});var n=r("2322"),a=(0,r("7052").De)("Icon16HelpOutline","help_outline_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="help_outline_16"><path fill="currentColor" d="M7.972 9.598c.376 0 .583-.21.662-.572.07-.454.228-.686.932-1.102.747-.449 1.134-1.005 1.134-1.82 0-1.26-1.012-2.102-2.516-2.102-1.139 0-1.986.46-2.325 1.172-.106.206-.159.41-.159.643 0 .41.26.675.678.675.323 0 .561-.15.694-.497.17-.48.519-.74 1.038-.74.583 0 .985.368.985.897 0 .497-.206.767-.89 1.183-.625.373-.948.794-.948 1.432v.075c0 .443.265.756.715.756M8 2.5a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11M1 8a7 7 0 1 1 14 0A7 7 0 0 1 1 8m7.9 3.1a.9.9 0 0 1-.9.9.9.9 0 0 1-.9-.9.9.9 0 0 1 .9-.9.9.9 0 0 1 .9.9" /></symbol>',16,16,!1,void 0),s=r("387");let l=e=>{let{text:t,tooltipContent:r}=e,l=(0,n.jsx)(s.vFK,{className:"explanationTooltipText",Component:"h5",children:r});return(0,n.jsxs)("div",{className:"explanationTooltipWrapper",children:[t,(0,n.jsx)(s.J2e,{trigger:["click","hover"],className:"explanationTooltipPopover",content:l,children:(0,n.jsx)(a,{className:"iconHelp"})})]})};var i=r("8143");let o={l:"15px 30px",s:"5px 10px"},c={l:"3rem",s:"1rem"},d={l:"10px",s:"5px"},u=e=>{let t=Number(e);if(Number.isNaN(t))switch(e){case"Зч":case"Р":case"ДЗ":return i.DU;case"О":return i.ud;case"Н":case"Д":case"НП":return i.hM;case"Б":case"УП":return i.Ej;default:return i.pF}return t>5?i.DU:t>=4?i.ZA:t>=3?i.ud:i.hM},h=e=>{let{mark:t,size:r="l",bottom:a,color:l,...i}=e,h={padding:o[r],background:null!=l?l:u(t),fontSize:c[r],borderRadius:d[r]},f=a&&(0,n.jsx)(s.wFM,{style:{padding:3},children:a});return(0,n.jsxs)("div",{...i,children:[(0,n.jsx)("div",{className:"markRoot",style:h,children:t}),f]})};var f=r("7694"),p=r("1029");let m=e=>{let{title:t}=e,r=(0,f.fB)(),{panel:a}=(0,f.g5)(),l=a===p.RH;return(0,n.jsxs)(s.V9q,{before:!l&&(0,n.jsx)(s.bsn,{onClick:()=>r.back()}),children:[t," ",i.TQ&&"[Beta ".concat(i.wB,"]")]})},v={red:{background:i.hM,border:"1px solid red",color:"white"},green:{background:i.ZA,border:"1px solid green",color:"white"},"green-outline":{color:"green",borderRadius:"5px",border:"1px solid green"},"yellow-outline":{borderRadius:"5px",border:"1px solid #ffb060",color:"#ffb060"},"red-outline":{borderRadius:"5px",border:"1px solid #DA0A35",color:"#DA0A35"},yellow:{background:i.ud,borderRadius:"5px",border:"1px solid #ffb060",color:"white"},blue:{background:i.Ej,borderRadius:"5px",border:"1px solid #2c67f2",color:"white"}},b={background:"transparent",border:"1px solid var(--vkui--color_background_accent_themed)",color:"var(--vkui--color_background_accent_themed)"},x=e=>{var t;return{display:"inline-block",borderRadius:"5px",padding:"3px 5px",...null!==(t=v[e])&&void 0!==t?t:b}},y=e=>{let{children:t,color:r="default",style:a,...s}=e,l={...x(r),...a};return(0,n.jsx)("div",{...s,style:l,children:t})};r("2784");let g=e=>{let{onClick:t}=e;return(0,n.jsx)(s.VmN,{header:"Ошибка при загрузке",action:(0,n.jsxs)(s.hE2,{mode:"vertical",align:"center",children:[t&&(0,n.jsx)(s.zxk,{size:"s",onClick:()=>t(),children:"Попробовать снова"}),(0,n.jsx)(s.rUS,{href:"https://vk.me/diary_spo",target:"_blank",children:"Сообщить о проблеме"})]})})}},5905:function(e,t,r){r.d(t,{H:()=>o,M:()=>l});var n=r("2784");let a=e=>{let{initialState:t}=e,r={state:t,setState:e=>{for(let t of(r.state=e,r.listeners))t()},getState:()=>r.state,listeners:new Set,subscribe:e=>(r.listeners.add(e),()=>{r.listeners.delete(e)})};return r},s=a({initialState:{lessonName:"sat",data:{topic:"",mark:"",type:"",isRequired:!1,id:1,attachments:[]}}}),l=()=>({modalData:(0,n.useSyncExternalStore)(s.subscribe,s.getState),setData:e=>s.setState(e)}),i=a({initialState:void 0}),o=()=>({modal:(0,n.useSyncExternalStore)(i.subscribe,i.getState),setData:e=>i.setState(e)})}}]);